---
description: NETECMT Master Workflow - Project Type & Methodology Enforcement
globs: **/*
alwaysApply: true
---

# üîÑ NETECMT Master Workflow - OS v2.0

**Triggers de Invoca√ß√£o**: Use `/iuran` (PM), `/athos` (Arch), `/leticia` (SM), `/darllyson` (Dev), ou `/ps` (Party Mode).

Esta regra garante que todos os agentes sigam o ciclo de vida correto do projeto (BMM-OS) e respeitem as travas de seguran√ßa baseadas no tipo de projeto.

## üöÄ 1. Identifica√ß√£o de Cen√°rio (Obrigat√≥rio)
Sempre que uma nova tarefa for iniciada, voc√™ deve primeiro ler `@_netecmt/core/config.yaml` para identificar o `project_type`.

### üü¢ A. GREENFIELD (Projeto Novo)
- **Fluxo Geral**: Discovery (Opcional) ‚Üí PRD (Iuran) ‚Üí Architecture (Athos) ‚Üí SM (Leticia) ‚Üí Dev (Darllyson).
- **Liberdade**: Inicie diretamente no Iuran (`prd create`) se a ideia estiver clara.

### üü† B. BROWNFIELD (Projeto Legado/Existente)
- **BLOQUEIO CR√çTICO**: NUNCA inicie o planejamento (PRD) sem antes documentar o legado.
- **Passo Anti-Erro (1)**: Verifique se existe `@_netecmt/project-context.md`. A√ß√£o: `netecmt project document`.
- **Passo Anti-Erro (2)**: Realize o mapeamento de MCPs/CLIs em `@_netecmt/docs/tools/`.

## üèóÔ∏è 2. O Ciclo de Vida (BMM-OS)
N√£o importa o projeto, as etapas s√£o sequenciais:

1.  **Explora√ß√£o**: Wilder (Brainstorming/Brief).
2.  **Mapeamento Tecnol√≥gico**: Monara (Invent√°rio de MCPs/CLIs e Docs de Libera√ß√£o).
3.  **Defini√ß√£o**: Iuran (PRD Formal).
4.  **Desenho**: Athos (Arquitetura) + Victor/Beto (UX/UI).
5.  **Prepara√ß√£o**: Leticia (Sprint Planning & Story Packing).
6.  **Execu√ß√£o**: Darllyson (Implementa√ß√£o Guiada por Contratos e Leitura de Docs de Ferramentas).

## üõë 3. Leis Inquebr√°veis (The Council's Gates)
- **Read Before Run**: √â proibido usar qualquer MCP ou CLI sem ler o guia em `_netecmt/docs/tools/`.
- **CONTEXT7 Protocol**: Sempre utilize o MCP `CONTEXT7` ao ser solicitado contexto total do projeto ou durante sess√µes de **Party Mode**.
- **Zero Code Without Story**: NUNCA pe√ßa ou execute c√≥digo sem uma story em estado `ready` no pack.
- **Contract First**: Mudan√ßas na arquitetura exigem atualiza√ß√£o pr√©via no `contract-map.yaml`.
- **No Global Context**: Desenvolvedores n√£o devem ler o projeto inteiro, apenas o pacote da Story.

## üìã 4. Diagn√≥stico de Pr√≥ximo Passo
Se o usu√°rio estiver perdido, use o comando:
- **`WS` ou `workflow-status`**: Para ler o estado atual e sugerir o pr√≥ximo agente e comando CLI.
