(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,987444,e=>{"use strict";var a=e.i(430459),t=e.i(255006);function l({className:e,type:l,...s}){return(0,a.jsx)("input",{type:l,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>l])},602851,e=>{"use strict";let a=(0,e.i(946089).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>a],602851)},151763,e=>{"use strict";let a=(0,e.i(946089).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>a],151763)},888660,e=>{"use strict";let a=(0,e.i(946089).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>a],888660)},182492,e=>{"use strict";let a=(0,e.i(946089).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>a],182492)},389541,e=>{"use strict";let a=(0,e.i(946089).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>a],389541)},505207,e=>{"use strict";let a=(0,e.i(946089).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>a],505207)},249197,e=>{"use strict";var a=e.i(430459),t=e.i(833145),l=e.i(58333),s=e.i(533763),i=e.i(615090),r=e.i(282956),n=e.i(749442),c=e.i(54203),d=e.i(987444),o=e.i(188645),m=e.i(908773),x=e.i(860205),u=e.i(602851),p=e.i(651752),h=e.i(505207),b=e.i(151763),g=e.i(182492),f=e.i(557354),v=e.i(888660),j=e.i(143957),y=e.i(389541),w=e.i(255006);let N={leads:{label:"Leads",icon:u.Users,color:"text-blue-400",bg:"bg-blue-500/10"},sales:{label:"Vendas",icon:f.TrendingUp,color:"text-emerald-400",bg:"bg-emerald-500/10"},calls:{label:"Calls",icon:p.Zap,color:"text-amber-400",bg:"bg-amber-500/10"},retention:{label:"Retenção",icon:x.Target,color:"text-purple-400",bg:"bg-purple-500/10"}},z=[{id:"all",label:"Todos"},{id:"leads",label:"Leads"},{id:"sales",label:"Vendas"},{id:"calls",label:"Calls"},{id:"retention",label:"Retenção"}];function k({template:e,onUse:t}){let l=N[e.metadata?.objective]||{label:"Funil",icon:x.Target,color:"text-zinc-400",bg:"bg-zinc-800/50"},s=e.metadata,r=s?.scorecard,n=s?.stages||0;return(0,a.jsxs)(i.motion.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"card-premium p-6 hover:border-emerald-500/30 transition-all group flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:(0,w.cn)("flex h-12 w-12 items-center justify-center rounded-xl border border-white/[0.05] text-xl",l.bg),children:(0,a.jsx)(l.icon,{className:(0,w.cn)("h-6 w-6",l.color)})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h3",{className:"font-bold text-white group-hover:text-emerald-400 transition-colors truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold tracking-widest text-zinc-500",children:[(0,a.jsx)("span",{className:l.color,children:l.label}),e.metadata?.vertical&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"opacity-30",children:"•"}),(0,a.jsx)("span",{className:"truncate",children:e.metadata.vertical})]})]})]})]}),r&&(0,a.jsxs)("div",{className:(0,w.cn)("flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold border border-white/[0.02]",r.overall>=7.5?"bg-emerald-500/10 text-emerald-400":r.overall>=6?"bg-amber-500/10 text-amber-400":"bg-zinc-500/10 text-zinc-400"),children:[(0,a.jsx)(h.Star,{className:"h-3 w-3 fill-current"}),r.overall.toFixed(1)]})]}),(0,a.jsx)("p",{className:"text-sm text-zinc-400 mb-6 line-clamp-2 leading-relaxed flex-1",children:e.description}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.02] border border-white/[0.04]",children:[(0,a.jsx)(g.Layers,{className:"h-3.5 w-3.5 text-zinc-500"}),(0,a.jsxs)("span",{className:"text-xs text-zinc-300 font-medium",children:[n," etapas"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.02] border border-white/[0.04]",children:[(0,a.jsx)(b.Copy,{className:"h-3.5 w-3.5 text-zinc-500"}),(0,a.jsxs)("span",{className:"text-xs text-zinc-300 font-medium",children:[e.usageCount,"x usado"]})]})]}),e.metadata?.tags&&e.metadata.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-6",children:e.metadata.tags.slice(0,3).map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-zinc-800/50 rounded text-[9px] uppercase font-bold tracking-tighter text-zinc-500",children:e},t))}),(0,a.jsxs)(c.Button,{onClick:t,className:"w-full btn-accent h-10 group/btn shadow-lg shadow-emerald-500/10",children:[(0,a.jsx)(j.Sparkles,{className:"mr-2 h-4 w-4 transition-transform group-hover/btn:scale-110"}),"Usar Template"]})]})}function C(){return(0,a.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-premium p-12 text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-zinc-800/50 mb-6",children:(0,a.jsx)(y.FolderOpen,{className:"h-10 w-10 text-zinc-600"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Biblioteca Vazia"}),(0,a.jsx)("p",{className:"text-zinc-400 mb-6 max-w-md mx-auto",children:"Você ainda não salvou nenhum template. Crie um funil, aprove uma proposta e salve na biblioteca para reutilizar no futuro."}),(0,a.jsx)(s.default,{href:"/funnels/new",children:(0,a.jsxs)(c.Button,{className:"btn-accent",children:[(0,a.jsx)(x.Target,{className:"mr-2 h-4 w-4"}),"Criar Primeiro Funil"]})})]})}function L(){let e=(0,l.useRouter)(),[h,b]=(0,t.useState)([]),[g,y]=(0,t.useState)(!0),[N,L]=(0,t.useState)(""),[T,S]=(0,t.useState)("all");(0,t.useEffect)(()=>{B()},[]);let B=async()=>{try{y(!0);let e=await fetch("/api/library"),a=await e.json();b(a.templates||[])}catch(e){console.error("Error loading templates:",e)}finally{y(!1)}},U=h.filter(e=>{let a=!N||e.name.toLowerCase().includes(N.toLowerCase())||e.description?.toLowerCase().includes(N.toLowerCase()),t="all"===T||e.metadata?.objective===T;return a&&t}),A={total:h.length,leads:h.filter(e=>e.metadata?.objective==="leads").length,sales:h.filter(e=>e.metadata?.objective==="sales").length,calls:h.filter(e=>e.metadata?.objective==="calls").length,retention:h.filter(e=>e.metadata?.objective==="retention").length};return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(n.Header,{title:"Biblioteca",subtitle:"Templates de funis aprovados",actions:(0,a.jsx)(s.default,{href:"/funnels/new",children:(0,a.jsxs)(c.Button,{className:"btn-accent",children:[(0,a.jsx)(x.Target,{className:"mr-2 h-4 w-4"}),"Novo Funil"]})})}),(0,a.jsx)("div",{className:"flex-1 p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-10",children:[{label:"Total",value:A.total,icon:o.Library,color:"text-zinc-400",bg:"bg-zinc-500/5"},{label:"Leads",value:A.leads,icon:u.Users,color:"text-blue-400",bg:"bg-blue-500/5"},{label:"Vendas",value:A.sales,icon:f.TrendingUp,color:"text-emerald-400",bg:"bg-emerald-500/5"},{label:"Calls",value:A.calls,icon:p.Zap,color:"text-amber-400",bg:"bg-amber-500/5"},{label:"Retenção",value:A.retention,icon:x.Target,color:"text-purple-400",bg:"bg-purple-500/5"}].map((e,t)=>(0,a.jsxs)("div",{className:(0,w.cn)("card-premium p-4 text-center border-white/[0.03]",e.bg),children:[(0,a.jsx)(e.icon,{className:(0,w.cn)("h-4 w-4 mx-auto mb-3",e.color)}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white tracking-tight",children:e.value}),(0,a.jsx)("div",{className:"text-[10px] uppercase font-bold tracking-widest text-zinc-500 mt-1",children:e.label})]},e.label))}),(0,a.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(m.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500"}),(0,a.jsx)(d.Input,{value:N,onChange:e=>L(e.target.value),placeholder:"Buscar templates...",className:"pl-10 input-premium"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 sm:pb-0",children:z.map(e=>(0,a.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>S(e.id),className:(0,w.cn)("whitespace-nowrap",T===e.id?"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20":"text-zinc-400 hover:text-white"),children:e.label},e.id))})]}),g?(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>(0,a.jsxs)("div",{className:"card-premium p-5 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-xl bg-zinc-800"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-4 w-32 bg-zinc-800 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 w-24 bg-zinc-800 rounded"})]})]}),(0,a.jsx)("div",{className:"h-3 w-full bg-zinc-800 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 w-3/4 bg-zinc-800 rounded mb-4"}),(0,a.jsx)("div",{className:"h-10 w-full bg-zinc-800 rounded"})]},e))}):0===U.length?(0,a.jsx)(C,{}):(0,a.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:(0,a.jsx)(r.AnimatePresence,{mode:"popLayout",children:U.map((t,l)=>(0,a.jsx)(k,{template:t,onUse:()=>{let a;return a=new URLSearchParams({templateId:t.id,name:t.name}),void e.push(`/funnels/new?${a.toString()}`)}},t.id))})}),h.length>0&&h.length<3&&(0,a.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-12 card-premium p-8 text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-2xl bg-emerald-500/10 mb-4",children:(0,a.jsx)(j.Sparkles,{className:"h-7 w-7 text-emerald-400"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Cresça sua biblioteca"}),(0,a.jsx)("p",{className:"text-zinc-400 mb-6 max-w-md mx-auto",children:"Cada funil aprovado pode virar um template. Quanto mais templates, mais rápido você cria novos funis no futuro."}),(0,a.jsx)(s.default,{href:"/funnels",children:(0,a.jsxs)(c.Button,{variant:"outline",className:"btn-ghost",children:["Ver Funis Aprovados",(0,a.jsx)(v.ArrowRight,{className:"ml-2 h-4 w-4"})]})})]})]})})]})}e.s(["default",()=>L])}]);