(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,602851,e=>{"use strict";let t=(0,e.i(946089).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],602851)},151999,e=>{"use strict";let t=(0,e.i(946089).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],151999)},170606,e=>{"use strict";let t=(0,e.i(946089).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],170606)},24124,e=>{"use strict";let t=(0,e.i(946089).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],24124)},361608,e=>{"use strict";var t=e.i(430459),s=e.i(833145),a=e.i(58333),i=e.i(615090);e.i(240925);var l=e.i(977031),n=e.i(597482),c=e.i(24124),r=e.i(860205),d=e.i(602851),x=e.i(170606),m=e.i(91435),o=e.i(151999),h=e.i(651752),p=e.i(255006);function u(){let e=(0,a.useParams)().token,[u,j]=(0,s.useState)(null),[y,v]=(0,s.useState)([]),[f,g]=(0,s.useState)(!0),[N,b]=(0,s.useState)(null);return((0,s.useEffect)(()=>{async function t(){try{let t=(0,l.collection)(n.db,"funnels"),s=(0,l.query)(t,(0,l.where)("sharing.token","==",e)),a=await (0,l.getDocs)(s);if(a.empty){b("Link inválido ou expirado"),g(!1);return}let i=a.docs[0],c={id:i.id,...i.data()};if(!c.sharing?.enabled){b("Compartilhamento desativado"),g(!1);return}if(c.sharing.expiresAt&&c.sharing.expiresAt.toDate()<new Date){b("Link expirado"),g(!1);return}j(c);let r=(0,l.collection)(n.db,"funnels",i.id,"proposals"),d=(await (0,l.getDocs)(r)).docs.map(e=>({id:e.id,...e.data()}));v(d.sort((e,t)=>(e.version||0)-(t.version||0)))}catch(e){console.error("Error loading shared funnel:",e),b("Erro ao carregar funil")}finally{g(!1)}}e&&t()},[e]),f)?(0,t.jsx)("div",{className:"min-h-screen bg-[#09090b] flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-pulse text-zinc-500",children:"Carregando..."})}):N?(0,t.jsx)("div",{className:"min-h-screen bg-[#09090b] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(c.Lock,{className:"h-12 w-12 text-zinc-600 mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-xl font-bold text-white mb-2",children:N}),(0,t.jsx)("p",{className:"text-zinc-500",children:"Este link não está disponível."})]})}):u?(0,t.jsxs)("div",{className:"min-h-screen bg-[#09090b]",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-dot-pattern opacity-20 pointer-events-none"}),(0,t.jsx)("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_60%_40%_at_50%_-10%,rgba(16,185,129,0.06),transparent)] pointer-events-none"}),(0,t.jsxs)("div",{className:"relative max-w-4xl mx-auto px-6 py-12",children:[(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-emerald-400 text-sm mb-2",children:[(0,t.jsx)(h.Zap,{className:"h-4 w-4"}),"Conselho de Funil"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:u.name}),u.context?.objective&&(0,t.jsxs)("p",{className:"text-zinc-400 mt-2",children:["Objetivo: ",u.context.objective]})]}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid gap-4 md:grid-cols-3 mb-8",children:[(0,t.jsxs)("div",{className:"card-premium p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400 text-sm mb-2",children:[(0,t.jsx)(r.Target,{className:"h-4 w-4"}),"Objetivo"]}),(0,t.jsx)("p",{className:"text-white font-medium capitalize",children:u.context.objective})]}),(0,t.jsxs)("div",{className:"card-premium p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400 text-sm mb-2",children:[(0,t.jsx)(d.Users,{className:"h-4 w-4"}),"Audiência"]}),(0,t.jsx)("p",{className:"text-white font-medium",children:u.context.audience.who})]}),(0,t.jsxs)("div",{className:"card-premium p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400 text-sm mb-2",children:[(0,t.jsx)(x.DollarSign,{className:"h-4 w-4"}),"Ticket"]}),(0,t.jsx)("p",{className:"text-white font-medium",children:u.context.offer.ticket})]})]}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"h-5 w-5 text-emerald-400"}),"Propostas do Conselho"]}),(0,t.jsx)("div",{className:"space-y-4",children:y.map((e,s)=>{let a=e.scorecard,l=a?.overall||0;return(0,t.jsx)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+.1*s},className:"card-premium p-5",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:(0,p.cn)("flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl",l>=7.5?"bg-emerald-500/10":l>=6?"bg-amber-500/10":"bg-red-500/10"),children:(0,t.jsx)("span",{className:(0,p.cn)("text-lg font-bold",l>=7.5?"text-emerald-400":l>=6?"text-amber-400":"text-red-400"),children:l.toFixed(1)})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-white",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-zinc-500 bg-zinc-800 px-2 py-0.5 rounded",children:["v",e.version||1]}),"selected"===e.status&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded",children:[(0,t.jsx)(m.CheckCircle2,{className:"h-3 w-3"}),"Aprovada"]})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-400 mt-1",children:e.summary}),e.architecture?.stages&&e.architecture.stages.length>0&&(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.architecture.stages.slice(0,5).map((e,s)=>(0,t.jsx)("span",{className:"text-xs bg-zinc-800/50 text-zinc-400 px-2 py-1 rounded",children:e.name},s)),e.architecture.stages.length>5&&(0,t.jsxs)("span",{className:"text-xs text-zinc-500",children:["+",e.architecture.stages.length-5," mais"]})]})]})]})},e.id)})})]}),(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12 pt-6 border-t border-zinc-800 text-center text-zinc-500 text-sm",children:(0,t.jsxs)("p",{children:["Compartilhado via ",(0,t.jsx)("span",{className:"text-emerald-400",children:"Conselho de Funil"})]})})]})]}):null}e.s(["default",()=>u])}]);