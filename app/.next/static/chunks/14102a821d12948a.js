(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,387541,e=>{"use strict";let t=(0,e.i(946089).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],387541)},854184,e=>{"use strict";let t=(0,e.i(946089).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],854184)},201935,e=>{"use strict";let t=(0,e.i(946089).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],201935)},20049,e=>{"use strict";let t=(0,e.i(946089).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],20049)},749442,989945,790548,e=>{"use strict";var t=e.i(430459),r=e.i(58333),n=e.i(615090),s=e.i(387541),i=e.i(255006),l=e.i(833145),a=e.i(282956),o=e.i(634697),c=e.i(186855),d=e.i(20049),u=e.i(454682),f=e.i(143957),p=e.i(416493),h=e.i(898812);function m(){let{user:e}=(0,p.useAuthStore)(),[t,r]=(0,l.useState)([]),[n,s]=(0,l.useState)(!0),[i,a]=(0,l.useState)(null),o=async()=>{if(!e){r([]),s(!1);return}try{s(!0);let t=await (0,h.getUserBrands)(e.uid);r(t),a(null)}catch(e){console.error("Error loading brands:",e),a("Erro ao carregar marcas")}finally{s(!1)}};return(0,l.useEffect)(()=>{o()},[e]),{brands:t,isLoading:n,error:i,create:async t=>{if(!e)throw Error("User not authenticated");let r=await (0,h.createBrand)({...t,userId:e.uid});return await o(),r},update:async(e,t)=>{await (0,h.updateBrand)(e,t),await o()},remove:async e=>{await (0,h.deleteBrand)(e),await o()},getById:async e=>await (0,h.getBrand)(e),refresh:o}}e.s(["useBrands",()=>m],989945);var x=e.i(249454),v=e.i(54203);function w(){let e=(0,r.useRouter)(),s=m(),p=s?.brands||[],h=s?.isLoading,w=(0,x.useBrandStore)(),y=w?.selectedBrand,b=w?.setSelectedBrand,[g,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{y||!(p.length>0)||h||b(p[0])},[p,y,h,b]);let N=()=>{j(!1),e.push("/brands/new")};return h?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/[0.06]",children:[(0,t.jsx)("div",{className:"h-4 w-4 rounded bg-zinc-700 animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-24 rounded bg-zinc-700 animate-pulse"})]}):0===p.length?(0,t.jsxs)(v.Button,{onClick:N,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,t.jsx)(d.Plus,{className:"h-4 w-4 mr-2"}),"Criar Primeira Marca"]}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>j(!g),className:(0,i.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all","bg-white/[0.03] border border-white/[0.06]","hover:bg-white/[0.06] hover:border-white/[0.1]",g&&"bg-white/[0.06] border-white/[0.1]"),children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded bg-gradient-to-br from-emerald-500 to-blue-600",children:(0,t.jsx)(u.Building2,{className:"h-3.5 w-3.5 text-white"})}),(0,t.jsxs)("div",{className:"hidden sm:flex flex-col items-start",children:[(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"Marca"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white truncate max-w-[120px]",children:y?.name||"Selecione"})]}),(0,t.jsx)(c.ChevronDown,{className:(0,i.cn)("h-4 w-4 text-zinc-500 transition-transform",g&&"rotate-180")})]}),(0,t.jsx)(a.AnimatePresence,{children:g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>j(!1)}),(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-72 z-50 rounded-xl border border-white/[0.06] bg-zinc-900 shadow-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-3 border-b border-white/[0.06]",children:(0,t.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider font-medium",children:"Suas Marcas"})}),(0,t.jsx)("div",{className:"max-h-[320px] overflow-y-auto py-2",children:p.map(e=>(0,t.jsxs)("button",{onClick:()=>{var t;let r;return t=e.id,void((r=p.find(e=>e.id===t))&&(b(r),j(!1)))},className:(0,i.cn)("w-full px-4 py-3 flex items-start gap-3 transition-colors","hover:bg-white/[0.04]",y?.id===e.id&&"bg-emerald-500/5"),children:[(0,t.jsx)("div",{className:(0,i.cn)("flex h-10 w-10 shrink-0 items-center justify-center rounded-lg",y?.id===e.id?"bg-gradient-to-br from-emerald-500 to-blue-600":"bg-white/[0.06]"),children:(0,t.jsx)(u.Building2,{className:(0,i.cn)("h-5 w-5",y?.id===e.id?"text-white":"text-zinc-400")})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:(0,i.cn)("font-medium",y?.id===e.id?"text-emerald-400":"text-white"),children:e.name}),y?.id===e.id&&(0,t.jsx)(o.Check,{className:"h-4 w-4 text-emerald-400"})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 mt-0.5",children:e.vertical})]})]},e.id))}),(0,t.jsx)("div",{className:"px-2 py-2 border-t border-white/[0.06]",children:(0,t.jsxs)("button",{onClick:N,className:"w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium text-emerald-400 hover:bg-emerald-500/10 transition-colors",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-500/10",children:(0,t.jsx)(d.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("span",{children:"Nova Marca"}),(0,t.jsx)(f.Sparkles,{className:"h-3.5 w-3.5 ml-auto"})]})})]})]})})]})}var y=e.i(595862);e.s(["ChevronRight",()=>y.default],790548);var y=y,b=e.i(854184),g=e.i(201935),j=e.i(860205),N=e.i(371352),k=e.i(121849);let C=(0,N.create)()((0,k.persist)(e=>({currentScope:{level:"universal"},names:{},setScope:(t,r={})=>e({currentScope:t,names:r}),setBrandScope:(t,r)=>e({currentScope:{level:"brand",brandId:t},names:{brand:r}}),setFunnelScope:(t,r,n,s)=>e(e=>({currentScope:{level:"funnel",brandId:t,funnelId:r},names:{...e.names,brand:s||e.names.brand,funnel:n}})),setCampaignScope:(t,r,n,s,i,l)=>e(e=>({currentScope:{level:"campaign",brandId:t,funnelId:r,campaignId:n},names:{...e.names,brand:l||e.names.brand,funnel:i||e.names.funnel,campaign:s}})),clearScope:()=>e({currentScope:{level:"universal"},names:{}})}),{name:"context-storage"}));var R=e.i(79556);function S(){let{currentScope:e,names:r,setScope:n}=C(),s=(e,r,n,s)=>e||"universal"===n?(0,t.jsxs)("div",{className:"flex items-center",children:["universal"!==n&&(0,t.jsx)(y.default,{className:"h-3.5 w-3.5 text-zinc-600 mx-1"}),(0,t.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1.5 px-2 py-1 rounded-md transition-colors",s?"bg-white/[0.06] text-white":"text-zinc-500 hover:text-zinc-300 hover:bg-white/[0.03]"),children:[r,(0,t.jsx)("span",{className:"text-xs font-medium truncate max-w-[120px]",children:e||"Universal"})]})]}):null;return(0,t.jsxs)("div",{className:"flex items-center bg-zinc-950/50 border border-white/[0.04] rounded-lg px-1.5 py-1",children:[s("Universal",(0,t.jsx)(b.Globe,{className:"h-3 w-3"}),"universal","universal"===e.level),r.brand&&s(r.brand,(0,t.jsx)(u.Building2,{className:"h-3 w-3"}),"brand","brand"===e.level),r.funnel&&s(r.funnel,(0,t.jsx)(g.Filter,{className:"h-3 w-3"}),"funnel","funnel"===e.level),r.campaign&&s(r.campaign,(0,t.jsx)(j.Target,{className:"h-3 w-3"}),"campaign","campaign"===e.level),(0,t.jsxs)(R.DropdownMenu,{children:[(0,t.jsx)(R.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)("button",{className:"ml-1 p-1 hover:bg-white/[0.05] rounded-md transition-colors",children:(0,t.jsx)(c.ChevronDown,{className:"h-3 w-3 text-zinc-500"})})}),(0,t.jsxs)(R.DropdownMenuContent,{align:"end",className:"w-56 bg-zinc-900 border-white/[0.06]",children:[(0,t.jsx)(R.DropdownMenuLabel,{className:"text-[10px] uppercase tracking-widest text-zinc-500",children:"Escopo de Dados Ativo"}),(0,t.jsx)(R.DropdownMenuSeparator,{className:"bg-white/[0.06]"}),(0,t.jsxs)(R.DropdownMenuItem,{className:"flex items-center gap-2 text-xs py-2.5",onClick:()=>n({level:"universal"},{}),children:[(0,t.jsx)(b.Globe,{className:"h-3.5 w-3.5 text-blue-400"}),(0,t.jsx)("span",{children:"Redefinir para Universal"})]}),r.brand&&(0,t.jsxs)(R.DropdownMenuItem,{className:"flex items-center gap-2 text-xs py-2.5",onClick:()=>n({level:"brand",brandId:e.brandId},{brand:r.brand}),children:[(0,t.jsx)(u.Building2,{className:"h-3.5 w-3.5 text-emerald-400"}),(0,t.jsxs)("span",{children:["Focar na Marca: ",r.brand]})]}),r.funnel&&(0,t.jsxs)(R.DropdownMenuItem,{className:"flex items-center gap-2 text-xs py-2.5",onClick:()=>n({level:"funnel",brandId:e.brandId,funnelId:e.funnelId},{brand:r.brand,funnel:r.funnel}),children:[(0,t.jsx)(g.Filter,{className:"h-3.5 w-3.5 text-purple-400"}),(0,t.jsxs)("span",{children:["Focar no Funil: ",r.funnel]})]})]})]})]})}var A=e.i(373294);function M({title:e,subtitle:l,showBack:a,actions:o,showBrandSelector:c=!0}){let d=(0,r.useRouter)(),u=(0,A.useMobile)();return(0,t.jsxs)("header",{className:(0,i.cn)("sticky top-0 z-30 flex h-16 items-center justify-between border-b border-white/[0.02] bg-background/80 backdrop-blur-xl px-4 sm:px-6"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 flex-1 min-w-0",children:[a&&(0,t.jsx)(n.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d.back(),className:"flex h-9 w-9 items-center justify-center rounded-xl text-zinc-400 hover:text-white hover:bg-white/[0.03] transition-colors flex-shrink-0 border border-white/[0.04]",children:(0,t.jsx)(s.ChevronLeft,{className:"h-5 w-5",strokeWidth:1.5})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1 pl-10 md:pl-0",children:[(0,t.jsx)(n.motion.h1,{className:(0,i.cn)("font-semibold text-white tracking-tight truncate",u?"text-[14px]":"text-base"),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:e}),l&&!u&&(0,t.jsx)(n.motion.p,{className:"text-[10px] text-zinc-500 truncate font-medium uppercase tracking-wider",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:.05},children:l})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0 ml-auto",children:[!u&&(0,t.jsx)(S,{}),c&&(0,t.jsx)(w,{}),o&&(0,t.jsx)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:o})]})]})}e.s(["Header",()=>M],749442)},898812,e=>{"use strict";e.i(240925);var t=e.i(977031),r=e.i(597482);async function n(e){let n=t.Timestamp.now();return(await (0,t.addDoc)((0,t.collection)(r.db,"brands"),{...e,createdAt:n,updatedAt:n})).id}async function s(e){let n=(0,t.doc)(r.db,"brands",e),s=await (0,t.getDoc)(n);return s.exists()?{id:s.id,...s.data()}:null}async function i(e){let n=(0,t.query)((0,t.collection)(r.db,"brands"),(0,t.where)("userId","==",e));return(await (0,t.getDocs)(n)).docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>{let r=e.updatedAt?.seconds||0;return(t.updatedAt?.seconds||0)-r})}async function l(e,n){let s=(0,t.doc)(r.db,"brands",e);await (0,t.updateDoc)(s,{...n,updatedAt:t.Timestamp.now()})}async function a(e,n){let s=(0,t.doc)(r.db,"brands",e);await (0,t.updateDoc)(s,{brandKit:n,updatedAt:t.Timestamp.now()})}async function o(e){let n=(0,t.doc)(r.db,"brands",e);await (0,t.deleteDoc)(n)}e.s(["createBrand",()=>n,"deleteBrand",()=>o,"getBrand",()=>s,"getUserBrands",()=>i,"updateBrand",()=>l,"updateBrandKit",()=>a])},184307,e=>{"use strict";var t=e.i(833145);e.i(430459);var r=t.createContext(void 0);function n(e){let n=t.useContext(r);return e||n||"ltr"}e.s(["useDirection",()=>n])},837743,e=>{"use strict";var t=e.i(833145),r=e.i(430459),n=e.i(730042);function s(e){var s;let i,a=(s=e,(i=t.forwardRef((e,r)=>{let{children:s,...i}=e;if(t.isValidElement(s)){var l;let e,a,o=(l=s,(a=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(a=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,s.props);return s.type!==t.Fragment&&(c.ref=r?(0,n.composeRefs)(r,o):o),t.cloneElement(s,c)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${s}.SlotClone`,i),o=t.forwardRef((e,n)=>{let{children:s,...i}=e,o=t.Children.toArray(s),c=o.find(l);if(c){let e=c.props.children,s=o.map(r=>r!==c?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,r.jsx)(a,{...i,ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,r.jsx)(a,{...i,ref:n,children:s})});return o.displayName=`${e}.Slot`,o}var i=Symbol("radix.slottable");function l(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}function a(e){let i=e+"CollectionProvider",[l,a]=function(e,n=[]){let s=[],i=()=>{let r=s.map(e=>t.createContext(e));return function(n){let s=n?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return i.scopeName=e,[function(n,i){let l=t.createContext(i),a=s.length;s=[...s,i];let o=n=>{let{scope:s,children:i,...o}=n,c=s?.[e]?.[a]||l,d=t.useMemo(()=>o,Object.values(o));return(0,r.jsx)(c.Provider,{value:d,children:i})};return o.displayName=n+"Provider",[o,function(r,s){let o=s?.[e]?.[a]||l,c=t.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${n}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return n.scopeName=r.scopeName,n}(i,...n)]}(i),[o,c]=l(i,{collectionRef:{current:null},itemMap:new Map}),d=e=>{let{scope:n,children:s}=e,i=t.default.useRef(null),l=t.default.useRef(new Map).current;return(0,r.jsx)(o,{scope:n,itemMap:l,collectionRef:i,children:s})};d.displayName=i;let u=e+"CollectionSlot",f=s(u),p=t.default.forwardRef((e,t)=>{let{scope:s,children:i}=e,l=c(u,s),a=(0,n.useComposedRefs)(t,l.collectionRef);return(0,r.jsx)(f,{ref:a,children:i})});p.displayName=u;let h=e+"CollectionItemSlot",m="data-radix-collection-item",x=s(h),v=t.default.forwardRef((e,s)=>{let{scope:i,children:l,...a}=e,o=t.default.useRef(null),d=(0,n.useComposedRefs)(s,o),u=c(h,i);return t.default.useEffect(()=>(u.itemMap.set(o,{ref:o,...a}),()=>void u.itemMap.delete(o))),(0,r.jsx)(x,{...{[m]:""},ref:d,children:l})});return v.displayName=h,[{Provider:d,Slot:p,ItemSlot:v},function(r){let n=c(e+"CollectionConsumer",r);return t.default.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(n.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[n.collectionRef,n.itemMap])},a]}var o=new WeakMap;function c(e,t){var r,n;let s,i,l;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let a=(r=e,n=t,s=r.length,(l=(i=d(n))>=0?i:s+i)<0||l>=s?-1:l);return -1===a?void 0:e[a]}function d(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],o.set(this,!0)}set(e,t){return o.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let n,s=this.has(t),i=this.#e.length,l=d(e),a=l>=0?l:i+l,o=a<0||a>=i?-1:a;if(o===this.size||s&&o===this.size-1||-1===o)return this.set(t,r),this;let c=this.size+ +!s;l<0&&a++;let u=[...this.#e],f=!1;for(let e=a;e<c;e++)if(a===e){let i=u[e];u[e]===t&&(i=u[e+1]),s&&this.delete(t),n=this.get(i),this.set(t,r)}else{f||u[e-1]!==t||(f=!0);let r=u[f?e:e-1],s=n;n=this.get(r),this.delete(r),this.set(r,s)}return this}with(t,r,n){let s=new e(this);return s.insert(t,r,n),s}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=c(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=c(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return c(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.at(n)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.keyAt(n)}find(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return n;r++}}findIndex(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return r;r++}return -1}filter(t,r){let n=[],s=0;for(let e of this)Reflect.apply(t,r,[e,s,this])&&n.push(e),s++;return new e(n)}map(t,r){let n=[],s=0;for(let e of this)n.push([e[0],Reflect.apply(t,r,[e,s,this])]),s++;return new e(n)}reduce(...e){let[t,r]=e,n=0,s=r??this.at(0);for(let r of this)s=0===n&&1===e.length?r:Reflect.apply(t,this,[s,r,n,this]),n++;return s}reduceRight(...e){let[t,r]=e,n=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let s=this.at(r);n=r===this.size-1&&1===e.length?s:Reflect.apply(t,this,[n,s,r,this])}return n}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),n=this.get(r);t.set(r,n)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let n=new e,s=this.size-1;if(void 0===t)return n;t<0&&(t+=this.size),void 0!==r&&r>0&&(s=r-1);for(let e=t;e<=s;e++){let t=this.keyAt(e),r=this.get(t);n.set(t,r)}return n}every(e,t){let r=0;for(let n of this){if(!Reflect.apply(e,t,[n,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return!0;r++}return!1}}),e.s(["createCollection",()=>a],837743)},515330,e=>{"use strict";var t=e.i(833145),r=e.i(603873),n=e.i(837743),s=e.i(730042),i=e.i(430459),l=e.i(643380);e.i(751111);var a=Symbol("radix.slottable");function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var n,l;let a,c,d,u=(l=n=`Primitive.${r}`,(a=t.forwardRef((e,r)=>{let{children:n,...i}=e;if(t.isValidElement(n)){var l;let e,a,o=(l=n,(a=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(a=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,n.props);return n.type!==t.Fragment&&(c.ref=r?(0,s.composeRefs)(r,o):o),t.cloneElement(n,c)}return t.Children.count(n)>1?t.Children.only(null):null})).displayName=`${l}.SlotClone`,c=a,(d=t.forwardRef((e,r)=>{let{children:n,...s}=e,l=t.Children.toArray(n),a=l.find(o);if(a){let e=a.props.children,n=l.map(r=>r!==a?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,i.jsx)(c,{...s,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,i.jsx)(c,{...s,ref:r,children:n})})).displayName=`${n}.Slot`,d),f=t.forwardRef((e,t)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(n?u:r,{...s,ref:t})});return f.displayName=`Primitive.${r}`,{...e,[r]:f}},{}),d=e.i(607824),u=e.i(261698),f=e.i(184307),p="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},m="RovingFocusGroup",[x,v,w]=(0,n.createCollection)(m),[y,b]=function(e,r=[]){let n=[],s=()=>{let r=n.map(e=>t.createContext(e));return function(n){let s=n?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return s.scopeName=e,[function(r,s){let l=t.createContext(s),a=n.length;n=[...n,s];let o=r=>{let{scope:n,children:s,...o}=r,c=n?.[e]?.[a]||l,d=t.useMemo(()=>o,Object.values(o));return(0,i.jsx)(c.Provider,{value:d,children:s})};return o.displayName=r+"Provider",[o,function(n,i){let o=i?.[e]?.[a]||l,c=t.useContext(o);if(c)return c;if(void 0!==s)return s;throw Error(`\`${n}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return n.scopeName=r.scopeName,n}(s,...r)]}(m,[w]),[g,j]=y(m),N=t.forwardRef((e,t)=>(0,i.jsx)(x.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(x.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(k,{...e,ref:t})})}));N.displayName=m;var k=t.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:l,orientation:a,loop:o=!1,dir:x,currentTabStopId:w,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:b,onEntryFocus:j,preventScrollOnEntryFocus:N=!1,...k}=e,C=t.useRef(null),R=(0,s.useComposedRefs)(n,C),S=(0,f.useDirection)(x),[M,z]=(0,u.useControllableState)({prop:w,defaultProp:y??null,onChange:b,caller:m}),[E,D]=t.useState(!1),I=(0,d.useCallbackRef)(j),B=v(l),F=t.useRef(!1),[O,P]=t.useState(0);return t.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(p,I),()=>e.removeEventListener(p,I)},[I]),(0,i.jsx)(g,{scope:l,orientation:a,dir:S,loop:o,currentTabStopId:M,onItemFocus:t.useCallback(e=>z(e),[z]),onItemShiftTab:t.useCallback(()=>D(!0),[]),onFocusableItemAdd:t.useCallback(()=>P(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>P(e=>e-1),[]),children:(0,i.jsx)(c.div,{tabIndex:E||0===O?-1:0,"data-orientation":a,...k,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(p,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=B().filter(e=>e.focusable);A([e.find(e=>e.active),e.find(e=>e.id===M),...e].filter(Boolean).map(e=>e.ref.current),N)}}F.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>D(!1))})})}),C="RovingFocusGroupItem",R=t.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,focusable:a=!0,active:o=!1,tabStopId:d,children:u,...f}=e,p=(0,l.useId)(),h=d||p,m=j(C,s),w=m.currentTabStopId===h,y=v(s),{onFocusableItemAdd:b,onFocusableItemRemove:g,currentTabStopId:N}=m;return t.useEffect(()=>{if(a)return b(),()=>g()},[a,b,g]),(0,i.jsx)(x.ItemSlot,{scope:s,id:h,focusable:a,active:o,children:(0,i.jsx)(c.span,{tabIndex:w?0:-1,"data-orientation":m.orientation,...f,ref:n,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{a?m.onItemFocus(h):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void m.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let s=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return S[s]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&s.reverse();let i=s.indexOf(e.currentTarget);s=m.loop?(r=s,n=i+1,r.map((e,t)=>r[(n+t)%r.length])):s.slice(i+1)}setTimeout(()=>A(s))}}),children:"function"==typeof u?u({isCurrentTabStop:w,hasTabStop:null!=N}):u})})});R.displayName=C;var S={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>R,"Root",()=>N,"createRovingFocusGroupScope",()=>b],515330)},634697,e=>{"use strict";var t=e.i(660232);e.s(["Check",()=>t.default])}]);