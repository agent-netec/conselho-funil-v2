(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,151999,e=>{"use strict";let t=(0,e.i(946089).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],151999)},151763,e=>{"use strict";let t=(0,e.i(946089).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],151763)},284680,e=>{"use strict";let t=(0,e.i(946089).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],284680)},587975,e=>{"use strict";let t=(0,e.i(946089).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],587975)},362164,374432,e=>{"use strict";let t,s;var a,i=e.i(430459),r=e.i(833145),n=e.i(603873),l=e.i(730042),o=e.i(643380),c=e.i(261698),d=e.i(614099),m=e.i(63751),x=e.i(695330),u=e.i(298802);function p(e){var t;let s,a=(t=e,(s=r.forwardRef((e,t)=>{let{children:s,...a}=e;if(r.isValidElement(s)){var i;let e,n,o=(i=s,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),c=function(e,t){let s={...t};for(let a in t){let i=e[a],r=t[a];/^on[A-Z]/.test(a)?i&&r?s[a]=(...e)=>{let t=r(...e);return i(...e),t}:i&&(s[a]=i):"style"===a?s[a]={...i,...r}:"className"===a&&(s[a]=[i,r].filter(Boolean).join(" "))}return{...e,...s}}(a,s.props);return s.type!==r.Fragment&&(c.ref=t?(0,l.composeRefs)(t,o):o),r.cloneElement(s,c)}return r.Children.count(s)>1?r.Children.only(null):null})).displayName=`${t}.SlotClone`,s),n=r.forwardRef((e,t)=>{let{children:s,...n}=e,l=r.Children.toArray(s),o=l.find(f);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,i.jsx)(a,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,i.jsx)(a,{...n,ref:t,children:s})});return n.displayName=`${e}.Slot`,n}e.i(751111);var h=Symbol("radix.slottable");function f(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}var g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=p(`Primitive.${t}`),a=r.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(r?s:t,{...n,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),j=e.i(865941),y=e.i(140118),v=e.i(661433),b="Dialog",[N,w]=function(e,t=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(s){let a=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return a.scopeName=e,[function(t,a){let n=r.createContext(a),l=s.length;s=[...s,a];let o=t=>{let{scope:s,children:a,...o}=t,c=s?.[e]?.[l]||n,d=r.useMemo(()=>o,Object.values(o));return(0,i.jsx)(c.Provider,{value:d,children:a})};return o.displayName=t+"Provider",[o,function(s,i){let o=i?.[e]?.[l]||n,c=r.useContext(o);if(c)return c;if(void 0!==a)return a;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=s.reduce((t,{useScope:s,scopeName:a})=>{let i=s(e)[`__scope${a}`];return{...t,...i}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}(a,...t)]}(b),[C,z]=N(b),k=e=>{let{__scopeDialog:t,children:s,open:a,defaultOpen:n,onOpenChange:l,modal:d=!0}=e,m=r.useRef(null),x=r.useRef(null),[u,p]=(0,c.useControllableState)({prop:a,defaultProp:n??!1,onChange:l,caller:b});return(0,i.jsx)(C,{scope:t,triggerRef:m,contentRef:x,contentId:(0,o.useId)(),titleId:(0,o.useId)(),descriptionId:(0,o.useId)(),open:u,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:d,children:s})};k.displayName=b;var S="DialogTrigger",D=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=z(S,s),o=(0,l.useComposedRefs)(t,r.triggerRef);return(0,i.jsx)(g.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Z(r.open),...a,ref:o,onClick:(0,n.composeEventHandlers)(e.onClick,r.onOpenToggle)})});D.displayName=S;var E="DialogPortal",[P,O]=N(E,{forceMount:void 0}),R=e=>{let{__scopeDialog:t,forceMount:s,children:a,container:n}=e,l=z(E,t);return(0,i.jsx)(P,{scope:t,forceMount:s,children:r.Children.map(a,e=>(0,i.jsx)(u.Presence,{present:s||l.open,children:(0,i.jsx)(x.Portal,{asChild:!0,container:n,children:e})}))})};R.displayName=E;var I="DialogOverlay",T=r.forwardRef((e,t)=>{let s=O(I,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,n=z(I,e.__scopeDialog);return n.modal?(0,i.jsx)(u.Presence,{present:a||n.open,children:(0,i.jsx)(M,{...r,ref:t})}):null});T.displayName=I;var _=p("DialogOverlay.RemoveScroll"),M=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=z(I,s);return(0,i.jsx)(y.RemoveScroll,{as:_,allowPinchZoom:!0,shards:[r.contentRef],children:(0,i.jsx)(g.div,{"data-state":Z(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),F="DialogContent",A=r.forwardRef((e,t)=>{let s=O(F,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,n=z(F,e.__scopeDialog);return(0,i.jsx)(u.Presence,{present:a||n.open,children:n.modal?(0,i.jsx)(H,{...r,ref:t}):(0,i.jsx)($,{...r,ref:t})})});A.displayName=F;var H=r.forwardRef((e,t)=>{let s=z(F,e.__scopeDialog),a=r.useRef(null),o=(0,l.useComposedRefs)(t,s.contentRef,a);return r.useEffect(()=>{let e=a.current;if(e)return(0,v.hideOthers)(e)},[]),(0,i.jsx)(L,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),$=r.forwardRef((e,t)=>{let s=z(F,e.__scopeDialog),a=r.useRef(!1),n=r.useRef(!1);return(0,i.jsx)(L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||s.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let i=t.target;s.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),L=r.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,...c}=e,x=z(F,s),u=r.useRef(null),p=(0,l.useComposedRefs)(t,u);return(0,j.useFocusGuards)(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:(0,i.jsx)(d.DismissableLayer,{role:"dialog",id:x.contentId,"aria-describedby":x.descriptionId,"aria-labelledby":x.titleId,"data-state":Z(x.open),...c,ref:p,onDismiss:()=>x.onOpenChange(!1)})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X,{titleId:x.titleId}),(0,i.jsx)(Q,{contentRef:u,descriptionId:x.descriptionId})]})]})}),B="DialogTitle",V=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=z(B,s);return(0,i.jsx)(g.h2,{id:r.titleId,...a,ref:t})});V.displayName=B;var q="DialogDescription",U=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=z(q,s);return(0,i.jsx)(g.p,{id:r.descriptionId,...a,ref:t})});U.displayName=q;var Y="DialogClose",W=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=z(Y,s);return(0,i.jsx)(g.button,{type:"button",...a,ref:t,onClick:(0,n.composeEventHandlers)(e.onClick,()=>r.onOpenChange(!1))})});function Z(e){return e?"open":"closed"}W.displayName=Y;var G="DialogTitleWarning",[K,J]=(a={contentName:F,titleName:B,docsSlug:"dialog"},t=r.createContext(a),(s=e=>{let{children:s,...a}=e,n=r.useMemo(()=>a,Object.values(a));return(0,i.jsx)(t.Provider,{value:n,children:s})}).displayName=G+"Provider",[s,function(e){let s=r.useContext(t);if(s)return s;if(void 0!==a)return a;throw Error(`\`${e}\` must be used within \`${G}\``)}]),X=({titleId:e})=>{let t=J(G),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Q=({contentRef:e,descriptionId:t})=>{let s=J("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return r.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null};e.s(["Close",()=>W,"Content",()=>A,"Description",()=>U,"Overlay",()=>T,"Portal",()=>R,"Root",()=>k,"Title",()=>V,"Trigger",()=>D],374432);var ee=e.i(152963),ee=ee,et=e.i(255006);function es({...e}){return(0,i.jsx)(k,{"data-slot":"dialog",...e})}function ea({...e}){return(0,i.jsx)(D,{"data-slot":"dialog-trigger",...e})}function ei({...e}){return(0,i.jsx)(R,{"data-slot":"dialog-portal",...e})}function er({className:e,...t}){return(0,i.jsx)(T,{"data-slot":"dialog-overlay",className:(0,et.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function en({className:e,children:t,showCloseButton:s=!0,...a}){return(0,i.jsxs)(ei,{"data-slot":"dialog-portal",children:[(0,i.jsx)(er,{}),(0,i.jsxs)(A,{"data-slot":"dialog-content",className:(0,et.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...a,children:[t,s&&(0,i.jsxs)(W,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,i.jsx)(ee.default,{}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function el({className:e,...t}){return(0,i.jsx)("div",{"data-slot":"dialog-header",className:(0,et.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function eo({className:e,...t}){return(0,i.jsx)("div",{"data-slot":"dialog-footer",className:(0,et.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ec({className:e,...t}){return(0,i.jsx)(V,{"data-slot":"dialog-title",className:(0,et.cn)("text-lg leading-none font-semibold",e),...t})}function ed({className:e,...t}){return(0,i.jsx)(U,{"data-slot":"dialog-description",className:(0,et.cn)("text-muted-foreground text-sm",e),...t})}e.s(["Dialog",()=>es,"DialogContent",()=>en,"DialogDescription",()=>ed,"DialogFooter",()=>eo,"DialogHeader",()=>el,"DialogTitle",()=>ec,"DialogTrigger",()=>ea],362164)},170606,e=>{"use strict";let t=(0,e.i(946089).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],170606)},805239,e=>{"use strict";let t=(0,e.i(946089).default)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);e.s(["Layout",()=>t],805239)},6439,e=>{"use strict";let t=(0,e.i(946089).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],6439)},325056,e=>{"use strict";let t=(0,e.i(946089).default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);e.s(["Video",()=>t],325056)},213439,e=>{"use strict";let t=(0,e.i(946089).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit3",()=>t],213439)},426823,e=>{"use strict";let t=(0,e.i(946089).default)("thumbs-up",[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]]);e.s(["ThumbsUp",()=>t],426823)},95897,e=>{"use strict";var t=e.i(430459),s=e.i(833145),a=e.i(58333),i=e.i(615090),r=e.i(282956),n=e.i(533763);e.i(240925);var l=e.i(977031),o=e.i(597482),c=e.i(749442),d=e.i(54203),m=e.i(284680),x=e.i(587975),u=e.i(143957),p=e.i(91435),h=e.i(360619),f=e.i(151999),g=e.i(6439),j=e.i(170606),y=e.i(325056),v=e.i(263838),b=e.i(805239),N=e.i(186855),w=e.i(790548),C=e.i(860205),z=e.i(426823);let k=(0,e.i(946089).default)("thumbs-down",[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]]);var S=e.i(213439),D=e.i(151763),E=e.i(634697),P=e.i(82238),O=e.i(255006),R=e.i(224989),I=e.i(416493),T=e.i(185629),_=e.i(720715),M=e.i(362164),F=e.i(290876);let A={headline:f.FileText,email_sequence:g.Mail,offer_copy:j.DollarSign,vsl_script:y.Video,ad_creative:v.Megaphone,landing_page:b.Layout};function H({scorecard:e}){let s=e=>e>=8?"text-emerald-400":e>=6?"text-amber-400":"text-red-400";return(0,t.jsxs)("div",{className:"space-y-2",children:[[{key:"headlines",label:"Headlines",weight:"20%"},{key:"structure",label:"Estrutura",weight:"20%"},{key:"benefits",label:"BenefÃ­cios",weight:"20%"},{key:"offer",label:"Oferta",weight:"20%"},{key:"proof",label:"Prova",weight:"20%"}].map(a=>{let r=e[a.key];return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-zinc-400",children:a.label}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-20 h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)(i.motion.div,{initial:{width:0},animate:{width:`${10*r}%`},className:(0,O.cn)("h-full rounded-full",r>=8?"bg-emerald-500":r>=6?"bg-amber-500":"bg-red-500")})}),(0,t.jsx)("span",{className:(0,O.cn)("font-medium",s(r)),children:r.toFixed(1)})]})]},a.key)}),(0,t.jsxs)("div",{className:"pt-2 border-t border-zinc-800 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium text-white",children:"Score Geral"}),(0,t.jsx)("span",{className:(0,O.cn)("text-lg font-bold",s(e.overall)),children:e.overall.toFixed(1)})]})]})}function $({copyProposal:e,onDecision:a,isExpanded:n,onToggle:l}){let[o,c]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),[u,g]=(0,s.useState)(""),j=(0,R.resolveIcon)(A,e.type,f.FileText,"CopyProposal type"),y=_.COPY_TYPES[e.type],v=async()=>{let t=e.content.primary;await navigator.clipboard.writeText(t),c(!0),setTimeout(()=>c(!1),2e3),T.notify.success("Copiado!")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-premium overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 cursor-pointer hover:bg-white/[0.02] transition-colors",onClick:l,children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:(0,O.cn)("flex h-12 w-12 items-center justify-center rounded-xl","approved"===e.status?"bg-emerald-500/10":"rejected"===e.status?"bg-red-500/10":"bg-blue-500/10"),children:(0,t.jsx)(j,{className:(0,O.cn)("h-6 w-6","approved"===e.status?"text-emerald-400":"rejected"===e.status?"text-red-400":"text-blue-400")})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-white truncate",children:e.name}),"approved"===e.status&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded",children:[(0,t.jsx)(p.CheckCircle2,{className:"h-3 w-3"}),"Aprovado"]}),"rejected"===e.status&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400 bg-red-500/10 px-2 py-0.5 rounded",children:[(0,t.jsx)(h.XCircle,{className:"h-3 w-3"}),"Descartado"]})]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-500 mt-1",children:[y.description," â€¢ v",e.version]})]}),(0,t.jsx)("div",{className:(0,O.cn)("text-lg font-bold",e.scorecard.overall>=8?"text-emerald-400":e.scorecard.overall>=6?"text-amber-400":"text-red-400"),children:e.scorecard.overall.toFixed(1)}),(0,t.jsx)(d.Button,{variant:"ghost",size:"sm",className:"text-zinc-500",children:n?(0,t.jsx)(N.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ChevronRight,{className:"h-4 w-4"})})]})}),(0,t.jsx)(r.AnimatePresence,{children:n&&(0,t.jsx)(i.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-white/[0.06]",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-zinc-900/50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-400",children:"Copy"}),(0,t.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:v,className:"text-zinc-500 hover:text-white",children:o?(0,t.jsx)(E.Check,{className:"h-4 w-4"}):(0,t.jsx)(D.Copy,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"text-sm text-white max-h-80 overflow-y-auto custom-scrollbar pr-2",children:(0,t.jsx)(F.MarkdownRenderer,{content:e.content.primary})}),e.content.emails&&e.content.emails.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-zinc-800",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-zinc-400 block mb-3",children:["ðŸ“§ SequÃªncia de Emails (",e.content.emails.length,")"]}),(0,t.jsx)("div",{className:"space-y-4",children:e.content.emails.map((e,s)=>(0,t.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-zinc-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"text-xs text-emerald-400 font-medium",children:["Email ",s+1]}),e.delay&&(0,t.jsxs)("span",{className:"text-xs text-zinc-500",children:["â±ï¸ ",e.delay]})]}),e.subject&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"Assunto:"}),(0,t.jsx)("p",{className:"text-sm font-medium text-white",children:e.subject})]}),e.body&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"Corpo:"}),(0,t.jsx)("p",{className:"text-sm text-zinc-300 whitespace-pre-wrap mt-1",children:e.body})]})]},s))})]}),e.content.vslSections&&e.content.vslSections.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-zinc-800",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-zinc-400 block mb-3",children:["ðŸŽ¬ SeÃ§Ãµes do VSL (",e.content.vslSections.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:e.content.vslSections.map((e,s)=>(0,t.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-3 border border-zinc-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-xs text-violet-400 font-medium",children:e.name||`Se\xe7\xe3o ${s+1}`}),e.duration&&(0,t.jsxs)("span",{className:"text-xs text-zinc-500",children:["â±ï¸ ",e.duration]})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-300 whitespace-pre-wrap",children:e.content})]},s))})]}),e.content.variations&&e.content.variations.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-zinc-800",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-zinc-400 block mb-2",children:["VariaÃ§Ãµes (",e.content.variations.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:e.content.variations.map((e,s)=>(0,t.jsx)("div",{className:"text-sm text-zinc-300 bg-zinc-800/50 p-2 rounded",children:e},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-400 block mb-2",children:"Scorecard"}),(0,t.jsx)(H,{scorecard:e.scorecard})]}),e.reasoning&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-400 block mb-2",children:"RaciocÃ­nio"}),(0,t.jsx)("p",{className:"text-sm text-zinc-300",children:e.reasoning})]}),e.copywriterInsights&&e.copywriterInsights.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-400 block mb-2",children:"Insights dos Copywriters"}),(0,t.jsx)("div",{className:"space-y-2",children:e.copywriterInsights.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-lg",children:_.COPY_COUNSELORS[e.copywriterId]?.icon||"âœï¸"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-white",children:e.copywriterName}),(0,t.jsxs)("span",{className:"text-zinc-500",children:[" (",e.expertise,")"]}),(0,t.jsx)("p",{className:"text-zinc-400 mt-0.5",children:e.insight})]})]},s))})]}),"pending"===e.status&&(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(d.Button,{onClick:()=>a("approve"),className:"flex-1 bg-emerald-500 hover:bg-emerald-600",children:[(0,t.jsx)(z.ThumbsUp,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),(0,t.jsxs)(d.Button,{onClick:()=>x(!0),variant:"outline",className:"flex-1",children:[(0,t.jsx)(S.Edit3,{className:"mr-2 h-4 w-4"}),"Ajustar"]}),(0,t.jsx)(d.Button,{onClick:()=>a("kill"),variant:"outline",className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(k,{className:"h-4 w-4"})})]})]})})})]}),(0,t.jsx)(M.Dialog,{open:m,onOpenChange:x,children:(0,t.jsxs)(M.DialogContent,{className:"bg-zinc-900 border-zinc-800",children:[(0,t.jsx)(M.DialogHeader,{children:(0,t.jsx)(M.DialogTitle,{className:"text-white",children:"Solicitar Ajuste"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-400",children:"Descreva o que vocÃª gostaria de ajustar nesta copy:"}),(0,t.jsx)("textarea",{value:u,onChange:e=>g(e.target.value),placeholder:"Ex: Usar tom mais informal, incluir mais urgÃªncia, focar mais na dor...",className:"w-full h-32 bg-zinc-800 border border-zinc-700 rounded-lg p-3 text-white text-sm resize-none focus:outline-none focus:ring-2 focus:ring-emerald-500/50"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.Button,{onClick:()=>{u.trim()&&(a("adjust",[u]),x(!1),g(""))},disabled:!u.trim(),className:"flex-1 btn-accent",children:"Solicitar Ajuste"}),(0,t.jsx)(d.Button,{onClick:()=>x(!1),variant:"outline",children:"Cancelar"})]})]})]})})]})}function L(){let e=(0,a.useParams)(),r=(0,a.useRouter)(),d=(0,a.useSearchParams)(),{user:h}=(0,I.useAuthStore)(),g=e.id,j=d.get("campaignId"),y=d.get("proposalId"),[v,b]=(0,s.useState)(null),[N,w]=(0,s.useState)(null),[z,k]=(0,s.useState)([]),[S,D]=(0,s.useState)([]),[E,M]=(0,s.useState)(!0),[F,H]=(0,s.useState)(null),[L,B]=(0,s.useState)(new Set),V=y||N?.id;(0,s.useEffect)(()=>{!async function(){if(g)try{let e=await (0,l.getDoc)((0,l.doc)(o.db,"funnels",g));if(!e.exists())return void r.push("/funnels");b({id:e.id,...e.data()});let t=(0,l.collection)(o.db,"funnels",g,"proposals"),s=(await (0,l.getDocs)((0,l.query)(t,(0,l.orderBy)("version","desc")))).docs.map(e=>({id:e.id,...e.data()}));if(k(s),y){let e=s.find(e=>e.id===y);e&&w(e)}else if(s.length>0){let e=s.find(e=>"selected"===e.status||e.selected);w(e||s[0])}}catch(e){console.error("Error loading data:",e)}finally{M(!1)}}()},[g,y,r]),(0,s.useEffect)(()=>{if(!g)return;let e=(0,l.collection)(o.db,"funnels",g,"copyProposals"),t=V?(0,l.query)(e,(0,l.where)("proposalId","==",V)):e,s=(0,l.onSnapshot)(t,e=>{D(e.docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>(t.createdAt?.seconds||0)-(e.createdAt?.seconds||0)))});return()=>s()},[g,V]);let q=async e=>{if(!v||!V)return void T.notify.error("Erro","Selecione uma proposta estratÃ©gica antes de gerar copy");H(e);try{let t=d.get("id"),s=await fetch("/api/copy/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funnelId:g,proposalId:V,copyType:e,userId:h?.uid,conversationId:t||void 0})}),a=await s.json();a.success?(T.notify.success(`${_.COPY_TYPES[e].label} gerado!`,"O Conselho de Copy terminou"),a.copyProposal?.id&&B(e=>new Set([...e,a.copyProposal.id]))):T.notify.error("Erro",a.error)}catch(e){T.notify.error("Erro","Falha ao gerar copy")}finally{H(null)}},U=async(e,t,s)=>{M(!0);try{let a=await fetch("/api/copy/decisions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funnelId:g,campaignId:j,copyProposalId:e,type:t,userId:h?.uid,adjustments:s})}),i=await a.json();if(i.success){if(T.notify.success(i.message),"approve"===t){let e=j||g;r.push(`/campaigns/${e}`)}}else T.notify.error("Erro",i.error)}catch(e){console.error("Decision Error:",e),T.notify.error("Erro","Falha ao processar decisÃ£o")}finally{M(!1)}};return E?(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(c.Header,{title:"Conselho de Copy"}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)(x.Loader2,{className:"h-8 w-8 animate-spin text-zinc-500"})})]}):v?(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(c.Header,{title:"Conselho de Copy"}),(0,t.jsxs)("div",{className:"flex-1 p-8",children:[(0,t.jsxs)(n.default,{href:`/campaigns/${j||g}`,className:"inline-flex items-center gap-2 text-zinc-400 hover:text-white mb-6 transition-colors",children:[(0,t.jsx)(m.ArrowLeft,{className:"h-4 w-4"}),"Voltar ao Comando"]}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-violet-500 to-purple-600",children:(0,t.jsx)(u.Sparkles,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Conselho de Copywriting"}),(0,t.jsx)("p",{className:"text-zinc-400",children:v.name})]})]}),N&&(0,t.jsxs)("p",{className:"text-sm text-zinc-500 mt-2",children:["Proposta: ",(0,t.jsx)("span",{className:"text-zinc-300",children:N.name})]})]}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(C.Target,{className:"h-5 w-5 text-emerald-400"}),"Gerar Copy"]}),(0,t.jsx)("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-6",children:Object.entries(_.COPY_TYPES).map(([e,s])=>{let a=(0,R.resolveIcon)(A,e,f.FileText,"CopyType grid"),r=S.filter(t=>t.type===e),n=r.some(e=>"approved"===e.status);return(0,t.jsxs)(i.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>q(e),disabled:null!==F||!V,className:(0,O.cn)("p-4 rounded-xl border text-left transition-all relative overflow-hidden",n?"bg-emerald-500/10 border-emerald-500/30":"bg-zinc-900/50 border-zinc-800 hover:border-zinc-700",(null!==F||!V)&&"opacity-50 cursor-not-allowed"),children:[F===e&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,t.jsx)(x.Loader2,{className:"h-6 w-6 animate-spin text-white"})}),(0,t.jsx)(a,{className:(0,O.cn)("h-6 w-6 mb-2",n?"text-emerald-400":"text-zinc-500")}),(0,t.jsx)("p",{className:"font-medium text-white text-sm",children:s.label}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:s.description}),r.length>0&&(0,t.jsxs)("p",{className:"text-xs text-zinc-600 mt-2",children:[r.length," gerado",r.length>1?"s":""]})]},e)})}),!V&&(0,t.jsx)("p",{className:"text-sm text-amber-400 mt-3",children:"âš ï¸ Selecione uma proposta aprovada para gerar copy"}),V&&(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-xs text-zinc-500 bg-white/[0.02] border border-white/[0.04] w-fit px-3 py-1.5 rounded-full",children:[(0,t.jsx)(p.CheckCircle2,{className:"h-3 w-3 text-emerald-500"}),"Baseado na EstratÃ©gia: ",(0,t.jsx)("span",{className:"text-zinc-300 font-bold",children:N?.name}),z.length>1&&(0,t.jsx)("button",{onClick:()=>w(null),className:"ml-2 text-emerald-400 hover:underline",children:"Trocar base"})]})]}),!V&&z.length>0&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8 p-6 rounded-2xl bg-amber-500/5 border border-amber-500/20",children:[(0,t.jsxs)("h3",{className:"text-amber-400 font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wider",children:[(0,t.jsx)(P.AlertCircle,{className:"h-4 w-4"}),"Selecione a base estratÃ©gica para esta copy"]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:z.map(e=>(0,t.jsxs)("button",{onClick:()=>w(e),className:"text-left p-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-amber-500/50 transition-all group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"text-xs font-bold text-zinc-500",children:["v",e.version]}),"selected"===e.status&&(0,t.jsx)("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-400 px-1.5 py-0.5 rounded uppercase font-bold",children:"Aprovada"})]}),(0,t.jsx)("h4",{className:"font-bold text-white group-hover:text-amber-400 transition-colors truncate",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 mt-1 line-clamp-2",children:e.summary})]},e.id))})]}),S.length>0&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(f.FileText,{className:"h-5 w-5 text-emerald-400"}),"Propostas de Copy (",S.length,")"]})}),(0,t.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,t.jsx)($,{copyProposal:e,onDecision:(t,s)=>U(e.id,t,s),isExpanded:L.has(e.id),onToggle:()=>{var t;return t=e.id,void B(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})}},e.id))})]}),0===S.length&&V&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"card-premium p-12 text-center",children:[(0,t.jsx)(u.Sparkles,{className:"h-12 w-12 text-zinc-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhuma copy gerada ainda"}),(0,t.jsx)("p",{className:"text-zinc-500 mb-6",children:"Clique em um tipo de copy acima para o Conselho de Copywriting gerar propostas"})]}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-12",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Os 9 Copywriters do Conselho"}),(0,t.jsx)("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-9",children:Object.values(_.COPY_COUNSELORS).map(e=>(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04] text-center",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.icon}),(0,t.jsx)("p",{className:"text-sm font-medium text-white mt-2 truncate",children:e.name.split(" ").slice(-1)[0]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 truncate",children:e.expertise})]},e.id))})]})]})]}):(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(c.Header,{title:"Conselho de Copy"}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-zinc-500",children:"Funil nÃ£o encontrado"})})]})}e.s(["default",()=>L],95897)}]);