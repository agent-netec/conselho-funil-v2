module.exports=[471741,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(126236),e=a.i(539514),f=a.i(289036),g=a.i(459966),h=a.i(248842),i=a.i(399385),j=a.i(19761),k=a.i(300180),l=a.i(822399),m=a.i(168565),n=a.i(145075),o=a.i(76537),p=a.i(460228),q=a.i(174192),r=a.i(880925),s=a.i(635870),t=a.i(270509),u=a.i(761925),v=a.i(676105),w=a.i(317953),x=a.i(339491);a.i(543317);var y=a.i(134034),z=a.i(860342),A=a.i(810045),B=a.i(428485),C=a.i(555476);function D(a,b){let c=b.scorecard,d=c?.overall||"N/A",e=new Date().toLocaleDateString("pt-BR"),f=`# ${b.name}

> Funil: ${a.name} | Exportado em ${e}

---

**Score Geral:** ${"number"==typeof d?d.toFixed(1):d}/10

${b.summary||""}

`;return b.strategy?.rationale&&(f+=`## üí° Racional Estrat\xe9gico

${b.strategy.rationale}

`),b.architecture?.stages?.length&&(f+=`## üèóÔ∏è Arquitetura do Funil

`,b.architecture.stages.forEach(a=>{f+=`- **${a.order}. ${a.name}** (${a.type}) - ${a.objective||""}
`}),f+="\n"),c&&(f+=`## üìä Scorecard

- Clareza: ${c.clarity||"-"}
- For\xe7a da Oferta: ${c.offerStrength||"-"}
- Qualifica\xe7\xe3o: ${c.qualification||"-"}
- Fric\xe7\xe3o: ${c.friction||"-"}
- Potencial LTV: ${c.ltvPotential||"-"}
- ROI Esperado: ${c.expectedRoi||"-"}

`),b.strategy?.risks?.length&&(f+=`## ‚ö†Ô∏è Riscos

${b.strategy.risks.map(a=>`- ${a}`).join("\n")}

`),b.strategy?.recommendations?.length&&(f+=`## ‚úÖ Recomenda\xe7\xf5es

${b.strategy.recommendations.map(a=>`- ${a}`).join("\n")}

`),b.assets?.headlines?.length&&(f+=`## üìù Headlines

${b.assets.headlines.map(a=>`- ${a}`).join("\n")}

`),b.assets?.hooks?.length&&(f+=`## üé£ Hooks

${b.assets.hooks.map(a=>`- ${a}`).join("\n")}

`),b.assets?.ctas?.length&&(f+=`## üéØ CTAs

${b.assets.ctas.map(a=>`- ${a}`).join("\n")}

`),f+=`---

*Documento gerado pelo Conselho de Funil*`}let E={russell_brunson:{name:"Russell Brunson",role:"Arquitetura",color:"text-blue-400"},dan_kennedy:{name:"Dan Kennedy",role:"Copy & Oferta",color:"text-amber-400"},frank_kern:{name:"Frank Kern",role:"Psicologia",color:"text-purple-400"},sam_ovens:{name:"Sam Ovens",role:"Aquisi√ß√£o",color:"text-green-400"},ryan_deiss:{name:"Ryan Deiss",role:"LTV",color:"text-rose-400"},perry_belcher:{name:"Perry Belcher",role:"Monetiza√ß√£o",color:"text-orange-400"}},F={ad:"üì£",landing:"üéØ",quiz:"‚ùì",vsl:"üé¨",checkout:"üí≥",email:"üìß",call:"üìû",webinar:"üé•",default:"üìç"};function G({label:a,value:c,max:d=10,color:e}){let g=c/d*100;return(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-zinc-400",children:a}),(0,b.jsx)("span",{className:(0,A.cn)("font-semibold",e),children:c.toFixed(1)})]}),(0,b.jsx)("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(0,b.jsx)(f.motion.div,{initial:{width:0},animate:{width:`${g}%`},transition:{duration:.5,ease:"easeOut"},className:(0,A.cn)("h-full rounded-full",e.replace("text","bg"))})})]})}function H({stage:a,index:c}){let d=F[a.type?.toLowerCase()]||F.default;return(0,b.jsxs)(f.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*c},className:"flex items-start gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-zinc-800/50 text-2xl",children:d}),c<6&&(0,b.jsx)("div",{className:"w-0.5 h-8 bg-zinc-800 my-2"})]}),(0,b.jsxs)("div",{className:"flex-1 pb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsxs)("span",{className:"text-xs text-zinc-500 font-mono",children:["ETAPA ",a.order]}),(0,b.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-zinc-800 text-zinc-400 uppercase",children:a.type})]}),(0,b.jsx)("h4",{className:"text-white font-medium mb-1",children:a.name}),a.objective&&(0,b.jsx)("p",{className:"text-sm text-zinc-400 mb-2",children:a.objective}),a.description&&(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:a.description}),a.metrics&&(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[a.metrics.expectedConversion&&(0,b.jsxs)("span",{className:"text-emerald-400",children:["Conv: ",a.metrics.expectedConversion]}),a.metrics.kpi&&(0,b.jsxs)("span",{className:"text-zinc-500",children:["KPI: ",a.metrics.kpi]})]})]})]})}function I(){let a=(0,d.useParams)(),F=(0,d.useRouter)(),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(!0),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)("");(0,c.useEffect)(()=>{!async function(){if(a.id&&a.proposalId)try{let b=await (0,y.getDoc)((0,y.doc)(z.db,"funnels",a.id));b.exists()&&J({id:b.id,...b.data()});let c=await (0,y.getDoc)((0,y.doc)(z.db,"funnels",a.id,"proposals",a.proposalId));c.exists()&&L({id:c.id,...c.data()})}catch(a){console.error("Error loading data:",a)}finally{N(!1)}}()},[a.id,a.proposalId]);let $=async a=>{if(I&&K){if("adjust"===a||"kill"===a){X(a),Z(""),V(!0);return}await _("execute","Proposta aprovada para execu√ß√£o",[])}},_=async(a,b,c)=>{if(I&&K){P(!0),V(!1);try{let d=await fetch("/api/decisions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funnelId:I.id,proposalId:K.id,type:a,userId:I.userId||"anonymous",userName:"Voc√™",reason:b,adjustments:"adjust"===a?c:[]})});if(!d.ok){let a=await d.json().catch(()=>({}));throw console.error("API Error:",a),Error(a.error||"Failed to save decision")}F.push(`/funnels/${I.id}`)}catch(a){console.error("Error updating decision:",a),alert("Erro ao salvar decis√£o. Tente novamente.")}finally{P(!1)}}},aa=a=>{let b=K?.assets?.[a];b&&(navigator.clipboard.writeText(b.join("\n")),alert(`${a} copiados!`))},ab=async a=>{if(I&&K)try{let b=D(I,K);if("markdown"===a){let a=new Blob([b],{type:"text/markdown"}),c=window.URL.createObjectURL(a),d=document.createElement("a");d.href=c,d.download=`${K.name.replace(/[^a-zA-Z0-9]/g,"_")}.md`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(c)}else{let a=D(I,K).replace(/^#### (.+)$/gm,"<h4>$1</h4>").replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/^> (.+)$/gm,"<blockquote>$1</blockquote>").replace(/^---$/gm,"<hr>").replace(/\|(.+)\|/g,a=>{let b=a.split("|").filter(a=>a.trim());return b.some(a=>a.includes("---"))?"":`<tr>${b.map(a=>`<td>${a.trim().replace(/\*\*/g,"")}</td>`).join("")}</tr>`}).replace(/(<tr>.*<\/tr>\n?)+/g,"<table>$&</table>").replace(/^- (.+)$/gm,"<li>$1</li>").replace(/(<li>.*<\/li>\n?)+/g,"<ul>$&</ul>").replace(/\n\n/g,"<br><br>"),b=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${K.name} - Export</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px 20px; line-height: 1.6; color: #1a1a1a; }
    h1 { color: #10b981; border-bottom: 2px solid #10b981; padding-bottom: 10px; }
    h2 { color: #374151; margin-top: 30px; }
    h3 { color: #4b5563; }
    h4 { color: #6b7280; }
    table { border-collapse: collapse; width: 100%; margin: 15px 0; }
    th, td { border: 1px solid #e5e7eb; padding: 10px; text-align: left; }
    th { background: #f9fafb; }
    blockquote { border-left: 3px solid #10b981; padding-left: 15px; color: #6b7280; }
    hr { border: none; border-top: 1px solid #e5e7eb; margin: 30px 0; }
    ul { padding-left: 25px; }
    li { margin: 5px 0; }
    .print-btn { position: fixed; top: 20px; right: 20px; padding: 10px 20px; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; z-index: 1000; }
    @media print { .print-btn { display: none; } }
  </style>
</head>
<body>
  <button class="print-btn" onclick="window.print()">üñ®Ô∏è Imprimir PDF</button>
  ${a}
</body>
</html>`,c=new Blob([b],{type:"text/html"}),d=URL.createObjectURL(c);window.open(d,"_blank")}}catch(a){console.error("Export error:",a),alert("Erro ao exportar. Tente novamente.")}},ac=async()=>{if(I&&K){R(!0);try{if(!(await fetch("/api/library",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funnelId:I.id,proposalId:K.id,name:K.name,description:K.summary,tags:[I.context.objective,I.context.channel?.main].filter(Boolean)})})).ok)throw Error("Failed to save to library");T(!0),alert("‚úÖ Salvo na biblioteca com sucesso!")}catch(a){console.error("Error saving to library:",a),alert("Erro ao salvar na biblioteca. Tente novamente.")}finally{R(!1)}}};if(M)return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)(g.Header,{title:"Carregando...",showBack:!0}),(0,b.jsx)("div",{className:"flex-1 p-8",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-6 max-w-4xl mx-auto",children:[(0,b.jsx)("div",{className:"h-32 rounded-xl bg-zinc-800/50"}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)("div",{className:"h-64 rounded-xl bg-zinc-800/50"}),(0,b.jsx)("div",{className:"h-64 rounded-xl bg-zinc-800/50"})]})]})})]});if(!K||!I)return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)(g.Header,{title:"Proposta n√£o encontrada",showBack:!0}),(0,b.jsx)("div",{className:"flex-1 p-8 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-zinc-800/50 mb-4",children:(0,b.jsx)(p.FileText,{className:"h-8 w-8 text-zinc-600"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-white",children:"Proposta n√£o encontrada"}),(0,b.jsx)(e.default,{href:`/funnels/${a.id}`,children:(0,b.jsx)(h.Button,{className:"mt-6 btn-accent",children:"Voltar para o Funil"})})]})})]});let ad=K.scorecard,ae=ad?.overall||0;return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)(g.Header,{title:K.name,subtitle:I.name,showBack:!0,actions:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(h.Button,{variant:"ghost",className:"btn-ghost",onClick:()=>ab("markdown"),children:[(0,b.jsx)(p.FileText,{className:"mr-2 h-4 w-4"}),"MD"]}),(0,b.jsxs)(h.Button,{variant:"ghost",className:"btn-ghost",onClick:()=>ab("pdf"),children:[(0,b.jsx)(x.Download,{className:"mr-2 h-4 w-4"}),"PDF"]}),(0,b.jsx)(e.default,{href:`/chat?funnelId=${I.id}&proposalId=${K.id}`,children:(0,b.jsxs)(h.Button,{variant:"outline",className:"btn-ghost",children:[(0,b.jsx)(u.MessageSquare,{className:"mr-2 h-4 w-4"}),"Perguntar ao Conselho"]})})]})}),(0,b.jsx)("div",{className:"flex-1 p-8",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-premium p-6 mb-8",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-zinc-300 text-lg leading-relaxed mb-4",children:K.summary}),K.strategy?.rationale&&(0,b.jsxs)("div",{className:"p-4 bg-zinc-800/30 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-400 mb-2",children:[(0,b.jsx)(n.Lightbulb,{className:"h-4 w-4"}),"Racional Estrat√©gico"]}),(0,b.jsx)("p",{className:"text-zinc-300 text-sm",children:K.strategy.rationale})]})]}),ad&&(0,b.jsxs)("div",{className:"md:w-64 p-5 bg-zinc-800/30 rounded-xl",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("div",{className:(0,A.cn)("text-5xl font-bold",ae>=7.5?"text-emerald-400":ae>=6?"text-amber-400":"text-red-400"),children:ae.toFixed(1)}),(0,b.jsx)("div",{className:"text-sm text-zinc-500",children:"Score Geral"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(G,{label:"Clareza",value:ad.clarity,color:"text-blue-400"}),(0,b.jsx)(G,{label:"For√ßa da Oferta",value:ad.offerStrength,color:"text-amber-400"}),(0,b.jsx)(G,{label:"Qualifica√ß√£o",value:ad.qualification,color:"text-green-400"}),(0,b.jsx)(G,{label:"Fric√ß√£o",value:10-ad.friction,color:"text-purple-400"}),(0,b.jsx)(G,{label:"Potencial LTV",value:ad.ltvPotential,color:"text-rose-400"}),(0,b.jsx)(G,{label:"ROI Esperado",value:ad.expectedRoi,color:"text-emerald-400"})]})]})]})}),(0,b.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card-premium p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 mb-6",children:[(0,b.jsx)(m.Target,{className:"h-5 w-5 text-emerald-400"}),"Arquitetura do Funil"]}),(0,b.jsx)("div",{className:"space-y-0",children:K.architecture?.stages?.map((a,c)=>(0,b.jsx)(H,{stage:a,index:c},c))})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[K.strategy?.counselorInsights&&K.strategy.counselorInsights.length>0&&(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"card-premium p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 mb-4",children:[(0,b.jsx)(s.Users,{className:"h-5 w-5 text-blue-400"}),"Insights dos Conselheiros"]}),(0,b.jsx)("div",{className:"space-y-4",children:K.strategy.counselorInsights.map((a,c)=>{let d=E[a.counselor]||{name:a.counselor,role:"",color:"text-zinc-400"};return(0,b.jsxs)("div",{className:"p-4 bg-zinc-800/30 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:(0,A.cn)("font-medium",d.color),children:d.name}),d.role&&(0,b.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",d.role,")"]})]}),(0,b.jsx)("p",{className:"text-sm text-zinc-300",children:a.insight})]},c)})})]}),(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card-premium p-6",children:(0,b.jsxs)("div",{className:"grid gap-6",children:[K.strategy?.risks&&K.strategy.risks.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-red-400 flex items-center gap-2 mb-3",children:[(0,b.jsx)(o.AlertTriangle,{className:"h-4 w-4"}),"Riscos Identificados"]}),(0,b.jsx)("ul",{className:"space-y-2",children:K.strategy.risks.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm text-zinc-400",children:[(0,b.jsx)("span",{className:"text-red-400/50",children:"‚Ä¢"}),a]},c))})]}),K.strategy?.recommendations&&K.strategy.recommendations.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-emerald-400 flex items-center gap-2 mb-3",children:[(0,b.jsx)(t.TrendingUp,{className:"h-4 w-4"}),"Recomenda√ß√µes"]}),(0,b.jsx)("ul",{className:"space-y-2",children:K.strategy.recommendations.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm text-zinc-400",children:[(0,b.jsx)("span",{className:"text-emerald-400/50",children:"‚Ä¢"}),a]},c))})]})]})})]})]}),K.assets&&(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"card-premium p-6 mt-8",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 mb-6",children:[(0,b.jsx)(r.Zap,{className:"h-5 w-5 text-amber-400"}),"Assets Gerados"]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[K.assets.headlines&&K.assets.headlines.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-zinc-400",children:"Headlines"}),(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>aa("headlines"),children:[(0,b.jsx)(q.Copy,{className:"h-3 w-3 mr-1"}),"Copiar"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:K.assets.headlines.map((a,c)=>(0,b.jsx)("div",{className:"p-3 bg-zinc-800/30 rounded-lg text-sm text-zinc-300",children:a},c))})]}),K.assets.hooks&&K.assets.hooks.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-zinc-400",children:"Hooks"}),(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>aa("hooks"),children:[(0,b.jsx)(q.Copy,{className:"h-3 w-3 mr-1"}),"Copiar"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:K.assets.hooks.map((a,c)=>(0,b.jsx)("div",{className:"p-3 bg-zinc-800/30 rounded-lg text-sm text-zinc-300",children:a},c))})]}),K.assets.ctas&&K.assets.ctas.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-zinc-400",children:"CTAs"}),(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>aa("ctas"),children:[(0,b.jsx)(q.Copy,{className:"h-3 w-3 mr-1"}),"Copiar"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:K.assets.ctas.map((a,c)=>(0,b.jsx)("div",{className:"p-3 bg-zinc-800/30 rounded-lg text-sm text-zinc-300 font-medium",children:a},c))})]})]})]}),"review"===I.status&&(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card-premium p-6 mt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sua Decis√£o"}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm mb-6",children:"Analise a proposta e decida se quer executar, solicitar ajustes ou descartar."}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)(h.Button,{onClick:()=>$("execute"),disabled:O,className:"flex-1 h-12 bg-emerald-600 hover:bg-emerald-500 text-white",children:[(0,b.jsx)(i.CheckCircle2,{className:"mr-2 h-5 w-5"}),"EXECUTAR"]}),(0,b.jsxs)(h.Button,{onClick:()=>$("adjust"),disabled:O,variant:"outline",className:"flex-1 h-12 border-amber-500/50 text-amber-400 hover:bg-amber-500/10",children:[(0,b.jsx)(k.RefreshCw,{className:"mr-2 h-5 w-5"}),"AJUSTAR"]}),(0,b.jsxs)(h.Button,{onClick:()=>$("kill"),disabled:O,variant:"outline",className:"flex-1 h-12 border-red-500/50 text-red-400 hover:bg-red-500/10",children:[(0,b.jsx)(j.XCircle,{className:"mr-2 h-5 w-5"}),"MATAR"]})]})]}),"approved"===I.status&&(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card-premium p-6 mt-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white mb-1 flex items-center gap-2",children:[(0,b.jsx)(v.Library,{className:"h-5 w-5 text-emerald-400"}),"Salvar na Biblioteca"]}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm",children:"Transforme este funil em um template reutiliz√°vel para criar novos funis mais r√°pido."})]}),(0,b.jsx)(h.Button,{onClick:ac,disabled:Q||S,className:(0,A.cn)("h-11",S?"bg-emerald-600 text-white":"btn-accent"),children:Q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):S?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.CheckCircle2,{className:"mr-2 h-4 w-4"}),"Salvo!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Library,{className:"mr-2 h-4 w-4"}),"Salvar Template"]})})]})}),"approved"===I.status&&(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"card-premium p-6 mt-4 border-violet-500/20 bg-gradient-to-br from-violet-500/5 to-transparent",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white mb-1 flex items-center gap-2",children:[(0,b.jsx)(l.Sparkles,{className:"h-5 w-5 text-violet-400"}),"Gerar Copy"]}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm",children:"Ative o Conselho de Copywriting para criar headlines, emails, ofertas, VSL e mais."})]}),(0,b.jsx)(e.default,{href:`/funnels/${I.id}/copy?proposalId=${K.id}`,children:(0,b.jsxs)(h.Button,{className:"h-11 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500",children:[(0,b.jsx)(l.Sparkles,{className:"mr-2 h-4 w-4"}),"Conselho de Copy"]})})]})})]})}),(0,b.jsx)(B.Dialog,{open:U,onOpenChange:V,children:(0,b.jsxs)(B.DialogContent,{className:"bg-zinc-900 border-zinc-800",children:[(0,b.jsx)(B.DialogHeader,{children:(0,b.jsx)(B.DialogTitle,{className:"text-white",children:"adjust"===W?"Solicitar Ajustes":"Descartar Proposta"})}),(0,b.jsx)("div",{className:"py-4",children:(0,b.jsx)(C.Textarea,{value:Y,onChange:a=>Z(a.target.value),placeholder:"adjust"===W?"Quais ajustes s√£o necess√°rios? (separe por v√≠rgula)":"Por que esta proposta deve ser descartada?",className:"min-h-[100px] bg-zinc-800 border-zinc-700 text-white"})}),(0,b.jsxs)(B.DialogFooter,{children:[(0,b.jsx)(h.Button,{variant:"ghost",onClick:()=>V(!1),children:"Cancelar"}),(0,b.jsx)(h.Button,{onClick:()=>{if(Y.trim()&&W)if("adjust"===W){let a=Y.split(",").map(a=>a.trim()).filter(Boolean);_("adjust",`Ajustes: ${a.join(", ")}`,a)}else _("kill",Y,[])},disabled:!Y.trim(),className:"adjust"===W?"bg-amber-600 hover:bg-amber-500":"bg-red-600 hover:bg-red-500",children:"adjust"===W?"Solicitar Ajustes":"Descartar"})]})]})})]})}a.s(["default",()=>I])}];

//# sourceMappingURL=6096f_app_src_app_funnels_%5Bid%5D_proposals_%5BproposalId%5D_page_tsx_2a1d695b._.js.map