module.exports=[813739,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(109620),e=a.i(502117),f=a.i(979230),g=a.i(822399),h=a.i(317953),i=a.i(285744),j=a.i(223527),k=a.i(270509),l=a.i(168565),m=a.i(248842),n=a.i(675982),o=a.i(74552),p=a.i(453764);function q({brandId:a}){let[d,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)([]);async function v(){if(!d.trim())return void p.toast.error("Digite um termo para minerar");try{s(!0);let b=await fetch("/api/intelligence/keywords",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({brandId:a,seedTerm:d})}),c=await b.json();if(c.success){let a=c.keywords.map(a=>({term:a,intent:"Informativa",opportunityScore:Math.floor(40*Math.random())+60,volume:Math.floor(1e3*Math.random())+100,difficulty:Math.floor(50*Math.random())+10}));u(a),p.toast.success(`Mineradas ${c.count} palavras-chave com sucesso!`)}else p.toast.error(c.error||"Erro ao minerar palavras-chave")}catch(a){console.error("Error mining keywords:",a),p.toast.error("Erro de conexão ao minerar")}finally{s(!1)}}return(0,b.jsxs)(e.Card,{className:"bg-zinc-900/50 border-zinc-800 h-full flex flex-col",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Search,{className:"w-5 h-5 text-blue-500"}),"Keywords Miner"]}),(0,b.jsx)(e.CardDescription,{children:"Descubra o que seu público está buscando no Google em tempo real."})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4 flex-1 flex flex-col",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),(0,b.jsx)(n.Input,{placeholder:"Ex: marketing digital, funil de vendas...",value:d,onChange:a=>q(a.target.value),onKeyDown:a=>"Enter"===a.key&&v(),className:"pl-9 bg-zinc-950 border-zinc-800 focus-visible:ring-blue-500",disabled:r})]}),(0,b.jsxs)(m.Button,{onClick:v,disabled:r||!d.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r?(0,b.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(g.Sparkles,{className:"w-4 h-4 mr-2"}),"Minerar"]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto min-h-[200px] max-h-[400px] space-y-2 pr-2 custom-scrollbar",children:t.length>0?t.map((a,c)=>(0,b.jsxs)("div",{className:"group flex items-center justify-between p-3 rounded-lg bg-zinc-950/50 border border-zinc-800/50 hover:border-blue-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-md bg-blue-500/10",children:(0,b.jsx)(j.Tag,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-200",children:a.term}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)(o.Badge,{variant:"outline",className:"text-[10px] py-0 h-4 border-zinc-800 text-zinc-500",children:a.intent}),(0,b.jsxs)("span",{className:"text-[10px] text-zinc-600 flex items-center gap-1",children:[(0,b.jsx)(k.TrendingUp,{className:"w-3 h-3"}),"Score: ",a.opportunityScore]})]})]})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(i.ArrowRight,{className:"w-4 h-4 text-zinc-500"})})]},c)):(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 border-2 border-dashed border-zinc-800 rounded-xl",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-zinc-800/50 mb-3",children:(0,b.jsx)(l.Target,{className:"w-6 h-6 text-zinc-500"})}),(0,b.jsx)("p",{className:"text-zinc-500 text-sm",children:r?"Minerando a web...":"Digite um nicho ou termo para começar a mineração."})]})})]})]})}var r=a.i(880925),s=a.i(401920),t=a.i(529238),u=a.i(288418),v=a.i(612852),w=a.i(791026),x=a.i(356796);function y({brandId:a}){let[d,f]=(0,c.useState)(""),[g,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,q]=(0,c.useState)(""),[y,z]=(0,c.useState)(0);async function A(){if(!d.trim())return void p.toast.error("Digite a URL do concorrente");try{i(!0),k(null),z(10),q("Validando robots.txt..."),await new Promise(a=>setTimeout(a,800)),z(30),q("Capturando headers HTTP..."),await new Promise(a=>setTimeout(a,600)),z(50),q("Analisando scripts e tech stack...");let b=await fetch("/api/intelligence/autopsy/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({brandId:a,url:d,depth:"quick"})});z(80);let c=await b.json();b.ok?(k({url:c.url,techStack:{cms:c.report?.techStack?.find(a=>["WordPress","Webflow","Elementor"].includes(a))||"Custom",analytics:c.report?.techStack?.filter(a=>["Google Analytics","Meta Pixel","Hotjar"].includes(a))||[],marketing:c.report?.techStack?.filter(a=>["ActiveCampaign","Mailchimp"].includes(a))||[],payments:c.report?.techStack?.filter(a=>["Stripe","Hotmart","Pagar.me"].includes(a))||[],infrastructure:c.report?.techStack?.filter(a=>["Cloudflare","AWS"].includes(a))||[]},durationMs:c.timestamp-Date.now()}),z(100),p.toast.success("Análise de tecnologia concluída!")):p.toast.error(c.error||"Erro ao analisar concorrente")}catch(a){console.error("Error scanning competitor:",a),p.toast.error("Erro de conexão ao analisar")}finally{i(!1),q("")}}return(0,b.jsxs)(e.Card,{className:"bg-zinc-900/50 border-zinc-800 h-full flex flex-col",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Zap,{className:"w-5 h-5 text-amber-500"}),"Spy Agent"]}),(0,b.jsx)(e.CardDescription,{children:"Identifique a infraestrutura e ferramentas usadas por qualquer concorrente."})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4 flex-1 flex flex-col",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(s.Globe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),(0,b.jsx)(n.Input,{placeholder:"https://concorrente.com.br",value:d,onChange:a=>f(a.target.value),onKeyDown:a=>"Enter"===a.key&&A(),className:"pl-9 bg-zinc-950 border-zinc-800 focus-visible:ring-amber-500",disabled:g})]}),(0,b.jsxs)(m.Button,{onClick:A,disabled:g||!d.trim(),className:"bg-amber-600 hover:bg-amber-700 text-white",children:[g?(0,b.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(r.Zap,{className:"w-4 h-4 mr-2"}),"Scan"]})]}),g&&(0,b.jsxs)("div",{className:"space-y-2 py-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-[10px] uppercase tracking-widest font-bold text-zinc-500",children:[(0,b.jsx)("span",{children:l}),(0,b.jsxs)("span",{children:[y,"%"]})]}),(0,b.jsx)(x.Progress,{value:y,className:"h-1 bg-zinc-800"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto min-h-[200px] max-h-[400px] space-y-4 pr-2 custom-scrollbar",children:j?(0,b.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-zinc-950 border border-zinc-800 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.ShieldCheck,{className:"w-4 h-4 text-green-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-zinc-300 truncate max-w-[200px]",children:j.url})]}),(0,b.jsx)("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"text-zinc-500 hover:text-zinc-300",children:(0,b.jsx)(w.ExternalLink,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-bold flex items-center gap-1",children:[(0,b.jsx)(u.Cpu,{className:"w-3 h-3"})," CMS / Engine"]}),(0,b.jsx)(o.Badge,{variant:"secondary",className:"bg-zinc-800 text-zinc-300 border-none",children:j.techStack.cms})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-bold flex items-center gap-1",children:[(0,b.jsx)(v.BarChart3,{className:"w-3 h-3"})," Analytics"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:j.techStack.analytics.length>0?j.techStack.analytics.map(a=>(0,b.jsx)(o.Badge,{variant:"outline",className:"text-[9px] border-zinc-800",children:a},a)):(0,b.jsx)("span",{className:"text-[10px] text-zinc-600",children:"Nenhum detectado"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-bold",children:"Marketing & Sales"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:j.techStack.marketing.length>0?j.techStack.marketing.map(a=>(0,b.jsx)(o.Badge,{variant:"outline",className:"text-[9px] border-zinc-800 text-amber-400/80",children:a},a)):(0,b.jsx)("span",{className:"text-[10px] text-zinc-600",children:"Nenhum detectado"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-bold",children:"Payments"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:j.techStack.payments.length>0?j.techStack.payments.map(a=>(0,b.jsx)(o.Badge,{variant:"outline",className:"text-[9px] border-zinc-800 text-green-400/80",children:a},a)):(0,b.jsx)("span",{className:"text-[10px] text-zinc-600",children:"Nenhum detectado"})})]})]}),(0,b.jsx)(m.Button,{variant:"outline",className:"w-full border-zinc-800 text-zinc-400 hover:bg-zinc-800",size:"sm",children:"Salvar no Dossier"})]}):!g&&(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 border-2 border-dashed border-zinc-800 rounded-xl",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-zinc-800/50 mb-3",children:(0,b.jsx)(s.Globe,{className:"w-6 h-6 text-zinc-500"})}),(0,b.jsx)("p",{className:"text-zinc-500 text-sm",children:"Cole a URL de uma Landing Page ou site para dissecar a tecnologia."})]})})]})]})}var z=a.i(535781);function A(){let[a,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){try{let a=await (0,z.getUserBrands)("user_123");a.length>0&&f(a[0].id)}catch(a){console.error("Error loading brands:",a),p.toast.error("Erro ao carregar contexto da marca")}finally{h(!1)}}()},[]),g)?(0,b.jsx)("div",{className:"container mx-auto p-6 flex items-center justify-center h-[50vh]",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("p",{className:"text-zinc-500 animate-pulse",children:"Sincronizando com o Hub de Inteligência..."})]})}):(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-8 animate-in fade-in duration-700",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-white to-zinc-500 bg-clip-text text-transparent",children:"Discovery Hub"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"O novo centro de mineração de insights e inteligência competitiva."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch",children:[(0,b.jsx)(q,{brandId:a}),(0,b.jsx)(y,{brandId:a})]}),(0,b.jsx)(e.Card,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:(0,b.jsxs)(e.CardContent,{className:"py-10 text-center space-y-4",children:[(0,b.jsx)(d.Brain,{className:"w-12 h-12 text-purple-500 mx-auto opacity-50"}),(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Inteligência Preditiva"}),(0,b.jsx)("p",{className:"text-zinc-400 max-w-md mx-auto",children:"Em breve: O Athos está calibrando os modelos de IA para antecipar movimentos do mercado e tendências de busca."}),(0,b.jsx)("div",{className:"flex justify-center gap-2",children:(0,b.jsx)("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 text-[10px] font-bold uppercase tracking-widest rounded-full border border-purple-500/30",children:"Sprint 22"})})]})})]})}a.s(["default",()=>A],813739)}];

//# sourceMappingURL=b1735_CURSOR_CONSELHO%20DE%20FUNIL_app_src_app_intelligence_discovery_page_tsx_67fbd1fa._.js.map