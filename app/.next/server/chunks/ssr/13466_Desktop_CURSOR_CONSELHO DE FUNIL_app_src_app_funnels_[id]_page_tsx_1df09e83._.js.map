{"version":3,"sources":["../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/app/funnels/%5Bid%5D/page.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/decisions/decision-timeline.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/proposals/version-history.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/funnels/share-dialog.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/funnels/export-dialog.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/funnel-autopsy/AutopsyReportView.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/monitor.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/file-code.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/bookmark-plus.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/file-braces.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/link-2.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/clipboard.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Header } from '@/components/layout/header';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Target,\r\n  Users,\r\n  Package,\r\n  Radio,\r\n  MessageSquare,\r\n  CheckCircle2,\r\n  XCircle,\r\n  Trash2,\r\n  Clock,\r\n  AlertCircle,\r\n  Sparkles,\r\n  Loader2,\r\n  ChevronRight,\r\n  Star,\r\n  Zap,\r\n  BookmarkPlus,\r\n  Check,\r\n  Download,\r\n  FileText,\r\n  Share2,\r\n} from 'lucide-react';\r\nimport { doc, onSnapshot, collection, getDocs, orderBy, query, setDoc, Timestamp } from 'firebase/firestore';\r\nimport { db } from '@/lib/firebase/config';\r\nimport type { Funnel, Proposal, ProposalScorecard } from '@/types/database';\r\nimport { useFunnels } from '@/lib/hooks/use-funnels';\r\nimport { cn } from '@/lib/utils';\r\nimport { DecisionTimeline } from '@/components/decisions/decision-timeline';\r\nimport { VersionHistory } from '@/components/proposals/version-history';\r\nimport { notify } from '@/lib/stores/notification-store';\r\nimport { ShareDialog } from '@/components/funnels/share-dialog';\r\nimport { ExportDialog } from '@/components/funnels/export-dialog';\r\n\r\n// Generate markdown from funnel data\r\nfunction generateFunnelMarkdown(funnel: Funnel, proposals: Proposal[]): string {\r\n  const ctx = funnel.context;\r\n  const channel = ctx.channel?.main || ctx.channels?.primary || 'N/A';\r\n  const date = new Date().toLocaleDateString('pt-BR');\r\n\r\n  let md = `# ${funnel.name}\r\n\r\n> Exportado em ${date} | Status: **${funnel.status}**\r\n\r\n---\r\n\r\n## üìã Contexto do Neg√≥cio\r\n\r\n- **Empresa:** ${ctx.company}\r\n- **Mercado:** ${ctx.market}\r\n- **Maturidade:** ${ctx.maturity}\r\n- **Objetivo:** ${ctx.objective}\r\n\r\n---\r\n\r\n## üë• P√∫blico-Alvo\r\n\r\n**Quem √©:** ${ctx.audience?.who || 'N√£o definido'}\r\n\r\n**Dor Principal:** ${ctx.audience?.pain || 'N√£o definido'}\r\n\r\n**N√≠vel de Consci√™ncia:** ${ctx.audience?.awareness || 'N/A'}\r\n\r\n---\r\n\r\n## üí∞ Oferta\r\n\r\n- **Produto/Servi√ßo:** ${ctx.offer?.what || 'N/A'}\r\n- **Ticket:** ${ctx.offer?.ticket || 'N/A'}\r\n- **Tipo:** ${ctx.offer?.type || 'N/A'}\r\n\r\n---\r\n\r\n## üì° Canais\r\n\r\n- **Principal:** ${channel}\r\n\r\n---\r\n\r\n`;\r\n\r\n  if (proposals.length > 0) {\r\n    md += `## üéØ Propostas de Funil\\n\\n`;\r\n\r\n    proposals.forEach((proposal, index) => {\r\n      const scorecard = proposal.scorecard as any;\r\n      const score = scorecard?.overall || 'N/A';\r\n\r\n      md += `### Proposta ${index + 1}: ${proposal.name}\r\n\r\n**Score Geral:** ${typeof score === 'number' ? score.toFixed(1) : score}/10\r\n\r\n${proposal.summary || ''}\r\n\r\n`;\r\n\r\n      if (proposal.strategy?.rationale) {\r\n        md += `#### üí° Racional Estrat√©gico\r\n\r\n${proposal.strategy.rationale}\r\n\r\n`;\r\n      }\r\n\r\n      if (proposal.architecture?.stages?.length) {\r\n        md += `#### üèóÔ∏è Arquitetura do Funil\r\n\r\n`;\r\n        proposal.architecture.stages.forEach(stage => {\r\n          md += `- **${stage.order}. ${stage.name}** (${stage.type}) - ${stage.objective || ''}\\n`;\r\n        });\r\n        md += '\\n';\r\n      }\r\n\r\n      if (proposal.strategy?.risks?.length) {\r\n        md += `#### ‚ö†Ô∏è Riscos\r\n\r\n${proposal.strategy.risks.map(r => `- ${r}`).join('\\n')}\r\n\r\n`;\r\n      }\r\n\r\n      if (proposal.assets?.headlines?.length) {\r\n        md += `#### üìù Headlines\r\n\r\n${proposal.assets.headlines.map(h => `- ${h}`).join('\\n')}\r\n\r\n`;\r\n      }\r\n\r\n      md += `---\\n\\n`;\r\n    });\r\n  }\r\n\r\n  md += `\\n*Documento gerado pelo Conselho de Funil*`;\r\n  return md;\r\n}\r\n\r\n// Simple markdown to HTML converter\r\nfunction simpleMarkdownToHtml(md: string): string {\r\n  return md\r\n    // Headers\r\n    .replace(/^#### (.+)$/gm, '<h4>$1</h4>')\r\n    .replace(/^### (.+)$/gm, '<h3>$1</h3>')\r\n    .replace(/^## (.+)$/gm, '<h2>$1</h2>')\r\n    .replace(/^# (.+)$/gm, '<h1>$1</h1>')\r\n    // Bold\r\n    .replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>')\r\n    // Italic\r\n    .replace(/\\*(.+?)\\*/g, '<em>$1</em>')\r\n    // Blockquotes\r\n    .replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')\r\n    // Horizontal rules\r\n    .replace(/^---$/gm, '<hr>')\r\n    // Tables (simple)\r\n    .replace(/\\|(.+)\\|/g, (match) => {\r\n      const cells = match.split('|').filter(c => c.trim());\r\n      if (cells.some(c => c.includes('---'))) return '';\r\n      const isHeader = cells.every(c => c.trim().startsWith('**') || cells.length <= 2);\r\n      const tag = isHeader ? 'th' : 'td';\r\n      return `<tr>${cells.map(c => `<${tag}>${c.trim().replace(/\\*\\*/g, '')}</${tag}>`).join('')}</tr>`;\r\n    })\r\n    .replace(/(<tr>.*<\\/tr>\\n?)+/g, '<table>$&</table>')\r\n    // Lists\r\n    .replace(/^- (.+)$/gm, '<li>$1</li>')\r\n    .replace(/(<li>.*<\\/li>\\n?)+/g, '<ul>$&</ul>')\r\n    // Line breaks\r\n    .replace(/\\n\\n/g, '</p><p>')\r\n    .replace(/^(.+)$/gm, (match) => {\r\n      if (match.startsWith('<')) return match;\r\n      return match;\r\n    });\r\n}\r\n\r\nconst STATUS_CONFIG: Record<string, { label: string; color: string; bg: string; description: string; glow: string }> = {\r\n  draft: { \r\n    label: 'Rascunho', \r\n    color: 'text-zinc-400', \r\n    bg: 'bg-zinc-500/10',\r\n    description: 'Aguardando gera√ß√£o pelo Conselho',\r\n    glow: 'from-zinc-500/5 to-transparent'\r\n  },\r\n  generating: { \r\n    label: 'Gerando Propostas', \r\n    color: 'text-blue-400', \r\n    bg: 'bg-blue-500/10',\r\n    description: 'O Conselho est√° analisando e criando propostas...',\r\n    glow: 'from-blue-500/5 to-transparent'\r\n  },\r\n  review: { \r\n    label: 'Propostas Prontas', \r\n    color: 'text-amber-400', \r\n    bg: 'bg-amber-500/10',\r\n    description: 'Avalie as propostas e decida: EXECUTAR, AJUSTAR ou MATAR',\r\n    glow: 'from-amber-500/5 to-transparent'\r\n  },\r\n  approved: { \r\n    label: 'Aprovado', \r\n    color: 'text-emerald-400', \r\n    bg: 'bg-emerald-500/10',\r\n    description: 'Pronto para execu√ß√£o estrat√©gica',\r\n    glow: 'from-emerald-500/5 to-transparent'\r\n  },\r\n  adjusting: { \r\n    label: 'Ajustando', \r\n    color: 'text-violet-400', \r\n    bg: 'bg-violet-500/10',\r\n    description: 'Aplicando ajustes solicitados pelo Conselho',\r\n    glow: 'from-violet-500/5 to-transparent'\r\n  },\r\n  executing: { \r\n    label: 'Executando', \r\n    color: 'text-blue-400', \r\n    bg: 'bg-blue-500/10',\r\n    description: 'Funil em opera√ß√£o e monitoramento ativado',\r\n    glow: 'from-blue-500/5 to-transparent'\r\n  },\r\n  completed: { \r\n    label: 'Conclu√≠do', \r\n    color: 'text-emerald-400', \r\n    bg: 'bg-emerald-500/10',\r\n    description: 'Ciclo estrat√©gico finalizado com sucesso',\r\n    glow: 'from-emerald-500/5 to-transparent'\r\n  },\r\n  killed: { \r\n    label: 'Cancelado', \r\n    color: 'text-red-400', \r\n    bg: 'bg-red-500/10',\r\n    description: 'Funil descontinuado ap√≥s an√°lise de viabilidade',\r\n    glow: 'from-red-500/5 to-transparent'\r\n  },\r\n};\r\n\r\nconst AWARENESS_LABELS: Record<string, string> = {\r\n  fria: 'Audi√™ncia Fria',\r\n  morna: 'Audi√™ncia Morna',\r\n  quente: 'Audi√™ncia Quente',\r\n  unaware: 'Inconsciente',\r\n  problem: 'Consciente do Problema',\r\n  solution: 'Consciente da Solu√ß√£o',\r\n  product: 'Consciente do Produto',\r\n};\r\n\r\nfunction ProposalCard({ proposal, index, onSelect }: { proposal: Proposal; index: number; onSelect: () => void }) {\r\n  const scorecard = proposal.scorecard as ProposalScorecard | undefined;\r\n  const overallScore = scorecard?.overall || 0;\r\n  \r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay: index * 0.1 }}\r\n      className=\"card-premium p-6 hover:border-emerald-500/30 transition-all cursor-pointer group\"\r\n      onClick={onSelect}\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className={cn(\r\n              'flex h-8 w-8 items-center justify-center rounded-lg font-bold text-sm',\r\n              index === 0 ? 'bg-emerald-500/20 text-emerald-400' : 'bg-zinc-700/50 text-zinc-400'\r\n            )}>\r\n              {index + 1}\r\n            </div>\r\n            <h4 className=\"font-semibold text-white text-lg\">{proposal.name}</h4>\r\n            {index === 0 && (\r\n              <span className=\"flex items-center gap-1 text-xs font-medium text-amber-400 bg-amber-500/10 px-2 py-1 rounded-full\">\r\n                <Star className=\"h-3 w-3\" />\r\n                Recomendado\r\n              </span>\r\n            )}\r\n          </div>\r\n          <p className=\"text-zinc-400 text-sm line-clamp-2\">{proposal.summary}</p>\r\n        </div>\r\n        \r\n        {scorecard && (\r\n          <div className=\"text-right ml-4\">\r\n            <div className={cn(\r\n              'text-3xl font-bold',\r\n              overallScore >= 7.5 ? 'text-emerald-400' :\r\n              overallScore >= 6 ? 'text-amber-400' : 'text-red-400'\r\n            )}>\r\n              {overallScore.toFixed(1)}\r\n            </div>\r\n            <div className=\"text-xs text-zinc-500\">Score</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Stages preview */}\r\n      {proposal.architecture?.stages && (\r\n        <div className=\"flex items-center gap-2 mb-4 overflow-x-auto pb-2\">\r\n          {proposal.architecture.stages.slice(0, 5).map((stage, i) => (\r\n            <div key={i} className=\"flex items-center\">\r\n              <div className=\"px-3 py-1.5 bg-zinc-800/50 rounded-lg text-xs text-zinc-300 whitespace-nowrap\">\r\n                {stage.name}\r\n              </div>\r\n              {i < Math.min(proposal.architecture.stages.length - 1, 4) && (\r\n                <ChevronRight className=\"h-4 w-4 text-zinc-600 mx-1\" />\r\n              )}\r\n            </div>\r\n          ))}\r\n          {proposal.architecture.stages.length > 5 && (\r\n            <span className=\"text-xs text-zinc-500\">+{proposal.architecture.stages.length - 5}</span>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick metrics */}\r\n      {scorecard && (\r\n        <div className=\"grid grid-cols-3 gap-3 pt-4 border-t border-white/[0.06]\">\r\n          <div>\r\n            <div className=\"text-xs text-zinc-500 mb-1\">Clareza</div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <div className=\"h-1.5 flex-1 bg-zinc-800 rounded-full overflow-hidden\">\r\n                <div \r\n                  className=\"h-full bg-emerald-500 rounded-full\" \r\n                  style={{ width: `${(scorecard.clarity / 10) * 100}%` }}\r\n                />\r\n              </div>\r\n              <span className=\"text-xs text-zinc-400\">{scorecard.clarity}</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-xs text-zinc-500 mb-1\">Oferta</div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <div className=\"h-1.5 flex-1 bg-zinc-800 rounded-full overflow-hidden\">\r\n                <div \r\n                  className=\"h-full bg-amber-500 rounded-full\" \r\n                  style={{ width: `${(scorecard.offerStrength / 10) * 100}%` }}\r\n                />\r\n              </div>\r\n              <span className=\"text-xs text-zinc-400\">{scorecard.offerStrength}</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-xs text-zinc-500 mb-1\">ROI</div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <div className=\"h-1.5 flex-1 bg-zinc-800 rounded-full overflow-hidden\">\r\n                <div \r\n                  className=\"h-full bg-blue-500 rounded-full\" \r\n                  style={{ width: `${(scorecard.expectedRoi / 10) * 100}%` }}\r\n                />\r\n              </div>\r\n              <span className=\"text-xs text-zinc-400\">{scorecard.expectedRoi}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Hover indicator */}\r\n      <div className=\"flex items-center justify-end mt-4 text-sm text-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n        Ver detalhes <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nimport { AutopsyReportView } from '@/components/funnel-autopsy/AutopsyReportView';\r\nimport { AutopsyRunResponse } from '@/types/autopsy';\r\n\r\nconst GeneratingState = () => {\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      className=\"card-premium p-12 text-center relative overflow-hidden\"\r\n    >\r\n      <div className=\"absolute inset-0 bg-zinc-950/50 backdrop-blur-sm z-0\" />\r\n      <div className=\"relative z-10\">\r\n        <div className=\"relative mx-auto mb-8 w-24 h-24\">\r\n          <motion.div\r\n            animate={{ rotate: 360 }}\r\n            transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\r\n            className=\"absolute inset-0 rounded-full border-2 border-purple-500/20 border-t-purple-500\"\r\n          />\r\n          <div className=\"absolute inset-3 rounded-full bg-gradient-to-br from-purple-500/20 to-transparent flex items-center justify-center\">\r\n            <Zap className=\"h-8 w-8 text-purple-400 animate-pulse\" />\r\n          </div>\r\n        </div>\r\n        \r\n        <h3 className=\"text-xl font-black text-white mb-3 uppercase tracking-widest\">\r\n          Iniciando Aut√≥psia Forense...\r\n        </h3>\r\n        \r\n        <p className=\"text-zinc-400 mb-6 max-w-md mx-auto text-sm italic\">\r\n          \"O Agente Monara est√° escaneando a estrutura do funil enquanto o Conselho de Estrategistas prepara o diagn√≥stico.\"\r\n        </p>\r\n        \r\n        <div className=\"flex flex-col items-center gap-4 text-xs font-mono text-zinc-500\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"h-1 w-1 rounded-full bg-purple-500 animate-ping\" />\r\n            <span>[SCRAPING_ENGINE]: ACTIVE</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"h-1 w-1 rounded-full bg-purple-500 animate-ping delay-75\" />\r\n            <span>[HEURISTIC_ANALYSIS]: GEMINI_1.5_PRO_READY</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default function FunnelDetailPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const { remove, update } = useFunnels();\r\n  const [funnel, setFunnel] = useState<Funnel | null>(null);\r\n  const [proposals, setProposals] = useState<Proposal[]>([]);\r\n  const [autopsyReport, setAutopsyReport] = useState<AutopsyRunResponse | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [isAutopsying, setIsAutopsying] = useState(false);\r\n  const [isSavingToLibrary, setIsSavingToLibrary] = useState(false);\r\n  const [savedToLibrary, setSavedToLibrary] = useState(false);\r\n  const [prevStatus, setPrevStatus] = useState<string | null>(null);\r\n  const [isShareDialogOpen, setIsShareDialogOpen] = useState(false);\r\n  const [isExportDialogOpen, setIsExportDialogOpen] = useState(false);\r\n\r\n  // Subscribe to funnel updates\r\n  useEffect(() => {\r\n    if (!params.id) return;\r\n\r\n    const unsubscribe = onSnapshot(\r\n      doc(db, 'funnels', params.id as string),\r\n      (docSnap) => {\r\n        if (docSnap.exists()) {\r\n          const data = { id: docSnap.id, ...docSnap.data() } as Funnel;\r\n          setFunnel(data);\r\n          \r\n          // Check if status changed from generating to review (proposals ready)\r\n          if (funnel?.status === 'generating' && data.status === 'review') {\r\n            notify.success('üéØ Propostas Prontas!', `O Conselho terminou de analisar \"${data.name}\"`);\r\n          }\r\n          \r\n          // Load proposals for all statuses except draft and generating\r\n          if (data.status !== 'draft' && data.status !== 'generating') {\r\n            loadProposals(params.id as string);\r\n          }\r\n        } else {\r\n          setFunnel(null);\r\n        }\r\n        setIsLoading(false);\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [params.id]);\r\n\r\n  // Load proposals\r\n  const loadProposals = async (funnelId: string) => {\r\n    try {\r\n      const q = query(\r\n        collection(db, 'funnels', funnelId, 'proposals'),\r\n        orderBy('version', 'asc')\r\n      );\r\n      const snapshot = await getDocs(q);\r\n      const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Proposal));\r\n      setProposals(data);\r\n    } catch (error) {\r\n      console.error('Error loading proposals:', error);\r\n    }\r\n  };\r\n\r\n  // Autopsy Execution\r\n  const handleRunAutopsy = async () => {\r\n    if (!funnel || !funnel.context.url) {\r\n      notify.error('Erro', 'URL do funil n√£o encontrada no contexto.');\r\n      return;\r\n    }\r\n    \r\n    setIsAutopsying(true);\r\n    try {\r\n      const response = await fetch('/api/intelligence/autopsy/run', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ \r\n          brandId: funnel.brandId || 'default',\r\n          url: funnel.context.url,\r\n          depth: 'deep',\r\n          context: {\r\n            targetAudience: funnel.context.audience?.who,\r\n            mainOffer: funnel.context.offer?.what\r\n          }\r\n        }),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Falha na aut√≥psia');\r\n      \r\n      const data = await response.json();\r\n      setAutopsyReport(data);\r\n      notify.success('Aut√≥psia Completa!', 'O diagn√≥stico forense est√° pronto.');\r\n    } catch (error) {\r\n      console.error('Autopsy error:', error);\r\n      notify.error('Erro na Aut√≥psia', 'N√£o foi poss√≠vel completar o diagn√≥stico.');\r\n    } finally {\r\n      setIsAutopsying(false);\r\n    }\r\n  };\r\n\r\n  // Generate proposals\r\n  const handleGenerate = async () => {\r\n    if (!funnel) return;\r\n    \r\n    setIsGenerating(true);\r\n    try {\r\n      const response = await fetch('/api/funnels/generate', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ funnelId: funnel.id, context: funnel.context }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'Failed to generate proposals');\r\n      }\r\n      \r\n      // Status will be updated via onSnapshot\r\n    } catch (error) {\r\n      console.error('Error generating proposals:', error);\r\n      alert('Erro ao gerar propostas. Tente novamente.');\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!funnel || !confirm('Tem certeza que deseja excluir este funil?')) return;\r\n    await remove(funnel.id);\r\n    router.push('/funnels');\r\n  };\r\n\r\n  const handleExport = async (format: 'markdown' | 'pdf') => {\r\n    if (!funnel) return;\r\n    \r\n    try {\r\n      // Generate markdown locally\r\n      const markdown = generateFunnelMarkdown(funnel, proposals);\r\n      \r\n      if (format === 'markdown') {\r\n        // Download markdown file\r\n        const blob = new Blob([markdown], { type: 'text/markdown' });\r\n        const downloadUrl = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = downloadUrl;\r\n        a.download = `${funnel.name.replace(/[^a-zA-Z0-9]/g, '_')}.md`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        window.URL.revokeObjectURL(downloadUrl);\r\n      } else {\r\n        // For PDF, convert markdown to HTML and open in new tab\r\n        const html = simpleMarkdownToHtml(markdown);\r\n        \r\n        const fullHtml = `<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>${funnel.name} - Export</title>\r\n  <style>\r\n    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px 20px; line-height: 1.6; color: #1a1a1a; }\r\n    h1 { color: #10b981; border-bottom: 2px solid #10b981; padding-bottom: 10px; }\r\n    h2 { color: #374151; margin-top: 30px; }\r\n    h3 { color: #4b5563; }\r\n    h4 { color: #6b7280; }\r\n    table { border-collapse: collapse; width: 100%; margin: 15px 0; }\r\n    th, td { border: 1px solid #e5e7eb; padding: 10px; text-align: left; }\r\n    th { background: #f9fafb; }\r\n    blockquote { border-left: 3px solid #10b981; padding-left: 15px; color: #6b7280; margin: 15px 0; }\r\n    hr { border: none; border-top: 1px solid #e5e7eb; margin: 30px 0; }\r\n    ul, ol { padding-left: 25px; }\r\n    li { margin: 5px 0; }\r\n    strong { color: #111; }\r\n    .print-btn { position: fixed; top: 20px; right: 20px; padding: 10px 20px; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; z-index: 1000; }\r\n    .print-btn:hover { background: #059669; }\r\n    @media print { .print-btn { display: none; } body { padding: 20px; } }\r\n  </style>\r\n</head>\r\n<body>\r\n  <button class=\"print-btn\" onclick=\"window.print()\">üñ®Ô∏è Imprimir PDF</button>\r\n  ${html}\r\n</body>\r\n</html>`;\r\n\r\n        // Use Blob URL instead of document.write\r\n        const blob = new Blob([fullHtml], { type: 'text/html' });\r\n        const blobUrl = URL.createObjectURL(blob);\r\n        window.open(blobUrl, '_blank');\r\n      }\r\n    } catch (error) {\r\n      console.error('Export error:', error);\r\n      alert('Erro ao exportar. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  const handleSelectProposal = (proposalId: string) => {\r\n    router.push(`/funnels/${funnel?.id}/proposals/${proposalId}`);\r\n  };\r\n\r\n  const handleActivateGoldenThread = async () => {\r\n    if (!funnel) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      // US-21: Garantir CampaignId √∫nico (funnelId + timestamp + random)\r\n      const timestamp = Date.now();\r\n      const shortId = Math.random().toString(36).substring(2, 7);\r\n      const campaignId = `${funnel.id}_${timestamp}_${shortId}`;\r\n      \r\n      const campaignRef = doc(db, 'campaigns', campaignId);\r\n      \r\n      // Busca a proposta selecionada para injetar o contexto inicial\r\n      const selectedProposal = proposals.find(p => p.status === 'selected') || proposals[0];\r\n\r\n      const campaignData: any = {\r\n        id: campaignId,\r\n        funnelId: funnel.id,\r\n        brandId: funnel.brandId || '',\r\n        userId: funnel.userId || '',\r\n        name: funnel.name,\r\n        status: 'active',\r\n        funnel: {\r\n          type: funnel.context.objective || 'Funnel',\r\n          architecture: selectedProposal?.strategy?.rationale || '',\r\n          targetAudience: funnel.context.audience?.who || '',\r\n          mainGoal: funnel.context.objective || '',\r\n          stages: selectedProposal?.architecture?.stages?.map(s => s.name) || [],\r\n          summary: selectedProposal?.summary || '',\r\n        },\r\n        createdAt: Timestamp.now(),\r\n        updatedAt: Timestamp.now(),\r\n      };\r\n\r\n      await setDoc(campaignRef, campaignData);\r\n      \r\n      notify.success('Linha de Ouro Ativada!', 'Seu manifesto estrat√©gico foi criado.');\r\n      router.push(`/campaigns/${campaignId}`);\r\n    } catch (error) {\r\n      console.error('Error activating Golden Thread:', error);\r\n      notify.error('Erro', 'Falha ao ativar a Linha de Ouro.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveToLibrary = async () => {\r\n    if (!funnel || proposals.length === 0) return;\r\n    \r\n    const selectedProposal = proposals.find(p => p.status === 'selected') || proposals[0];\r\n    \r\n    setIsSavingToLibrary(true);\r\n    try {\r\n      const response = await fetch('/api/library', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          funnelId: funnel.id,\r\n          proposalId: selectedProposal.id,\r\n          name: `Template: ${funnel.name}`,\r\n          description: selectedProposal.summary,\r\n          tags: [funnel.context.objective, funnel.context.channel?.main].filter(Boolean),\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to save template');\r\n      }\r\n\r\n      setSavedToLibrary(true);\r\n    } catch (error) {\r\n      console.error('Error saving to library:', error);\r\n      alert('Erro ao salvar na biblioteca. Tente novamente.');\r\n    } finally {\r\n      setIsSavingToLibrary(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex min-h-screen flex-col\">\r\n        <Header title=\"Carregando...\" showBack />\r\n        <div className=\"flex-1 p-8\">\r\n          <div className=\"animate-pulse space-y-6 max-w-5xl mx-auto\">\r\n            <div className=\"h-20 rounded-xl bg-zinc-800/50\" />\r\n            <div className=\"grid gap-5 md:grid-cols-2\">\r\n              {[1, 2, 3, 4].map((i) => (\r\n                <div key={i} className=\"h-40 rounded-xl bg-zinc-800/50\" />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!funnel) {\r\n    return (\r\n      <div className=\"flex min-h-screen flex-col\">\r\n        <Header title=\"Funil n√£o encontrado\" showBack />\r\n        <div className=\"flex-1 p-8 flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <div className=\"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-zinc-800/50 mb-4\">\r\n              <Target className=\"h-8 w-8 text-zinc-600\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-white\">Funil n√£o encontrado</h3>\r\n            <p className=\"mt-2 text-zinc-500\">O funil pode ter sido exclu√≠do ou n√£o existe.</p>\r\n            <Link href=\"/funnels\">\r\n              <Button className=\"mt-6 btn-accent\">Voltar para Funis</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const status = STATUS_CONFIG[funnel.status] || STATUS_CONFIG.draft;\r\n  const isStatusGenerating = funnel.status === 'generating' || isGenerating;\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col\">\r\n      <Header\r\n        title={funnel.name}\r\n        showBack\r\n        actions={\r\n          <div className=\"flex items-center gap-2\">\r\n            {funnel.context.url && (\r\n              <Button \r\n                onClick={handleRunAutopsy}\r\n                disabled={isAutopsying}\r\n                className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold\"\r\n              >\r\n                {isAutopsying ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Zap className=\"mr-2 h-4 w-4\" />}\r\n                Executar Aut√≥psia\r\n              </Button>\r\n            )}\r\n            {funnel.status === 'approved' && (\r\n              <Button \r\n                onClick={handleActivateGoldenThread}\r\n                className=\"bg-amber-500 hover:bg-amber-600 text-black font-bold\"\r\n              >\r\n                <Zap className=\"mr-2 h-4 w-4\" />\r\n                Ativar Linha de Ouro\r\n              </Button>\r\n            )}\r\n            {funnel.status === 'approved' && proposals.length > 0 && (\r\n              <Button\r\n                variant=\"outline\"\r\n                className={cn(\r\n                  'btn-ghost',\r\n                  savedToLibrary && 'text-emerald-400 border-emerald-500/50'\r\n                )}\r\n                onClick={handleSaveToLibrary}\r\n                disabled={isSavingToLibrary || savedToLibrary}\r\n              >\r\n                {savedToLibrary ? (\r\n                  <>\r\n                    <Check className=\"mr-2 h-4 w-4\" />\r\n                    Salvo\r\n                  </>\r\n                ) : isSavingToLibrary ? (\r\n                  <>\r\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    Salvando...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <BookmarkPlus className=\"mr-2 h-4 w-4\" />\r\n                    Salvar na Biblioteca\r\n                  </>\r\n                )}\r\n              </Button>\r\n            )}\r\n            <Button variant=\"ghost\" className=\"btn-ghost\" onClick={() => setIsExportDialogOpen(true)}>\r\n              <Download className=\"mr-2 h-4 w-4\" />\r\n              Exportar\r\n            </Button>\r\n            <Button variant=\"ghost\" className=\"btn-ghost\" onClick={() => setIsShareDialogOpen(true)}>\r\n              <Share2 className=\"mr-2 h-4 w-4\" />\r\n              Compartilhar\r\n            </Button>\r\n            <Button variant=\"ghost\" className=\"btn-ghost\" onClick={handleDelete}>\r\n              <Trash2 className=\"mr-2 h-4 w-4\" />\r\n              Excluir\r\n            </Button>\r\n            <Link href={`/chat?funnelId=${funnel.id}`}>\r\n              <Button className=\"btn-accent\">\r\n                <MessageSquare className=\"mr-2 h-4 w-4\" />\r\n                Consultar Conselho\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        }\r\n      />\r\n\r\n      <div className=\"flex-1 p-4 sm:p-8\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n          {/* Status Banner */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className={cn(\r\n              'card-premium p-5 sm:p-6 mb-6 sm:mb-8 border-l-4 relative overflow-hidden',\r\n              status.color.replace('text', 'border')\r\n            )}\r\n          >\r\n            {/* Background Glow */}\r\n            <div className={cn(\"absolute inset-0 bg-gradient-to-r opacity-20 pointer-events-none\", status.glow)} />\r\n            \r\n            <div className=\"relative flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n              <div className=\"flex items-start gap-3 sm:gap-4\">\r\n                <div className={cn(\r\n                  'flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl sm:rounded-2xl shrink-0',\r\n                  status.bg\r\n                )}>\r\n                  {funnel.status === 'approved' && <CheckCircle2 className={cn(\"h-5 w-5 sm:h-6 sm:w-6\", status.color)} />}\r\n                  {funnel.status === 'review' && <AlertCircle className={cn(\"h-5 w-5 sm:h-6 sm:w-6\", status.color)} />}\r\n                  {funnel.status === 'killed' && <XCircle className={cn(\"h-5 w-5 sm:h-6 sm:w-6\", status.color)} />}\r\n                  {funnel.status === 'generating' && <Loader2 className={cn(\"h-5 w-5 sm:h-6 sm:w-6 animate-spin\", status.color)} />}\r\n                  {['draft', 'adjusting', 'executing', 'completed'].includes(funnel.status) && <Clock className={cn(\"h-5 w-5 sm:h-6 sm:w-6\", status.color)} />}\r\n                </div>\r\n                <div>\r\n                  <div className={cn(\r\n                    'inline-flex items-center gap-2 px-2.5 py-0.5 rounded-full text-[9px] sm:text-[10px] font-bold uppercase tracking-wider mb-1.5 sm:mb-2',\r\n                    status.color, status.bg, \"border border-white/[0.05]\"\r\n                  )}>\r\n                    {status.label}\r\n                  </div>\r\n                  <h3 className=\"text-lg sm:text-xl font-bold text-white mb-1\">Status Estrat√©gico</h3>\r\n                  <p className=\"text-zinc-400 text-xs sm:text-sm max-w-xl leading-relaxed\">{status.description}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              {funnel.status === 'draft' && !isGenerating && (\r\n                <Button className=\"btn-accent w-full md:w-auto shadow-lg shadow-emerald-500/20\" onClick={handleGenerate}>\r\n                  <Sparkles className=\"mr-2 h-4 w-4\" />\r\n                  Gerar Propostas\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Generating State */}\r\n          <AnimatePresence>\r\n            {isStatusGenerating && <GeneratingState />}\r\n          </AnimatePresence>\r\n\r\n          {/* Autopsy Report Section */}\r\n          <AnimatePresence>\r\n            {isAutopsying && <GeneratingState />}\r\n            {autopsyReport && !isAutopsying && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className=\"mb-12\"\r\n              >\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-2xl font-black text-white flex items-center gap-3\">\r\n                    <div className=\"p-2 bg-purple-500/20 rounded-lg\">\r\n                      <Zap className=\"h-6 w-6 text-purple-400\" />\r\n                    </div>\r\n                    Relat√≥rio de Aut√≥psia Forense\r\n                  </h3>\r\n                  <Button \r\n                    variant=\"outline\" \r\n                    size=\"sm\" \r\n                    className=\"border-zinc-800 text-zinc-500 hover:text-white\"\r\n                    onClick={() => setAutopsyReport(null)}\r\n                  >\r\n                    Fechar Relat√≥rio\r\n                  </Button>\r\n                </div>\r\n                <AutopsyReportView report={autopsyReport.report} />\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* Proposals Section */}\r\n          {proposals.length > 0 && !isStatusGenerating && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"mb-8\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-5\">\r\n                <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\r\n                  <Zap className=\"h-5 w-5 text-emerald-400\" />\r\n                  Propostas do Conselho\r\n                  <span className=\"text-sm font-normal text-zinc-500\">\r\n                    ({proposals.length} {proposals.length === 1 ? 'proposta' : 'propostas'})\r\n                  </span>\r\n                </h3>\r\n              </div>\r\n              \r\n              <VersionHistory\r\n                proposals={proposals}\r\n                onSelectProposal={handleSelectProposal}\r\n              />\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Context Info Grid */}\r\n          {!isStatusGenerating && (\r\n            <div className=\"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2\">\r\n              {/* Objetivo */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.1 }}\r\n                className=\"card-premium p-5\"\r\n              >\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-500/10\">\r\n                    <Target className=\"h-5 w-5 text-emerald-400\" />\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold text-white\">Contexto</h3>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <span className=\"text-sm text-zinc-500\">Objetivo</span>\r\n                    <p className=\"text-white font-medium capitalize\">{funnel.context.objective}</p>\r\n                  </div>\r\n                  {funnel.context.company && (\r\n                    <div>\r\n                      <span className=\"text-sm text-zinc-500\">Empresa</span>\r\n                      <p className=\"text-zinc-300\">{funnel.context.company}</p>\r\n                    </div>\r\n                  )}\r\n                  {funnel.context.market && (\r\n                    <div>\r\n                      <span className=\"text-sm text-zinc-500\">Mercado</span>\r\n                      <p className=\"text-zinc-300\">{funnel.context.market}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* P√∫blico */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.15 }}\r\n                className=\"card-premium p-5\"\r\n              >\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-500/10\">\r\n                    <Users className=\"h-5 w-5 text-blue-400\" />\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold text-white\">P√∫blico</h3>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <span className=\"text-sm text-zinc-500\">Quem √©</span>\r\n                    <p className=\"text-zinc-300\">{funnel.context.audience?.who}</p>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-sm text-zinc-500\">Dor principal</span>\r\n                    <p className=\"text-zinc-300\">{funnel.context.audience?.pain}</p>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-sm text-zinc-500\">N√≠vel de consci√™ncia</span>\r\n                    <p className=\"text-white font-medium\">\r\n                      {AWARENESS_LABELS[funnel.context.audience?.awareness || ''] || funnel.context.audience?.awareness}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Oferta */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n                className=\"card-premium p-5\"\r\n              >\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-500/10\">\r\n                    <Package className=\"h-5 w-5 text-amber-400\" />\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold text-white\">Oferta</h3>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <span className=\"text-sm text-zinc-500\">Produto</span>\r\n                    <p className=\"text-white font-medium\">{funnel.context.offer?.what}</p>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <span className=\"text-sm text-zinc-500\">Ticket</span>\r\n                      <p className=\"text-emerald-400 font-semibold text-lg\">\r\n                        {funnel.context.offer?.ticket}\r\n                      </p>\r\n                    </div>\r\n                    {funnel.context.offer?.type && (\r\n                      <div>\r\n                        <span className=\"text-sm text-zinc-500\">Tipo</span>\r\n                        <p className=\"text-zinc-300 capitalize\">{funnel.context.offer.type}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Canais */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.25 }}\r\n                className=\"card-premium p-5\"\r\n              >\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-500/10\">\r\n                    <Radio className=\"h-5 w-5 text-violet-400\" />\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold text-white\">Canais</h3>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <span className=\"text-sm text-zinc-500\">Principal</span>\r\n                    <p className=\"text-white font-medium capitalize\">{funnel.context.channel?.main}</p>\r\n                  </div>\r\n                  {funnel.context.channel?.secondary && (\r\n                    <div>\r\n                      <span className=\"text-sm text-zinc-500\">Secund√°rio</span>\r\n                      <p className=\"text-zinc-300 capitalize\">{funnel.context.channel.secondary}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          )}\r\n\r\n          {/* CTA for draft */}\r\n          {funnel.status === 'draft' && !isGenerating && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.35 }}\r\n              className=\"mt-8 card-premium p-8 text-center\"\r\n            >\r\n              <div className=\"relative mx-auto mb-6\">\r\n                <div className=\"absolute inset-0 rounded-2xl bg-emerald-500/20 blur-2xl\" />\r\n                <div className=\"relative flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-emerald-500 to-emerald-600 mx-auto\">\r\n                  <Sparkles className=\"h-8 w-8 text-white\" />\r\n                </div>\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold text-white mb-2\">\r\n                Pronto para criar propostas?\r\n              </h3>\r\n              <p className=\"text-zinc-400 mb-6 max-w-md mx-auto\">\r\n                O Conselho vai analisar seu contexto e gerar propostas de funil\r\n                com arquitetura, copy e m√©tricas.\r\n              </p>\r\n              <Button className=\"btn-accent\" onClick={handleGenerate}>\r\n                <Sparkles className=\"mr-2 h-4 w-4\" />\r\n                Gerar Propostas com o Conselho\r\n              </Button>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Decision History */}\r\n          {!isStatusGenerating && funnel.status !== 'draft' && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.4 }}\r\n              className=\"mt-8\"\r\n            >\r\n              <h3 className=\"text-lg font-semibold text-white mb-5 flex items-center gap-2\">\r\n                <Clock className=\"h-5 w-5 text-zinc-400\" />\r\n                Hist√≥rico de Decis√µes\r\n              </h3>\r\n              <DecisionTimeline funnelId={funnel.id} />\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Share Dialog */}\r\n      <ShareDialog\r\n        isOpen={isShareDialogOpen}\r\n        onClose={() => setIsShareDialogOpen(false)}\r\n        funnelId={funnel.id}\r\n        funnelName={funnel.name}\r\n      />\r\n      \r\n      {/* Export Dialog */}\r\n      <ExportDialog\r\n        isOpen={isExportDialogOpen}\r\n        onClose={() => setIsExportDialogOpen(false)}\r\n        funnel={funnel}\r\n        proposals={proposals}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  CheckCircle2,\r\n  XCircle,\r\n  RefreshCw,\r\n  Clock,\r\n  User,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  FileText,\r\n  Sparkles,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport type { Decision } from '@/types/database';\r\n\r\ninterface DecisionTimelineProps {\r\n  funnelId: string;\r\n  className?: string;\r\n}\r\n\r\nconst DECISION_CONFIG = {\r\n  EXECUTAR: {\r\n    icon: CheckCircle2,\r\n    color: 'text-emerald-400',\r\n    bg: 'bg-emerald-500/10',\r\n    border: 'border-emerald-500/30',\r\n    label: 'Aprovado para Execu√ß√£o',\r\n  },\r\n  AJUSTAR: {\r\n    icon: RefreshCw,\r\n    color: 'text-amber-400',\r\n    bg: 'bg-amber-500/10',\r\n    border: 'border-amber-500/30',\r\n    label: 'Ajustes Solicitados',\r\n  },\r\n  MATAR: {\r\n    icon: XCircle,\r\n    color: 'text-red-400',\r\n    bg: 'bg-red-500/10',\r\n    border: 'border-red-500/30',\r\n    label: 'Descartado',\r\n  },\r\n};\r\n\r\ninterface DecisionWithMetadata extends Decision {\r\n  metadata?: {\r\n    userName?: string;\r\n    proposalName?: string;\r\n    proposalVersion?: number;\r\n    funnelName?: string;\r\n  };\r\n}\r\n\r\nfunction DecisionCard({ decision, isLast }: { decision: DecisionWithMetadata; isLast: boolean }) {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const config = DECISION_CONFIG[decision.type] ?? DECISION_CONFIG.EXECUTAR;\r\n  if (!DECISION_CONFIG[decision.type] && process.env.NODE_ENV !== 'production') {\r\n    console.warn(`[DecisionTimeline] Tipo desconhecido: \"${decision.type}\". Usando fallback EXECUTAR.`);\r\n  }\r\n  const Icon = config.icon;\r\n\r\n  const createdAt = decision.createdAt?.toDate?.() || new Date();\r\n  const formattedDate = createdAt.toLocaleDateString('pt-BR', {\r\n    day: '2-digit',\r\n    month: 'short',\r\n    year: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  });\r\n\r\n  return (\r\n    <div className=\"relative flex gap-4\">\r\n      {/* Timeline line */}\r\n      {!isLast && (\r\n        <div className=\"absolute left-5 top-12 bottom-0 w-px bg-zinc-800\" />\r\n      )}\r\n\r\n      {/* Icon */}\r\n      <div className={cn(\r\n        'relative z-10 flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl',\r\n        config.bg,\r\n        config.border,\r\n        'border'\r\n      )}>\r\n        <Icon className={cn('h-5 w-5', config.color)} />\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 pb-8\">\r\n        <div \r\n          className={cn(\r\n            'rounded-xl border p-4 transition-all cursor-pointer',\r\n            'border-white/[0.06] bg-white/[0.02]',\r\n            'hover:border-white/[0.1] hover:bg-white/[0.04]'\r\n          )}\r\n          onClick={() => setIsExpanded(!isExpanded)}\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex items-start justify-between\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className={cn('font-semibold', config.color)}>\r\n                  {config.label}\r\n                </span>\r\n                {decision.metadata?.proposalVersion && (\r\n                  <span className=\"text-xs text-zinc-500 px-2 py-0.5 bg-zinc-800 rounded\">\r\n                    v{decision.metadata.proposalVersion}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <p className=\"text-sm text-zinc-400 mt-1\">\r\n                {decision.parecer?.summary || 'Sem descri√ß√£o'}\r\n              </p>\r\n            </div>\r\n            <Button variant=\"ghost\" size=\"sm\" className=\"text-zinc-500\">\r\n              {isExpanded ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Meta */}\r\n          <div className=\"flex items-center gap-4 mt-3 text-xs text-zinc-500\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <User className=\"h-3.5 w-3.5\" />\r\n              {decision.metadata?.userName || 'Usu√°rio'}\r\n            </div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <Clock className=\"h-3.5 w-3.5\" />\r\n              {formattedDate}\r\n            </div>\r\n            {decision.metadata?.proposalName && (\r\n              <div className=\"flex items-center gap-1\">\r\n                <FileText className=\"h-3.5 w-3.5\" />\r\n                {decision.metadata.proposalName}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Expanded content */}\r\n          <AnimatePresence>\r\n            {isExpanded && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                exit={{ opacity: 0, height: 0 }}\r\n                className=\"mt-4 pt-4 border-t border-white/[0.06]\"\r\n              >\r\n                {/* Next Steps */}\r\n                {decision.parecer?.nextSteps && decision.parecer.nextSteps.length > 0 && (\r\n                  <div className=\"mb-4\">\r\n                    <h4 className=\"text-sm font-medium text-zinc-300 mb-2\">Pr√≥ximos Passos</h4>\r\n                    <ul className=\"space-y-1\">\r\n                      {decision.parecer.nextSteps.map((step, index) => (\r\n                        <li key={index} className=\"flex items-center gap-2 text-sm text-zinc-400\">\r\n                          <span className=\"h-1.5 w-1.5 rounded-full bg-zinc-600\" />\r\n                          {step}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Adjustments (for AJUSTAR) */}\r\n                {decision.type === 'AJUSTAR' && decision.adjustments && decision.adjustments.length > 0 && (\r\n                  <div className=\"mb-4\">\r\n                    <h4 className=\"text-sm font-medium text-amber-400 mb-2\">Ajustes Solicitados</h4>\r\n                    <ul className=\"space-y-1\">\r\n                      {decision.adjustments.map((adj, index) => (\r\n                        <li key={index} className=\"flex items-center gap-2 text-sm text-zinc-400\">\r\n                          <RefreshCw className=\"h-3 w-3 text-amber-400\" />\r\n                          {adj}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Score if available */}\r\n                {decision.parecer?.consolidated?.totalScore && (\r\n                  <div className=\"flex items-center gap-2 text-sm\">\r\n                    <Sparkles className=\"h-4 w-4 text-emerald-400\" />\r\n                    <span className=\"text-zinc-400\">Score do Conselho:</span>\r\n                    <span className=\"font-semibold text-white\">\r\n                      {typeof decision.parecer.consolidated.totalScore === 'number' \r\n                        ? decision.parecer.consolidated.totalScore.toFixed(1) \r\n                        : decision.parecer.consolidated.totalScore}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function DecisionTimeline({ funnelId, className }: DecisionTimelineProps) {\r\n  const [decisions, setDecisions] = useState<DecisionWithMetadata[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadDecisions();\r\n  }, [funnelId]);\r\n\r\n  const loadDecisions = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await fetch(`/api/decisions?funnelId=${funnelId}`);\r\n      const data = await response.json();\r\n      setDecisions(data.decisions || []);\r\n    } catch (error) {\r\n      console.error('Error loading decisions:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={cn('space-y-4', className)}>\r\n        {[1, 2].map((i) => (\r\n          <div key={i} className=\"flex gap-4 animate-pulse\">\r\n            <div className=\"h-10 w-10 rounded-xl bg-zinc-800\" />\r\n            <div className=\"flex-1\">\r\n              <div className=\"h-24 rounded-xl bg-zinc-800\" />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (decisions.length === 0) {\r\n    return (\r\n      <div className={cn('text-center py-8', className)}>\r\n        <div className=\"mx-auto flex h-12 w-12 items-center justify-center rounded-xl bg-zinc-800/50 mb-3\">\r\n          <Clock className=\"h-6 w-6 text-zinc-600\" />\r\n        </div>\r\n        <p className=\"text-sm text-zinc-500\">Nenhuma decis√£o registrada</p>\r\n        <p className=\"text-xs text-zinc-600 mt-1\">\r\n          Avalie uma proposta para registrar a primeira decis√£o\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"space-y-0\">\r\n        {decisions.map((decision, index) => (\r\n          <DecisionCard\r\n            key={decision.id}\r\n            decision={decision}\r\n            isLast={index === decisions.length - 1}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  GitBranch, \r\n  ChevronDown, \r\n  ChevronRight,\r\n  Clock,\r\n  Star,\r\n  RefreshCw,\r\n  CheckCircle2,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport type { Proposal, ProposalScorecard } from '@/types/database';\r\n\r\ninterface VersionHistoryProps {\r\n  proposals: Proposal[];\r\n  onSelectProposal: (proposalId: string) => void;\r\n  className?: string;\r\n}\r\n\r\ninterface ProposalGroup {\r\n  original: Proposal;\r\n  versions: Proposal[];\r\n}\r\n\r\nfunction groupProposalsByFamily(proposals: Proposal[]): ProposalGroup[] {\r\n  const groups: Map<string, ProposalGroup> = new Map();\r\n  \r\n  // First pass: identify originals (no parentProposalId)\r\n  proposals.forEach(p => {\r\n    if (!p.parentProposalId) {\r\n      groups.set(p.id, { original: p, versions: [] });\r\n    }\r\n  });\r\n  \r\n  // Second pass: add versions to their parents\r\n  proposals.forEach(p => {\r\n    if (p.parentProposalId && groups.has(p.parentProposalId)) {\r\n      groups.get(p.parentProposalId)!.versions.push(p);\r\n    } else if (p.parentProposalId) {\r\n      // Parent not found, treat as standalone\r\n      groups.set(p.id, { original: p, versions: [] });\r\n    }\r\n  });\r\n  \r\n  // Sort versions by version number\r\n  groups.forEach(group => {\r\n    group.versions.sort((a, b) => (b.version || 0) - (a.version || 0));\r\n  });\r\n  \r\n  return Array.from(groups.values());\r\n}\r\n\r\nfunction VersionCard({ \r\n  proposal, \r\n  isOriginal,\r\n  isLatest,\r\n  onSelect \r\n}: { \r\n  proposal: Proposal;\r\n  isOriginal: boolean;\r\n  isLatest: boolean;\r\n  onSelect: () => void;\r\n}) {\r\n  const scorecard = proposal.scorecard as ProposalScorecard | undefined;\r\n  const score = scorecard?.overall || 0;\r\n  \r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, x: -10 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n      className={cn(\r\n        'flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all',\r\n        'hover:bg-white/[0.04]',\r\n        isLatest ? 'bg-emerald-500/10 border border-emerald-500/30' : 'bg-white/[0.02]'\r\n      )}\r\n      onClick={onSelect}\r\n    >\r\n      <div className={cn(\r\n        'flex h-8 w-8 items-center justify-center rounded-lg text-xs font-bold',\r\n        isLatest ? 'bg-emerald-500 text-white' : 'bg-zinc-700 text-zinc-300'\r\n      )}>\r\n        v{proposal.version || 1}\r\n      </div>\r\n      \r\n      <div className=\"flex-1 min-w-0\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-sm font-medium text-white truncate\">\r\n            {proposal.name}\r\n          </span>\r\n          {isLatest && (\r\n            <span className=\"text-[10px] px-1.5 py-0.5 bg-emerald-500/20 text-emerald-400 rounded\">\r\n              ATUAL\r\n            </span>\r\n          )}\r\n          {isOriginal && !isLatest && (\r\n            <span className=\"text-[10px] px-1.5 py-0.5 bg-zinc-700 text-zinc-400 rounded\">\r\n              ORIGINAL\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        {proposal.appliedAdjustments && proposal.appliedAdjustments.length > 0 && (\r\n          <p className=\"text-xs text-zinc-500 mt-0.5 truncate\">\r\n            Ajustes: {proposal.appliedAdjustments.slice(0, 2).join(', ')}\r\n            {proposal.appliedAdjustments.length > 2 && '...'}\r\n          </p>\r\n        )}\r\n      </div>\r\n      \r\n      <div className={cn(\r\n        'text-sm font-semibold',\r\n        score >= 7.5 ? 'text-emerald-400' :\r\n        score >= 6 ? 'text-amber-400' : 'text-red-400'\r\n      )}>\r\n        {score.toFixed(1)}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nfunction ProposalGroupCard({ \r\n  group, \r\n  onSelectProposal \r\n}: { \r\n  group: ProposalGroup;\r\n  onSelectProposal: (id: string) => void;\r\n}) {\r\n  const [isExpanded, setIsExpanded] = useState(group.versions.length > 0);\r\n  const hasVersions = group.versions.length > 0;\r\n  const latestVersion = hasVersions \r\n    ? group.versions[0] \r\n    : group.original;\r\n  const allVersions = [group.original, ...group.versions];\r\n  \r\n  const scorecard = latestVersion.scorecard as ProposalScorecard | undefined;\r\n  const score = scorecard?.overall || 0;\r\n\r\n  return (\r\n    <div className=\"card-premium overflow-hidden\">\r\n      {/* Main Card Header */}\r\n      <div \r\n        className={cn(\r\n          'p-4 cursor-pointer transition-colors',\r\n          hasVersions && 'hover:bg-white/[0.02]'\r\n        )}\r\n        onClick={() => hasVersions ? setIsExpanded(!isExpanded) : onSelectProposal(group.original.id)}\r\n      >\r\n        <div className=\"flex items-start gap-4\">\r\n          {/* Score Circle */}\r\n          <div className={cn(\r\n            'flex h-14 w-14 flex-shrink-0 items-center justify-center rounded-xl',\r\n            score >= 7.5 ? 'bg-emerald-500/10' :\r\n            score >= 6 ? 'bg-amber-500/10' : 'bg-red-500/10'\r\n          )}>\r\n            <div className=\"text-center\">\r\n              <div className={cn(\r\n                'text-xl font-bold',\r\n                score >= 7.5 ? 'text-emerald-400' :\r\n                score >= 6 ? 'text-amber-400' : 'text-red-400'\r\n              )}>\r\n                {score.toFixed(1)}\r\n              </div>\r\n              <div className=\"text-[10px] text-zinc-500\">SCORE</div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Content */}\r\n          <div className=\"flex-1 min-w-0\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <h4 className=\"font-semibold text-white truncate\">\r\n                {latestVersion.name}\r\n              </h4>\r\n              {hasVersions && (\r\n                <span className=\"flex items-center gap-1 text-xs text-zinc-500\">\r\n                  <GitBranch className=\"h-3 w-3\" />\r\n                  {allVersions.length} vers√µes\r\n                </span>\r\n              )}\r\n            </div>\r\n            \r\n            <p className=\"text-sm text-zinc-400 mt-1 line-clamp-2\">\r\n              {latestVersion.summary}\r\n            </p>\r\n            \r\n            {/* Status badges */}\r\n            <div className=\"flex items-center gap-2 mt-2\">\r\n              {latestVersion.status === 'selected' && (\r\n                <span className=\"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded\">\r\n                  <CheckCircle2 className=\"h-3 w-3\" />\r\n                  Selecionada\r\n                </span>\r\n              )}\r\n              {hasVersions && (\r\n                <span className=\"flex items-center gap-1 text-xs text-blue-400 bg-blue-500/10 px-2 py-0.5 rounded\">\r\n                  <RefreshCw className=\"h-3 w-3\" />\r\n                  Iterada\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Expand button */}\r\n          {hasVersions ? (\r\n            <Button \r\n              variant=\"ghost\" \r\n              size=\"sm\"\r\n              className=\"text-zinc-500\"\r\n              onClick={(e) => { e.stopPropagation(); setIsExpanded(!isExpanded); }}\r\n            >\r\n              {isExpanded ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              size=\"sm\"\r\n              className=\"btn-accent\"\r\n              onClick={() => onSelectProposal(group.original.id)}\r\n            >\r\n              Ver Detalhes\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Expanded Version History */}\r\n      <AnimatePresence>\r\n        {isExpanded && hasVersions && (\r\n          <motion.div\r\n            initial={{ height: 0, opacity: 0 }}\r\n            animate={{ height: 'auto', opacity: 1 }}\r\n            exit={{ height: 0, opacity: 0 }}\r\n            className=\"border-t border-white/[0.06]\"\r\n          >\r\n            <div className=\"p-4 bg-white/[0.01]\">\r\n              <div className=\"flex items-center gap-2 mb-3\">\r\n                <Clock className=\"h-4 w-4 text-zinc-500\" />\r\n                <span className=\"text-sm font-medium text-zinc-400\">\r\n                  Hist√≥rico de Vers√µes\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"space-y-2 pl-2 border-l-2 border-zinc-800\">\r\n                {allVersions.map((version, idx) => (\r\n                  <VersionCard\r\n                    key={version.id}\r\n                    proposal={version}\r\n                    isOriginal={idx === allVersions.length - 1}\r\n                    isLatest={idx === 0}\r\n                    onSelect={() => onSelectProposal(version.id)}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function VersionHistory({ proposals, onSelectProposal, className }: VersionHistoryProps) {\r\n  const groups = groupProposalsByFamily(proposals);\r\n  \r\n  if (proposals.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={cn('space-y-4', className)}>\r\n      {groups.map((group) => (\r\n        <ProposalGroupCard\r\n          key={group.original.id}\r\n          group={group}\r\n          onSelectProposal={onSelectProposal}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Share2, \r\n  Copy, \r\n  Check, \r\n  Link2, \r\n  X,\r\n  Trash2,\r\n  Clock,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { notify } from '@/lib/stores/notification-store';\r\n\r\ninterface ShareDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  funnelId: string;\r\n  funnelName: string;\r\n  currentShareUrl?: string | null;\r\n}\r\n\r\nexport function ShareDialog({ \r\n  isOpen, \r\n  onClose, \r\n  funnelId, \r\n  funnelName,\r\n  currentShareUrl: initialShareUrl,\r\n}: ShareDialogProps) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [shareUrl, setShareUrl] = useState<string | null>(initialShareUrl || null);\r\n  const [copied, setCopied] = useState(false);\r\n  const [expiresIn, setExpiresIn] = useState<number>(0); // 0 = never\r\n\r\n  const createShareLink = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch('/api/funnels/share', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ funnelId, expiresIn }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setShareUrl(data.shareUrl);\r\n        notify.success('Link criado!', 'Compartilhe o link com quem quiser');\r\n      } else {\r\n        notify.error('Erro', data.error);\r\n      }\r\n    } catch (error) {\r\n      notify.error('Erro', 'N√£o foi poss√≠vel criar o link');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const removeShareLink = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(`/api/funnels/share?funnelId=${funnelId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setShareUrl(null);\r\n        notify.info('Link removido', 'O compartilhamento foi desativado');\r\n      }\r\n    } catch (error) {\r\n      notify.error('Erro', 'N√£o foi poss√≠vel remover o link');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = async () => {\r\n    if (!shareUrl) return;\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(shareUrl);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n      notify.success('Copiado!');\r\n    } catch {\r\n      notify.error('Erro ao copiar');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\r\n      <DialogContent className=\"bg-zinc-900 border-zinc-800 max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2 text-white\">\r\n            <Share2 className=\"h-5 w-5 text-emerald-400\" />\r\n            Compartilhar Funil\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 pt-2\">\r\n          <p className=\"text-sm text-zinc-400\">\r\n            Crie um link p√∫blico para compartilhar <strong className=\"text-white\">&quot;{funnelName}&quot;</strong> com qualquer pessoa.\r\n          </p>\r\n\r\n          {!shareUrl ? (\r\n            <>\r\n              {/* Expiration selector */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm text-zinc-400 flex items-center gap-2\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  Expira√ß√£o do link\r\n                </label>\r\n                <div className=\"flex gap-2\">\r\n                  {[\r\n                    { label: 'Nunca', value: 0 },\r\n                    { label: '7 dias', value: 7 },\r\n                    { label: '30 dias', value: 30 },\r\n                  ].map((option) => (\r\n                    <button\r\n                      key={option.value}\r\n                      onClick={() => setExpiresIn(option.value)}\r\n                      className={cn(\r\n                        'flex-1 py-2 px-3 rounded-lg text-sm transition-all',\r\n                        expiresIn === option.value\r\n                          ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30'\r\n                          : 'bg-zinc-800 text-zinc-400 border border-zinc-700 hover:border-zinc-600'\r\n                      )}\r\n                    >\r\n                      {option.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <Button\r\n                onClick={createShareLink}\r\n                disabled={isLoading}\r\n                className=\"w-full btn-accent\"\r\n              >\r\n                {isLoading ? 'Criando...' : 'Criar Link de Compartilhamento'}\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {/* Share URL display */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm text-zinc-400\">Link p√∫blico</label>\r\n                <div className=\"flex gap-2\">\r\n                  <div className=\"flex-1 flex items-center gap-2 bg-zinc-800 rounded-lg px-3 py-2 border border-zinc-700\">\r\n                    <Link2 className=\"h-4 w-4 text-zinc-500 flex-shrink-0\" />\r\n                    <span className=\"text-sm text-white truncate\">{shareUrl}</span>\r\n                  </div>\r\n                  <Button\r\n                    onClick={copyToClipboard}\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    className=\"flex-shrink-0\"\r\n                  >\r\n                    {copied ? (\r\n                      <Check className=\"h-4 w-4 text-emerald-400\" />\r\n                    ) : (\r\n                      <Copy className=\"h-4 w-4\" />\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  onClick={copyToClipboard}\r\n                  className=\"flex-1 btn-accent\"\r\n                >\r\n                  {copied ? 'Copiado!' : 'Copiar Link'}\r\n                </Button>\r\n                <Button\r\n                  onClick={removeShareLink}\r\n                  variant=\"outline\"\r\n                  className=\"text-red-400 hover:text-red-300\"\r\n                  disabled={isLoading}\r\n                >\r\n                  <Trash2 className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <p className=\"text-xs text-zinc-500 text-center\">\r\n            Qualquer pessoa com o link poder√° ver as propostas do funil.\r\n          </p>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n\r\n\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Download, \r\n  FileText, \r\n  Copy, \r\n  Check,\r\n  X,\r\n  FileJson,\r\n  FileCode,\r\n  Clipboard,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { notify } from '@/lib/stores/notification-store';\r\nimport type { Funnel, Proposal } from '@/types/database';\r\n\r\ninterface ExportDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  funnel: Funnel;\r\n  proposals: Proposal[];\r\n}\r\n\r\ntype ExportFormat = 'markdown' | 'html' | 'json' | 'notion';\r\n\r\nconst EXPORT_OPTIONS: { format: ExportFormat; label: string; icon: any; description: string }[] = [\r\n  { format: 'markdown', label: 'Markdown', icon: FileText, description: 'Para documenta√ß√£o e README' },\r\n  { format: 'html', label: 'HTML', icon: FileCode, description: 'Para Google Docs ou email' },\r\n  { format: 'json', label: 'JSON', icon: FileJson, description: 'Para integra√ß√£o com APIs' },\r\n  { format: 'notion', label: 'Notion', icon: Clipboard, description: 'Copiar como blocos Notion' },\r\n];\r\n\r\nfunction generateMarkdown(funnel: Funnel, proposals: Proposal[]): string {\r\n  let md = `# ${funnel.name}\\n\\n`;\r\n  md += `> ${funnel.context?.objective ? `Objetivo: ${funnel.context.objective}` : 'Funil criado com Conselho de Funil'}\\n\\n`;\r\n  \r\n  md += `## üìã Contexto\\n\\n`;\r\n  md += `| Campo | Valor |\\n`;\r\n  md += `|-------|-------|\\n`;\r\n  md += `| **Empresa** | ${funnel.context.company} |\\n`;\r\n  md += `| **Mercado** | ${funnel.context.market} |\\n`;\r\n  md += `| **Objetivo** | ${funnel.context.objective} |\\n`;\r\n  md += `| **Audi√™ncia** | ${funnel.context.audience.who} |\\n`;\r\n  md += `| **Dor** | ${funnel.context.audience.pain} |\\n`;\r\n  md += `| **Awareness** | ${funnel.context.audience.awareness} |\\n`;\r\n  md += `| **Oferta** | ${funnel.context.offer.what} |\\n`;\r\n  md += `| **Ticket** | ${funnel.context.offer.ticket} |\\n`;\r\n  md += `| **Canal Principal** | ${funnel.context.channel?.main || 'N/A'} |\\n\\n`;\r\n\r\n  if (proposals.length > 0) {\r\n    md += `## üéØ Propostas do Conselho\\n\\n`;\r\n    \r\n    proposals.forEach((proposal, i) => {\r\n      md += `### Proposta ${i + 1}: ${proposal.name}\\n\\n`;\r\n      md += `**Score:** ${(proposal.scorecard as any)?.overall?.toFixed(1) || 'N/A'}/10\\n\\n`;\r\n      md += `${proposal.summary}\\n\\n`;\r\n      \r\n      if (proposal.architecture?.stages && proposal.architecture.stages.length > 0) {\r\n        md += `#### Etapas do Funil\\n\\n`;\r\n        proposal.architecture.stages.forEach((stage, j) => {\r\n          md += `${j + 1}. **${stage.name}**\\n`;\r\n          if (stage.objective) md += `   - Objetivo: ${stage.objective}\\n`;\r\n          md += '\\n';\r\n        });\r\n      }\r\n\r\n      if (proposal.strategy?.rationale) {\r\n        md += `#### Racioc√≠nio\\n\\n`;\r\n        md += `${proposal.strategy.rationale}\\n\\n`;\r\n      }\r\n\r\n      md += '---\\n\\n';\r\n    });\r\n  }\r\n\r\n  md += `\\n*Gerado por [Conselho de Funil](https://conselho-de-funil.vercel.app) em ${new Date().toLocaleDateString('pt-BR')}*\\n`;\r\n  \r\n  return md;\r\n}\r\n\r\nfunction generateHTML(funnel: Funnel, proposals: Proposal[]): string {\r\n  let html = `<!DOCTYPE html>\r\n<html lang=\"pt-BR\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>${funnel.name}</title>\r\n  <style>\r\n    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 40px 20px; color: #1a1a1a; }\r\n    h1 { color: #059669; border-bottom: 3px solid #059669; padding-bottom: 10px; }\r\n    h2 { color: #374151; margin-top: 30px; }\r\n    h3 { color: #059669; }\r\n    table { border-collapse: collapse; width: 100%; margin: 15px 0; }\r\n    th, td { border: 1px solid #e5e7eb; padding: 10px; text-align: left; }\r\n    th { background: #f3f4f6; }\r\n    .score { display: inline-block; padding: 4px 12px; border-radius: 20px; font-weight: bold; }\r\n    .score-high { background: #d1fae5; color: #065f46; }\r\n    .score-mid { background: #fef3c7; color: #92400e; }\r\n    .score-low { background: #fee2e2; color: #991b1b; }\r\n    .stage { background: #f9fafb; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #059669; }\r\n    blockquote { border-left: 4px solid #d1d5db; margin: 20px 0; padding: 10px 20px; background: #f9fafb; }\r\n    .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280; font-size: 14px; }\r\n  </style>\r\n</head>\r\n<body>\r\n  <h1>üéØ ${funnel.name}</h1>\r\n  <blockquote>${funnel.context?.objective ? `Objetivo: ${funnel.context.objective}` : 'Funil criado com Conselho de Funil'}</blockquote>\r\n  \r\n  <h2>üìã Contexto</h2>\r\n  <table>\r\n    <tr><th>Campo</th><th>Valor</th></tr>\r\n    <tr><td>Empresa</td><td>${funnel.context.company}</td></tr>\r\n    <tr><td>Mercado</td><td>${funnel.context.market}</td></tr>\r\n    <tr><td>Objetivo</td><td>${funnel.context.objective}</td></tr>\r\n    <tr><td>Audi√™ncia</td><td>${funnel.context.audience.who}</td></tr>\r\n    <tr><td>Dor</td><td>${funnel.context.audience.pain}</td></tr>\r\n    <tr><td>Awareness</td><td>${funnel.context.audience.awareness}</td></tr>\r\n    <tr><td>Oferta</td><td>${funnel.context.offer.what}</td></tr>\r\n    <tr><td>Ticket</td><td>${funnel.context.offer.ticket}</td></tr>\r\n    <tr><td>Canal Principal</td><td>${funnel.context.channel?.main || 'N/A'}</td></tr>\r\n  </table>`;\r\n\r\n  if (proposals.length > 0) {\r\n    html += `<h2>üéØ Propostas do Conselho</h2>`;\r\n    \r\n    proposals.forEach((proposal, i) => {\r\n      const score = (proposal.scorecard as any)?.overall || 0;\r\n      const scoreClass = score >= 7.5 ? 'score-high' : score >= 6 ? 'score-mid' : 'score-low';\r\n      \r\n      html += `\r\n      <h3>Proposta ${i + 1}: ${proposal.name}</h3>\r\n      <p><span class=\"score ${scoreClass}\">${score.toFixed(1)}/10</span></p>\r\n      <p>${proposal.summary}</p>`;\r\n      \r\n      if (proposal.architecture?.stages && proposal.architecture.stages.length > 0) {\r\n        html += `<h4>Etapas do Funil</h4>`;\r\n        proposal.architecture.stages.forEach((stage, j) => {\r\n          html += `\r\n          <div class=\"stage\">\r\n            <strong>${j + 1}. ${stage.name}</strong>\r\n            ${stage.objective ? `<br><small>Objetivo: ${stage.objective}</small>` : ''}\r\n            ${stage.metrics?.target ? `<br><small>Meta: ${stage.metrics.target}</small>` : ''}\r\n          </div>`;\r\n        });\r\n      }\r\n\r\n      if (proposal.strategy?.rationale) {\r\n        html += `<h4>Racioc√≠nio</h4><p>${proposal.strategy.rationale}</p>`;\r\n      }\r\n\r\n      html += '<hr>';\r\n    });\r\n  }\r\n\r\n  html += `\r\n  <div class=\"footer\">\r\n    <p>Gerado por <strong>Conselho de Funil</strong> em ${new Date().toLocaleDateString('pt-BR')}</p>\r\n  </div>\r\n</body>\r\n</html>`;\r\n  \r\n  return html;\r\n}\r\n\r\nfunction generateJSON(funnel: Funnel, proposals: Proposal[]): string {\r\n  const data = {\r\n    funnel: {\r\n      id: funnel.id,\r\n      name: funnel.name,\r\n      status: funnel.status,\r\n      context: funnel.context,\r\n      createdAt: funnel.createdAt,\r\n      updatedAt: funnel.updatedAt,\r\n    },\r\n    proposals: proposals.map(p => ({\r\n      id: p.id,\r\n      name: p.name,\r\n      version: p.version,\r\n      summary: p.summary,\r\n      status: p.status,\r\n      scorecard: p.scorecard,\r\n      architecture: p.architecture,\r\n      strategy: p.strategy,\r\n    })),\r\n    exportedAt: new Date().toISOString(),\r\n    source: 'Conselho de Funil',\r\n  };\r\n  \r\n  return JSON.stringify(data, null, 2);\r\n}\r\n\r\nfunction generateNotionBlocks(funnel: Funnel, proposals: Proposal[]): string {\r\n  // Format optimized for pasting into Notion\r\n  let text = `# ${funnel.name}\\n\\n`;\r\n  text += `> Objetivo: ${funnel.context?.objective || ''}\\n\\n`;\r\n  \r\n  text += `## üìã Contexto\\n`;\r\n  text += `- **Empresa:** ${funnel.context.company}\\n`;\r\n  text += `- **Objetivo:** ${funnel.context.objective}\\n`;\r\n  text += `- **Audi√™ncia:** ${funnel.context.audience.who}\\n`;\r\n  text += `- **Dor:** ${funnel.context.audience.pain}\\n`;\r\n  text += `- **Oferta:** ${funnel.context.offer.what}\\n`;\r\n  text += `- **Ticket:** ${funnel.context.offer.ticket}\\n\\n`;\r\n\r\n  proposals.forEach((proposal, i) => {\r\n    const score = (proposal.scorecard as any)?.overall || 0;\r\n    text += `## üéØ Proposta ${i + 1}: ${proposal.name}\\n`;\r\n    text += `**Score:** ${score.toFixed(1)}/10\\n\\n`;\r\n    text += `${proposal.summary}\\n\\n`;\r\n    \r\n    if (proposal.architecture?.stages && proposal.architecture.stages.length > 0) {\r\n      text += `### Etapas\\n`;\r\n      proposal.architecture.stages.forEach((stage, j) => {\r\n        text += `${j + 1}. **${stage.name}** - ${stage.objective || ''}\\n`;\r\n      });\r\n      text += '\\n';\r\n    }\r\n  });\r\n\r\n  return text;\r\n}\r\n\r\nexport function ExportDialog({ isOpen, onClose, funnel, proposals }: ExportDialogProps) {\r\n  const [selectedFormat, setSelectedFormat] = useState<ExportFormat>('markdown');\r\n  const [copied, setCopied] = useState(false);\r\n  const [isExporting, setIsExporting] = useState(false);\r\n\r\n  const handleExport = async () => {\r\n    setIsExporting(true);\r\n    \r\n    try {\r\n      let content: string;\r\n      let mimeType: string;\r\n      let extension: string;\r\n\r\n      switch (selectedFormat) {\r\n        case 'markdown':\r\n          content = generateMarkdown(funnel, proposals);\r\n          mimeType = 'text/markdown';\r\n          extension = 'md';\r\n          break;\r\n        case 'html':\r\n          content = generateHTML(funnel, proposals);\r\n          mimeType = 'text/html';\r\n          extension = 'html';\r\n          break;\r\n        case 'json':\r\n          content = generateJSON(funnel, proposals);\r\n          mimeType = 'application/json';\r\n          extension = 'json';\r\n          break;\r\n        case 'notion':\r\n          content = generateNotionBlocks(funnel, proposals);\r\n          await navigator.clipboard.writeText(content);\r\n          setCopied(true);\r\n          setTimeout(() => setCopied(false), 2000);\r\n          notify.success('Copiado!', 'Cole no Notion com Ctrl+V');\r\n          setIsExporting(false);\r\n          return;\r\n        default:\r\n          return;\r\n      }\r\n\r\n      // Download file\r\n      const blob = new Blob([content], { type: mimeType });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `${funnel.name.toLowerCase().replace(/\\s+/g, '-')}.${extension}`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n      \r\n      notify.success('Exportado!', `Arquivo ${extension.toUpperCase()} baixado`);\r\n      \r\n    } catch (error) {\r\n      notify.error('Erro', 'Falha ao exportar');\r\n    } finally {\r\n      setIsExporting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\r\n      <DialogContent className=\"bg-zinc-900 border-zinc-800 max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2 text-white\">\r\n            <Download className=\"h-5 w-5 text-emerald-400\" />\r\n            Exportar Funil\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 pt-2\">\r\n          <p className=\"text-sm text-zinc-400\">\r\n            Escolha o formato para exportar <strong className=\"text-white\">&quot;{funnel.name}&quot;</strong>\r\n          </p>\r\n\r\n          {/* Format selection */}\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            {EXPORT_OPTIONS.map((option) => (\r\n              <button\r\n                key={option.format}\r\n                onClick={() => setSelectedFormat(option.format)}\r\n                className={cn(\r\n                  'flex flex-col items-center gap-2 p-4 rounded-lg border transition-all text-left',\r\n                  selectedFormat === option.format\r\n                    ? 'bg-emerald-500/10 border-emerald-500/30 text-white'\r\n                    : 'bg-zinc-800/50 border-zinc-700 text-zinc-400 hover:border-zinc-600'\r\n                )}\r\n              >\r\n                <option.icon className={cn(\r\n                  'h-6 w-6',\r\n                  selectedFormat === option.format ? 'text-emerald-400' : 'text-zinc-500'\r\n                )} />\r\n                <div className=\"text-center\">\r\n                  <p className=\"font-medium text-sm\">{option.label}</p>\r\n                  <p className=\"text-xs text-zinc-500\">{option.description}</p>\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          <Button\r\n            onClick={handleExport}\r\n            disabled={isExporting}\r\n            className=\"w-full btn-accent\"\r\n          >\r\n            {isExporting ? (\r\n              'Exportando...'\r\n            ) : selectedFormat === 'notion' ? (\r\n              copied ? (\r\n                <>\r\n                  <Check className=\"mr-2 h-4 w-4\" />\r\n                  Copiado!\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Copy className=\"mr-2 h-4 w-4\" />\r\n                  Copiar para Notion\r\n                </>\r\n              )\r\n            ) : (\r\n              <>\r\n                <Download className=\"mr-2 h-4 w-4\" />\r\n                Baixar {selectedFormat.toUpperCase()}\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { AutopsyReport, HeuristicResult, Recommendation } from '@/types/autopsy';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { \r\n  AlertCircle, \r\n  CheckCircle2, \r\n  XCircle, \r\n  Zap, \r\n  Target, \r\n  Layers, \r\n  ShieldCheck, \r\n  MousePointer2, \r\n  ArrowRight,\r\n  Clock,\r\n  Globe,\r\n  Monitor\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface AutopsyReportViewProps {\r\n  report: AutopsyReport;\r\n}\r\n\r\nconst HeuristicCard = ({ \r\n  title, \r\n  result, \r\n  icon: Icon, \r\n  delay \r\n}: { \r\n  title: string; \r\n  result: HeuristicResult; \r\n  icon: any; \r\n  delay: number \r\n}) => {\r\n  const statusConfig = {\r\n    pass: { color: 'text-green-400', bg: 'bg-green-500/10', icon: CheckCircle2 },\r\n    fail: { color: 'text-red-400', bg: 'bg-red-500/10', icon: XCircle },\r\n    warning: { color: 'text-yellow-400', bg: 'bg-yellow-500/10', icon: AlertCircle },\r\n  };\r\n\r\n  const config = statusConfig[result.status];\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay }}\r\n      className=\"card-premium p-5 border-l-4 border-l-zinc-800 hover:border-l-purple-500 transition-all\"\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"p-2 bg-zinc-800 rounded-lg\">\r\n            <Icon className=\"w-5 h-5 text-zinc-400\" />\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-bold text-white\">{title}</h4>\r\n            <div className=\"flex items-center gap-2 mt-1\">\r\n              <Progress value={result.score * 10} className=\"h-1 w-20 bg-zinc-800\" />\r\n              <span className={cn(\"text-[10px] font-bold\", config.color)}>{result.score}/10</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <config.icon className={cn(\"w-5 h-5\", config.color)} />\r\n      </div>\r\n      <ul className=\"space-y-2\">\r\n        {result.findings.map((finding, i) => (\r\n          <li key={i} className=\"flex gap-2 text-xs text-zinc-400 leading-relaxed\">\r\n            <div className={cn(\"w-1.5 h-1.5 rounded-full mt-1.5 shrink-0\", config.color.replace('text', 'bg'))} />\r\n            {finding}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport const AutopsyReportView: React.FC<AutopsyReportViewProps> = ({ report }) => {\r\n  const getScoreColor = (s: number) => {\r\n    if (s < 4) return 'text-red-500';\r\n    if (s < 7) return 'text-yellow-500';\r\n    return 'text-green-500';\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8 max-w-6xl mx-auto pb-20\">\r\n      {/* Header Forense */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <Card className=\"lg:col-span-2 bg-zinc-900/50 border-zinc-800 backdrop-blur-sm overflow-hidden\">\r\n          <div className=\"absolute top-0 right-0 p-4 opacity-10\">\r\n            <Target className=\"w-32 h-32\" />\r\n          </div>\r\n          <CardHeader>\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <Badge variant=\"outline\" className=\"text-purple-400 border-purple-500/30 bg-purple-500/5\">\r\n                Diagn√≥stico Forense Ativo\r\n              </Badge>\r\n              <span className=\"text-[10px] text-zinc-500 uppercase tracking-widest\">ID: {report.id}</span>\r\n            </div>\r\n            <CardTitle className=\"text-3xl font-black text-white\">Resumo Executivo</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-zinc-400 leading-relaxed text-lg italic\">\r\n              \"{report.summary}\"\r\n            </p>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8\">\r\n              <div className=\"space-y-1\">\r\n                <span className=\"text-[10px] text-zinc-500 uppercase font-bold\">Health Score</span>\r\n                <div className={cn(\"text-2xl font-black\", getScoreColor(report.score))}>{report.score * 10}%</div>\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <span className=\"text-[10px] text-zinc-500 uppercase font-bold\">Load Time</span>\r\n                <div className=\"text-2xl font-black text-white\">{report.metadata.loadTimeMs}ms</div>\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <span className=\"text-[10px] text-zinc-500 uppercase font-bold\">Tech Stack</span>\r\n                <div className=\"flex flex-wrap gap-1 mt-1\">\r\n                  {report.metadata.techStack.map(tech => (\r\n                    <Badge key={tech} variant=\"secondary\" className=\"text-[9px] bg-zinc-800\">{tech}</Badge>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <span className=\"text-[10px] text-zinc-500 uppercase font-bold\">Status</span>\r\n                <div className=\"flex items-center gap-1 text-emerald-400 text-sm font-bold\">\r\n                  <CheckCircle2 className=\"w-4 h-4\" /> COMPLETO\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"bg-zinc-900/50 border-zinc-800 backdrop-blur-sm flex flex-col items-center justify-center p-6 text-center group\">\r\n          <div className=\"relative w-full aspect-video rounded-xl border border-zinc-800 overflow-hidden bg-zinc-950\">\r\n            {report.metadata.screenshotUrl ? (\r\n              <img \r\n                src={report.metadata.screenshotUrl} \r\n                alt=\"Screenshot do Funil\" \r\n                className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full flex flex-col items-center justify-center text-zinc-700\">\r\n                <Monitor className=\"w-12 h-12 mb-2\" />\r\n                <span className=\"text-xs\">Preview Indispon√≠vel</span>\r\n              </div>\r\n            )}\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-zinc-950 to-transparent opacity-60\" />\r\n            <div className=\"absolute bottom-3 left-3 flex items-center gap-2\">\r\n              <Globe className=\"w-3 h-3 text-zinc-400\" />\r\n              <span className=\"text-[10px] text-zinc-300 truncate max-w-[150px]\">{report.url}</span>\r\n            </div>\r\n          </div>\r\n          <Button variant=\"ghost\" size=\"sm\" className=\"mt-4 text-zinc-500 hover:text-white text-[10px] uppercase font-bold tracking-widest\">\r\n            Ver Captura Full-Size <ArrowRight className=\"w-3 h-3 ml-2\" />\r\n          </Button>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Heur√≠sticas Wilder */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n        <HeuristicCard title=\"Hook\" result={report.heuristics.hook} icon={Zap} delay={0.1} />\r\n        <HeuristicCard title=\"Story\" result={report.heuristics.story} icon={Layers} delay={0.2} />\r\n        <HeuristicCard title=\"Offer\" result={report.heuristics.offer} icon={Target} delay={0.3} />\r\n        <HeuristicCard title=\"Friction\" result={report.heuristics.friction} icon={MousePointer2} delay={0.4} />\r\n        <HeuristicCard title=\"Trust\" result={report.heuristics.trust} icon={ShieldCheck} delay={0.5} />\r\n      </div>\r\n\r\n      {/* Recomenda√ß√µes Priorizadas */}\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n          <AlertCircle className=\"w-5 h-5 text-purple-400\" />\r\n          Plano de A√ß√£o Corretiva\r\n        </h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {report.recommendations.sort((a, b) => {\r\n            const weights = { high: 3, medium: 2, low: 1 };\r\n            return weights[b.priority] - weights[a.priority];\r\n          }).map((rec, i) => (\r\n            <motion.div\r\n              key={i}\r\n              initial={{ opacity: 0, x: -20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ delay: 0.6 + (i * 0.1) }}\r\n              className=\"p-5 bg-zinc-900/30 border border-zinc-800 rounded-2xl flex gap-4 hover:bg-zinc-900/50 transition-colors group\"\r\n            >\r\n              <div className={cn(\r\n                \"w-10 h-10 rounded-xl flex items-center justify-center shrink-0\",\r\n                rec.priority === 'high' ? 'bg-red-500/10 text-red-400' :\r\n                rec.priority === 'medium' ? 'bg-yellow-500/10 text-yellow-400' : 'bg-blue-500/10 text-blue-400'\r\n              )}>\r\n                <Zap className=\"w-5 h-5\" />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge variant=\"outline\" className={cn(\r\n                    \"text-[9px] uppercase font-black\",\r\n                    rec.priority === 'high' ? 'border-red-500/30 text-red-400' :\r\n                    rec.priority === 'medium' ? 'border-yellow-500/30 text-yellow-400' : 'border-blue-500/30 text-blue-400'\r\n                  )}>\r\n                    {rec.priority} Priority\r\n                  </Badge>\r\n                  <Badge variant=\"secondary\" className=\"text-[9px] uppercase bg-zinc-800\">{rec.type}</Badge>\r\n                </div>\r\n                <h5 className=\"font-bold text-white group-hover:text-purple-400 transition-colors\">{rec.action}</h5>\r\n                <p className=\"text-xs text-zinc-500 leading-relaxed\">{rec.impact}</p>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '20', height: '14', x: '2', y: '3', rx: '2', key: '48i651' }],\n  ['line', { x1: '8', x2: '16', y1: '21', y2: '21', key: '1svkeh' }],\n  ['line', { x1: '12', x2: '12', y1: '17', y2: '21', key: 'vw1qmm' }],\n];\n\n/**\n * @component @name Monitor\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjMiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSI4IiB4Mj0iMTYiIHkxPSIyMSIgeTI9IjIxIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTciIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/monitor\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Monitor = createLucideIcon('monitor', __iconNode);\n\nexport default Monitor;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z',\n      key: '1oefj6',\n    },\n  ],\n  ['path', { d: 'M14 2v5a1 1 0 0 0 1 1h5', key: 'wfsgrz' }],\n  ['path', { d: 'M10 12.5 8 15l2 2.5', key: '1tg20x' }],\n  ['path', { d: 'm14 12.5 2 2.5-2 2.5', key: 'yinavb' }],\n];\n\n/**\n * @component @name FileCode\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMmEyIDIgMCAwIDEtMi0yVjRhMiAyIDAgMCAxIDItMmg4YTIuNCAyLjQgMCAwIDEgMS43MDQuNzA2bDMuNTg4IDMuNTg4QTIuNCAyLjQgMCAwIDEgMjAgOHYxMmEyIDIgMCAwIDEtMiAyeiIgLz4KICA8cGF0aCBkPSJNMTQgMnY1YTEgMSAwIDAgMCAxIDFoNSIgLz4KICA8cGF0aCBkPSJNMTAgMTIuNSA4IDE1bDIgMi41IiAvPgogIDxwYXRoIGQ9Im0xNCAxMi41IDIgMi41LTIgMi41IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-code\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileCode = createLucideIcon('file-code', __iconNode);\n\nexport default FileCode;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z', key: '1fy3hk' }],\n  ['line', { x1: '12', x2: '12', y1: '7', y2: '13', key: '1cppfj' }],\n  ['line', { x1: '15', x2: '9', y1: '10', y2: '10', key: '1gty7f' }],\n];\n\n/**\n * @component @name BookmarkPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTkgMjEtNy00LTcgNFY1YTIgMiAwIDAgMSAyLTJoMTBhMiAyIDAgMCAxIDIgMnYxNnoiIC8+CiAgPGxpbmUgeDE9IjEyIiB4Mj0iMTIiIHkxPSI3IiB5Mj0iMTMiIC8+CiAgPGxpbmUgeDE9IjE1IiB4Mj0iOSIgeTE9IjEwIiB5Mj0iMTAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bookmark-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookmarkPlus = createLucideIcon('bookmark-plus', __iconNode);\n\nexport default BookmarkPlus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z',\n      key: '1oefj6',\n    },\n  ],\n  ['path', { d: 'M14 2v5a1 1 0 0 0 1 1h5', key: 'wfsgrz' }],\n  [\n    'path',\n    { d: 'M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1', key: '1oajmo' },\n  ],\n  [\n    'path',\n    { d: 'M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1', key: 'mpwhp6' },\n  ],\n];\n\n/**\n * @component @name FileBraces\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMmEyIDIgMCAwIDEtMi0yVjRhMiAyIDAgMCAxIDItMmg4YTIuNCAyLjQgMCAwIDEgMS43MDQuNzA2bDMuNTg4IDMuNTg4QTIuNCAyLjQgMCAwIDEgMjAgOHYxMmEyIDIgMCAwIDEtMiAyeiIgLz4KICA8cGF0aCBkPSJNMTQgMnY1YTEgMSAwIDAgMCAxIDFoNSIgLz4KICA8cGF0aCBkPSJNMTAgMTJhMSAxIDAgMCAwLTEgMXYxYTEgMSAwIDAgMS0xIDEgMSAxIDAgMCAxIDEgMXYxYTEgMSAwIDAgMCAxIDEiIC8+CiAgPHBhdGggZD0iTTE0IDE4YTEgMSAwIDAgMCAxLTF2LTFhMSAxIDAgMCAxIDEtMSAxIDEgMCAwIDEtMS0xdi0xYTEgMSAwIDAgMC0xLTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-braces\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileBraces = createLucideIcon('file-braces', __iconNode);\n\nexport default FileBraces;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M9 17H7A5 5 0 0 1 7 7h2', key: '8i5ue5' }],\n  ['path', { d: 'M15 7h2a5 5 0 1 1 0 10h-2', key: '1b9ql8' }],\n  ['line', { x1: '8', x2: '16', y1: '12', y2: '12', key: '1jonct' }],\n];\n\n/**\n * @component @name Link2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAxN0g3QTUgNSAwIDAgMSA3IDdoMiIgLz4KICA8cGF0aCBkPSJNMTUgN2gyYTUgNSAwIDEgMSAwIDEwaC0yIiAvPgogIDxsaW5lIHgxPSI4IiB4Mj0iMTYiIHkxPSIxMiIgeTI9IjEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/link-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link2 = createLucideIcon('link-2', __iconNode);\n\nexport default Link2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '8', height: '4', x: '8', y: '2', rx: '1', ry: '1', key: 'tgr4d6' }],\n  [\n    'path',\n    {\n      d: 'M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2',\n      key: '116196',\n    },\n  ],\n];\n\n/**\n * @component @name Clipboard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4PSI4IiB5PSIyIiByeD0iMSIgcnk9IjEiIC8+CiAgPHBhdGggZD0iTTE2IDRoMmEyIDIgMCAwIDEgMiAydjE0YTIgMiAwIDAgMS0yIDJINmEyIDIgMCAwIDEtMi0yVjZhMiAyIDAgMCAxIDItMmgyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clipboard\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clipboard = createLucideIcon('clipboard', __iconNode);\n\nexport default Clipboard;\n"],"names":[],"mappings":"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C,AEgBmC,AFAM,AIAH,ACZhC,CLYmC,AIhBzC,ACAA,ALAA,AIgBsC,ACZhC,AHY6B,AAhBnC,CAAA,AEAA,ACAA,ALAA,AAgByC,AIAH,ACZhC,AHY6B,CAhBnC,AEAA,ACAA,ALAA,AAgByC,AIAH,ACZhC,AHY6B,CGZ7B,AHJN,AFAA,AKAA,ADAA,AFgBmC,AFAM,AIAH,CJhBtC,AKAA,ADAA,AFAA,AEgBsC,ACZhC,AHY6B,AFAM,CIhBzC,AFAA,AGAA,ALAA,AIgBgD,ACZ1C,AHY6B,AFAM,CAAA,AKhBzC,ADAA,AFAA,AFAA,AEgBmC,AEAa,ACZ1C,CAAA,AHY6B,AFAM,CKZnC,ALY6C,iBAhBpB,CIAlB,ACAiB,AHAjB,AFAkB,CIAlB,ACAiB,AHAjB,AFAkB,CEAlB,AFAkB,AIAlB,ACAiB,ELAO,EAAG,CIAA,AJAA,AEA3B,AGAyB,CHAzB,AEA2B,ACAF,ALAE,EAAK,EAAG,CIAH,AFAhC,AFAmC,CIAH,AFAhC,AFAmC,KAAS,CEA5C,AFA4C,AKAF,CAAA,AHA1C,AFA4C,EAAK,CEAjD,AFAiD,GAAK,UAAU,CEAJ,AGAC,ALC3E,CED0E,AGAC,CAAA,cLCvD,GAAI,QAAU,QAAU,CIAD,AFAC,AFAA,CAAA,AIAD,AFAC,CAAA,AEAD,AJAC,EAAM,CEAA,AEAF,AJAE,CIAF,AJAE,AEAA,CFAA,AEAA,AEAF,CJAE,AEAA,AEAF,AJAO,CEAA,AFAA,OAAA,CEAU,AFAA,GAChE,OAAQ,CIAA,AFAA,AFAA,gBAAsB,CIAD,AFAA,AFAC,CAAA,AIAD,AFAA,CFAK,CAAA,AIAD,AFAA,CEAA,AFAA,AFAC,CIAD,AFAA,AFAC,CIAD,AJAC,AEAD,CFAO,CEAD,AEAA,AJAC,CIAD,AFAA,AFAC,CAAI,GIAD,AFAA,CEAA,AFAA,AFAC,CAAM,CEAD,AEAA,AJAC,CIAD,AJAC,AEAD,CAAA,AEAA,AJAC,CAAK,CAAA,AIAD,AFAA,CFAC,AEAD,AEAA,CFAA,AFAC,AIAD,CFAA,AEAA,AJAC,CIAD,AJAC,AEAD,CFAC,AIAD,AFAA,CFAC,GAAU,GDsB9D,GAAgB,CAAC,OACrB,CAAK,QACL,CAAM,CACN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","ignoreList":[6,7,8,9,10,11]}