{"version":3,"sources":["../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/app/funnels/%5Bid%5D/copy/page.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/thumbs-down.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams, useRouter, useSearchParams } from 'next/navigation';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport Link from 'next/link';\r\nimport { \r\n  doc, \r\n  getDoc, \r\n  collection, \r\n  query, \r\n  where, \r\n  onSnapshot,\r\n  orderBy,\r\n  getDocs,\r\n} from 'firebase/firestore';\r\nimport { db } from '@/lib/firebase/config';\r\nimport { Header } from '@/components/layout/header';\r\nimport { Button } from '@/components/ui/button';\r\nimport { \r\n  ArrowLeft,\r\n  Loader2,\r\n  Sparkles,\r\n  CheckCircle2,\r\n  XCircle,\r\n  RefreshCw,\r\n  FileText,\r\n  Mail,\r\n  DollarSign,\r\n  Video,\r\n  Megaphone,\r\n  Layout,\r\n  ChevronDown,\r\n  ChevronRight,\r\n  Target,\r\n  ThumbsUp,\r\n  ThumbsDown,\r\n  Edit3,\r\n  Copy,\r\n  Check,\r\n  AlertCircle,\r\n  Share2,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { resolveIcon } from '@/lib/guards/resolve-icon';\r\nimport { useAuthStore } from '@/lib/stores/auth-store';\r\nimport { notify } from '@/lib/stores/notification-store';\r\nimport { COPY_TYPES, COPY_COUNSELORS, AWARENESS_STAGES } from '@/lib/constants';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { MarkdownRenderer } from '@/components/chat/markdown-renderer';\r\nimport type { \r\n  Funnel, \r\n  Proposal, \r\n  CopyProposal, \r\n  CopyType, \r\n  AwarenessStage,\r\n  CopyScorecard,\r\n} from '@/types/database';\r\n\r\n// Icon mapping for copy types\r\nconst COPY_TYPE_ICONS: Record<CopyType, any> = {\r\n  headline: FileText,\r\n  email_sequence: Mail,\r\n  offer_copy: DollarSign,\r\n  vsl_script: Video,\r\n  ad_creative: Megaphone,\r\n  landing_page: Layout,\r\n};\r\n\r\n// Scorecard display component\r\nfunction CopyScoreDisplay({ scorecard }: { scorecard: CopyScorecard }) {\r\n  const dimensions = [\r\n    { key: 'headlines', label: 'Headlines', weight: '20%' },\r\n    { key: 'structure', label: 'Estrutura', weight: '20%' },\r\n    { key: 'benefits', label: 'Benef√≠cios', weight: '20%' },\r\n    { key: 'offer', label: 'Oferta', weight: '20%' },\r\n    { key: 'proof', label: 'Prova', weight: '20%' },\r\n  ];\r\n\r\n  const getScoreColor = (score: number) => {\r\n    if (score >= 8) return 'text-emerald-400';\r\n    if (score >= 6) return 'text-amber-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      {dimensions.map(dim => {\r\n        const score = scorecard[dim.key as keyof CopyScorecard] as number;\r\n        return (\r\n          <div key={dim.key} className=\"flex items-center justify-between text-sm\">\r\n            <span className=\"text-zinc-400\">{dim.label}</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-20 h-1.5 bg-zinc-800 rounded-full overflow-hidden\">\r\n                <motion.div\r\n                  initial={{ width: 0 }}\r\n                  animate={{ width: `${score * 10}%` }}\r\n                  className={cn(\r\n                    'h-full rounded-full',\r\n                    score >= 8 ? 'bg-emerald-500' : score >= 6 ? 'bg-amber-500' : 'bg-red-500'\r\n                  )}\r\n                />\r\n              </div>\r\n              <span className={cn('font-medium', getScoreColor(score))}>\r\n                {score.toFixed(1)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      <div className=\"pt-2 border-t border-zinc-800 flex items-center justify-between\">\r\n        <span className=\"font-medium text-white\">Score Geral</span>\r\n        <span className={cn('text-lg font-bold', getScoreColor(scorecard.overall))}>\r\n          {scorecard.overall.toFixed(1)}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Copy proposal card component\r\nfunction CopyProposalCard({ \r\n  copyProposal, \r\n  onDecision,\r\n  isExpanded,\r\n  onToggle,\r\n}: { \r\n  copyProposal: CopyProposal;\r\n  onDecision: (type: 'approve' | 'adjust' | 'kill', adjustments?: string[]) => void;\r\n  isExpanded: boolean;\r\n  onToggle: () => void;\r\n}) {\r\n  const [copied, setCopied] = useState(false);\r\n  const [showAdjustDialog, setShowAdjustDialog] = useState(false);\r\n  const [adjustmentText, setAdjustmentText] = useState('');\r\n  \r\n  const TypeIcon = resolveIcon(COPY_TYPE_ICONS, copyProposal.type, FileText, 'CopyProposal type');\r\n  const typeInfo = COPY_TYPES[copyProposal.type];\r\n\r\n  const handleCopy = async () => {\r\n    const textToCopy = copyProposal.content.primary;\r\n    await navigator.clipboard.writeText(textToCopy);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n    notify.success('Copiado!');\r\n  };\r\n\r\n  const handleAdjust = () => {\r\n    if (adjustmentText.trim()) {\r\n      onDecision('adjust', [adjustmentText]);\r\n      setShowAdjustDialog(false);\r\n      setAdjustmentText('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"card-premium overflow-hidden\"\r\n      >\r\n        {/* Header */}\r\n        <div \r\n          className=\"p-4 cursor-pointer hover:bg-white/[0.02] transition-colors\"\r\n          onClick={onToggle}\r\n        >\r\n          <div className=\"flex items-start gap-4\">\r\n            {/* Icon */}\r\n            <div className={cn(\r\n              'flex h-12 w-12 items-center justify-center rounded-xl',\r\n              copyProposal.status === 'approved' ? 'bg-emerald-500/10' :\r\n              copyProposal.status === 'rejected' ? 'bg-red-500/10' :\r\n              'bg-blue-500/10'\r\n            )}>\r\n              <TypeIcon className={cn(\r\n                'h-6 w-6',\r\n                copyProposal.status === 'approved' ? 'text-emerald-400' :\r\n                copyProposal.status === 'rejected' ? 'text-red-400' :\r\n                'text-blue-400'\r\n              )} />\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"flex-1 min-w-0\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <h3 className=\"font-semibold text-white truncate\">{copyProposal.name}</h3>\r\n                {copyProposal.status === 'approved' && (\r\n                  <span className=\"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded\">\r\n                    <CheckCircle2 className=\"h-3 w-3\" />\r\n                    Aprovado\r\n                  </span>\r\n                )}\r\n                {copyProposal.status === 'rejected' && (\r\n                  <span className=\"flex items-center gap-1 text-xs text-red-400 bg-red-500/10 px-2 py-0.5 rounded\">\r\n                    <XCircle className=\"h-3 w-3\" />\r\n                    Descartado\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <p className=\"text-sm text-zinc-500 mt-1\">\r\n                {typeInfo.description} ‚Ä¢ v{copyProposal.version}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Score */}\r\n            <div className={cn(\r\n              'text-lg font-bold',\r\n              copyProposal.scorecard.overall >= 8 ? 'text-emerald-400' :\r\n              copyProposal.scorecard.overall >= 6 ? 'text-amber-400' :\r\n              'text-red-400'\r\n            )}>\r\n              {copyProposal.scorecard.overall.toFixed(1)}\r\n            </div>\r\n\r\n            {/* Toggle */}\r\n            <Button variant=\"ghost\" size=\"sm\" className=\"text-zinc-500\">\r\n              {isExpanded ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Expanded content */}\r\n        <AnimatePresence>\r\n          {isExpanded && (\r\n            <motion.div\r\n              initial={{ height: 0, opacity: 0 }}\r\n              animate={{ height: 'auto', opacity: 1 }}\r\n              exit={{ height: 0, opacity: 0 }}\r\n              className=\"border-t border-white/[0.06]\"\r\n            >\r\n              <div className=\"p-4 space-y-4\">\r\n                {/* Copy content */}\r\n                <div className=\"bg-zinc-900/50 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-zinc-400\">Copy</span>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={handleCopy}\r\n                      className=\"text-zinc-500 hover:text-white\"\r\n                    >\r\n                      {copied ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"text-sm text-white max-h-80 overflow-y-auto custom-scrollbar pr-2\">\r\n                    <MarkdownRenderer content={copyProposal.content.primary} />\r\n                  </div>\r\n                  \r\n                  {/* Emails Sequence */}\r\n                  {copyProposal.content.emails && copyProposal.content.emails.length > 0 && (\r\n                    <div className=\"mt-4 pt-4 border-t border-zinc-800\">\r\n                      <span className=\"text-sm font-medium text-zinc-400 block mb-3\">\r\n                        üìß Sequ√™ncia de Emails ({copyProposal.content.emails.length})\r\n                      </span>\r\n                      <div className=\"space-y-4\">\r\n                        {copyProposal.content.emails.map((email: { subject?: string; body?: string; delay?: string }, i: number) => (\r\n                          <div key={i} className=\"bg-zinc-800/50 rounded-lg p-4 border border-zinc-700/50\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                              <span className=\"text-xs text-emerald-400 font-medium\">Email {i + 1}</span>\r\n                              {email.delay && (\r\n                                <span className=\"text-xs text-zinc-500\">‚è±Ô∏è {email.delay}</span>\r\n                              )}\r\n                            </div>\r\n                            {email.subject && (\r\n                              <div className=\"mb-2\">\r\n                                <span className=\"text-xs text-zinc-500\">Assunto:</span>\r\n                                <p className=\"text-sm font-medium text-white\">{email.subject}</p>\r\n                              </div>\r\n                            )}\r\n                            {email.body && (\r\n                              <div>\r\n                                <span className=\"text-xs text-zinc-500\">Corpo:</span>\r\n                                <p className=\"text-sm text-zinc-300 whitespace-pre-wrap mt-1\">{email.body}</p>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* VSL Sections */}\r\n                  {copyProposal.content.vslSections && copyProposal.content.vslSections.length > 0 && (\r\n                    <div className=\"mt-4 pt-4 border-t border-zinc-800\">\r\n                      <span className=\"text-sm font-medium text-zinc-400 block mb-3\">\r\n                        üé¨ Se√ß√µes do VSL ({copyProposal.content.vslSections.length})\r\n                      </span>\r\n                      <div className=\"space-y-3\">\r\n                        {copyProposal.content.vslSections.map((section: { name?: string; content?: string; duration?: string }, i: number) => (\r\n                          <div key={i} className=\"bg-zinc-800/50 rounded-lg p-3 border border-zinc-700/50\">\r\n                            <div className=\"flex items-center justify-between mb-1\">\r\n                              <span className=\"text-xs text-violet-400 font-medium\">{section.name || `Se√ß√£o ${i + 1}`}</span>\r\n                              {section.duration && (\r\n                                <span className=\"text-xs text-zinc-500\">‚è±Ô∏è {section.duration}</span>\r\n                              )}\r\n                            </div>\r\n                            <p className=\"text-sm text-zinc-300 whitespace-pre-wrap\">{section.content}</p>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Variations */}\r\n                  {copyProposal.content.variations && copyProposal.content.variations.length > 0 && (\r\n                    <div className=\"mt-4 pt-4 border-t border-zinc-800\">\r\n                      <span className=\"text-sm font-medium text-zinc-400 block mb-2\">\r\n                        Varia√ß√µes ({copyProposal.content.variations.length})\r\n                      </span>\r\n                      <div className=\"space-y-2\">\r\n                        {copyProposal.content.variations.map((v: string, i: number) => (\r\n                          <div key={i} className=\"text-sm text-zinc-300 bg-zinc-800/50 p-2 rounded\">\r\n                            {v}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Scorecard */}\r\n                <div>\r\n                  <span className=\"text-sm font-medium text-zinc-400 block mb-2\">Scorecard</span>\r\n                  <CopyScoreDisplay scorecard={copyProposal.scorecard} />\r\n                </div>\r\n\r\n                {/* Reasoning */}\r\n                {copyProposal.reasoning && (\r\n                  <div>\r\n                    <span className=\"text-sm font-medium text-zinc-400 block mb-2\">Racioc√≠nio</span>\r\n                    <p className=\"text-sm text-zinc-300\">{copyProposal.reasoning}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Copywriter insights */}\r\n                {copyProposal.copywriterInsights && copyProposal.copywriterInsights.length > 0 && (\r\n                  <div>\r\n                    <span className=\"text-sm font-medium text-zinc-400 block mb-2\">\r\n                      Insights dos Copywriters\r\n                    </span>\r\n                    <div className=\"space-y-2\">\r\n                      {copyProposal.copywriterInsights.map((insight, i) => (\r\n                        <div key={i} className=\"flex items-start gap-2 text-sm\">\r\n                          <span className=\"text-lg\">\r\n                            {COPY_COUNSELORS[insight.copywriterId as keyof typeof COPY_COUNSELORS]?.icon || '‚úçÔ∏è'}\r\n                          </span>\r\n                          <div>\r\n                            <span className=\"font-medium text-white\">{insight.copywriterName}</span>\r\n                            <span className=\"text-zinc-500\"> ({insight.expertise})</span>\r\n                            <p className=\"text-zinc-400 mt-0.5\">{insight.insight}</p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Actions */}\r\n                {copyProposal.status === 'pending' && (\r\n                  <div className=\"flex gap-2 pt-2\">\r\n                    <Button\r\n                      onClick={() => onDecision('approve')}\r\n                      className=\"flex-1 bg-emerald-500 hover:bg-emerald-600\"\r\n                    >\r\n                      <ThumbsUp className=\"mr-2 h-4 w-4\" />\r\n                      Aprovar\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => setShowAdjustDialog(true)}\r\n                      variant=\"outline\"\r\n                      className=\"flex-1\"\r\n                    >\r\n                      <Edit3 className=\"mr-2 h-4 w-4\" />\r\n                      Ajustar\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => onDecision('kill')}\r\n                      variant=\"outline\"\r\n                      className=\"text-red-400 hover:text-red-300\"\r\n                    >\r\n                      <ThumbsDown className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n\r\n      {/* Adjust Dialog */}\r\n      <Dialog open={showAdjustDialog} onOpenChange={setShowAdjustDialog}>\r\n        <DialogContent className=\"bg-zinc-900 border-zinc-800\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-white\">Solicitar Ajuste</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <p className=\"text-sm text-zinc-400\">\r\n              Descreva o que voc√™ gostaria de ajustar nesta copy:\r\n            </p>\r\n            <textarea\r\n              value={adjustmentText}\r\n              onChange={(e) => setAdjustmentText(e.target.value)}\r\n              placeholder=\"Ex: Usar tom mais informal, incluir mais urg√™ncia, focar mais na dor...\"\r\n              className=\"w-full h-32 bg-zinc-800 border border-zinc-700 rounded-lg p-3 text-white text-sm resize-none focus:outline-none focus:ring-2 focus:ring-emerald-500/50\"\r\n            />\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                onClick={handleAdjust}\r\n                disabled={!adjustmentText.trim()}\r\n                className=\"flex-1 btn-accent\"\r\n              >\r\n                Solicitar Ajuste\r\n              </Button>\r\n              <Button\r\n                onClick={() => setShowAdjustDialog(false)}\r\n                variant=\"outline\"\r\n              >\r\n                Cancelar\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default function CopyCouncilPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { user } = useAuthStore();\r\n  \r\n  const funnelId = params.id as string;\r\n  const campaignId = searchParams.get('campaignId');\r\n  const urlProposalId = searchParams.get('proposalId');\r\n\r\n  const [funnel, setFunnel] = useState<Funnel | null>(null);\r\n  const [proposal, setProposal] = useState<Proposal | null>(null);\r\n  const [allProposals, setAllProposals] = useState<Proposal[]>([]); // Adicionado para auto-sele√ß√£o\r\n  const [copyProposals, setCopyProposals] = useState<CopyProposal[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isGenerating, setIsGenerating] = useState<CopyType | null>(null);\r\n  const [expandedCards, setExpandedCards] = useState<Set<string>>(new Set());\r\n\r\n  // Efetivamente usamos urlProposalId ou a proposta auto-selecionada\r\n  const activeProposalId = urlProposalId || proposal?.id;\r\n\r\n  // Load funnel and proposals\r\n  useEffect(() => {\r\n    async function loadData() {\r\n      if (!funnelId) return;\r\n      \r\n      try {\r\n        // Load funnel\r\n        const funnelDoc = await getDoc(doc(db, 'funnels', funnelId));\r\n        if (!funnelDoc.exists()) {\r\n          router.push('/funnels');\r\n          return;\r\n        }\r\n        setFunnel({ id: funnelDoc.id, ...funnelDoc.data() } as Funnel);\r\n\r\n        // Load all proposals to find the best match (ST-11.6: Auto-selection resilience)\r\n        const proposalsRef = collection(db, 'funnels', funnelId, 'proposals');\r\n        const proposalsSnap = await getDocs(query(proposalsRef, orderBy('version', 'desc')));\r\n        const proposalsData = proposalsSnap.docs.map(d => ({ id: d.id, ...d.data() } as Proposal));\r\n        setAllProposals(proposalsData);\r\n\r\n        // Auto-select logic\r\n        if (urlProposalId) {\r\n          const found = proposalsData.find(p => p.id === urlProposalId);\r\n          if (found) setProposal(found);\r\n        } else if (proposalsData.length > 0) {\r\n          // Se n√£o tem ID na URL, pega a aprovada ou a mais recente\r\n          const approved = proposalsData.find(p => p.status === 'selected' || (p as any).selected);\r\n          setProposal(approved || proposalsData[0]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading data:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n\r\n    loadData();\r\n  }, [funnelId, urlProposalId, router]);\r\n\r\n  // Subscribe to copy proposals\r\n  useEffect(() => {\r\n    if (!funnelId) return;\r\n\r\n    const copyProposalsRef = collection(db, 'funnels', funnelId, 'copyProposals');\r\n    const q = activeProposalId \r\n      ? query(copyProposalsRef, where('proposalId', '==', activeProposalId))\r\n      : copyProposalsRef;\r\n\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      const data = snapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      })) as CopyProposal[];\r\n      setCopyProposals(data.sort((a, b) => (b.createdAt?.seconds || 0) - (a.createdAt?.seconds || 0)));\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [funnelId, activeProposalId]);\r\n\r\n  // Generate copy\r\n  const handleGenerateCopy = async (copyType: CopyType) => {\r\n    if (!funnel || !activeProposalId) {\r\n      notify.error('Erro', 'Selecione uma proposta estrat√©gica antes de gerar copy');\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(copyType);\r\n    try {\r\n      const conversationId = searchParams.get('id');\r\n      \r\n      const response = await fetch('/api/copy/generate', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          funnelId,\r\n          proposalId: activeProposalId,\r\n          copyType,\r\n          userId: user?.uid,\r\n          conversationId: conversationId || undefined,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        notify.success(`${COPY_TYPES[copyType].label} gerado!`, 'O Conselho de Copy terminou');\r\n        // Auto-expand the new card\r\n        if (data.copyProposal?.id) {\r\n          setExpandedCards(prev => new Set([...prev, data.copyProposal.id]));\r\n        }\r\n      } else {\r\n        notify.error('Erro', data.error);\r\n      }\r\n    } catch (error) {\r\n      notify.error('Erro', 'Falha ao gerar copy');\r\n    } finally {\r\n      setIsGenerating(null);\r\n    }\r\n  };\r\n\r\n  // Handle decision\r\n  const handleDecision = async (copyProposalId: string, type: 'approve' | 'adjust' | 'kill', adjustments?: string[]) => {\r\n    setIsLoading(true); // Bloqueia a tela para garantir o save\r\n    try {\r\n      const response = await fetch('/api/copy/decisions', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          funnelId,\r\n          campaignId, // ST-11.15: Passa o campaignId √∫nico para a persist√™ncia at√¥mica\r\n          copyProposalId,\r\n          type,\r\n          userId: user?.uid,\r\n          adjustments,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        notify.success(data.message);\r\n        // ST-11.15: Se aprovou, navega de volta para o Golden Thread garantindo o save\r\n        if (type === 'approve') {\r\n          const docId = campaignId || funnelId;\r\n          router.push(`/campaigns/${docId}`);\r\n        }\r\n      } else {\r\n        notify.error('Erro', data.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Decision Error:', error);\r\n      notify.error('Erro', 'Falha ao processar decis√£o');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Toggle card expansion\r\n  const toggleCard = (id: string) => {\r\n    setExpandedCards(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(id)) {\r\n        next.delete(id);\r\n      } else {\r\n        next.add(id);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex min-h-screen flex-col\">\r\n        <Header title=\"Conselho de Copy\" />\r\n        <div className=\"flex-1 flex items-center justify-center\">\r\n          <Loader2 className=\"h-8 w-8 animate-spin text-zinc-500\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!funnel) {\r\n    return (\r\n      <div className=\"flex min-h-screen flex-col\">\r\n        <Header title=\"Conselho de Copy\" />\r\n        <div className=\"flex-1 flex items-center justify-center\">\r\n          <p className=\"text-zinc-500\">Funil n√£o encontrado</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col\">\r\n      <Header title=\"Conselho de Copy\" />\r\n\r\n      <div className=\"flex-1 p-8\">\r\n        {/* Back link */}\r\n        <Link href={`/campaigns/${campaignId || funnelId}`} className=\"inline-flex items-center gap-2 text-zinc-400 hover:text-white mb-6 transition-colors\">\r\n          <ArrowLeft className=\"h-4 w-4\" />\r\n          Voltar ao Comando\r\n        </Link>\r\n\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mb-8\"\r\n        >\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-violet-500 to-purple-600\">\r\n              <Sparkles className=\"h-6 w-6 text-white\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-white\">Conselho de Copywriting</h1>\r\n              <p className=\"text-zinc-400\">{funnel.name}</p>\r\n            </div>\r\n          </div>\r\n          {proposal && (\r\n            <p className=\"text-sm text-zinc-500 mt-2\">\r\n              Proposta: <span className=\"text-zinc-300\">{proposal.name}</span>\r\n            </p>\r\n          )}\r\n        </motion.div>\r\n\r\n        {/* Copy Types Grid */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mb-8\"\r\n        >\r\n          <h2 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\r\n            <Target className=\"h-5 w-5 text-emerald-400\" />\r\n            Gerar Copy\r\n          </h2>\r\n          <div className=\"grid gap-3 md:grid-cols-3 lg:grid-cols-6\">\r\n            {(Object.entries(COPY_TYPES) as [CopyType, typeof COPY_TYPES[CopyType]][]).map(([type, info]) => {\r\n              const Icon = resolveIcon(COPY_TYPE_ICONS, type, FileText, 'CopyType grid');\r\n              const existing = copyProposals.filter(cp => cp.type === type);\r\n              const hasApproved = existing.some(cp => cp.status === 'approved');\r\n              \r\n              return (\r\n                <motion.button\r\n                  key={type}\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  onClick={() => handleGenerateCopy(type)}\r\n                  disabled={isGenerating !== null || !activeProposalId}\r\n                  className={cn(\r\n                    'p-4 rounded-xl border text-left transition-all relative overflow-hidden',\r\n                    hasApproved \r\n                      ? 'bg-emerald-500/10 border-emerald-500/30' \r\n                      : 'bg-zinc-900/50 border-zinc-800 hover:border-zinc-700',\r\n                    (isGenerating !== null || !activeProposalId) && 'opacity-50 cursor-not-allowed'\r\n                  )}\r\n                >\r\n                  {isGenerating === type && (\r\n                    <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\r\n                      <Loader2 className=\"h-6 w-6 animate-spin text-white\" />\r\n                    </div>\r\n                  )}\r\n                  <Icon className={cn(\r\n                    'h-6 w-6 mb-2',\r\n                    hasApproved ? 'text-emerald-400' : 'text-zinc-500'\r\n                  )} />\r\n                  <p className=\"font-medium text-white text-sm\">{info.label}</p>\r\n                  <p className=\"text-xs text-zinc-500 mt-1\">{info.description}</p>\r\n                  {existing.length > 0 && (\r\n                    <p className=\"text-xs text-zinc-600 mt-2\">\r\n                      {existing.length} gerado{existing.length > 1 ? 's' : ''}\r\n                    </p>\r\n                  )}\r\n                </motion.button>\r\n              );\r\n            })}\r\n          </div>\r\n          {!activeProposalId && (\r\n            <p className=\"text-sm text-amber-400 mt-3\">\r\n              ‚ö†Ô∏è Selecione uma proposta aprovada para gerar copy\r\n            </p>\r\n          )}\r\n          {activeProposalId && (\r\n            <div className=\"mt-4 flex items-center gap-2 text-xs text-zinc-500 bg-white/[0.02] border border-white/[0.04] w-fit px-3 py-1.5 rounded-full\">\r\n              <CheckCircle2 className=\"h-3 w-3 text-emerald-500\" />\r\n              Baseado na Estrat√©gia: <span className=\"text-zinc-300 font-bold\">{proposal?.name}</span>\r\n              {allProposals.length > 1 && (\r\n                <button \r\n                  onClick={() => setProposal(null)} // For√ßa re-sele√ß√£o se houver outras\r\n                  className=\"ml-2 text-emerald-400 hover:underline\"\r\n                >\r\n                  Trocar base\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n\r\n        {/* Strategic Proposal Selector (if not selected) */}\r\n        {!activeProposalId && allProposals.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"mb-8 p-6 rounded-2xl bg-amber-500/5 border border-amber-500/20\"\r\n          >\r\n            <h3 className=\"text-amber-400 font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wider\">\r\n              <AlertCircle className=\"h-4 w-4\" />\r\n              Selecione a base estrat√©gica para esta copy\r\n            </h3>\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n              {allProposals.map((p) => (\r\n                <button\r\n                  key={p.id}\r\n                  onClick={() => setProposal(p)}\r\n                  className=\"text-left p-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-amber-500/50 transition-all group\"\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-xs font-bold text-zinc-500\">v{p.version}</span>\r\n                    {p.status === 'selected' && <span className=\"text-[10px] bg-emerald-500/10 text-emerald-400 px-1.5 py-0.5 rounded uppercase font-bold\">Aprovada</span>}\r\n                  </div>\r\n                  <h4 className=\"font-bold text-white group-hover:text-amber-400 transition-colors truncate\">{p.name}</h4>\r\n                  <p className=\"text-xs text-zinc-500 mt-1 line-clamp-2\">{p.summary}</p>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Copy Proposals List */}\r\n        {copyProposals.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.1 }}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold text-white flex items-center gap-2\">\r\n                <FileText className=\"h-5 w-5 text-emerald-400\" />\r\n                Propostas de Copy ({copyProposals.length})\r\n              </h2>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n              {copyProposals.map((cp) => (\r\n                <CopyProposalCard\r\n                  key={cp.id}\r\n                  copyProposal={cp}\r\n                  onDecision={(type, adjustments) => handleDecision(cp.id, type, adjustments)}\r\n                  isExpanded={expandedCards.has(cp.id)}\r\n                  onToggle={() => toggleCard(cp.id)}\r\n                />\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Empty state */}\r\n        {copyProposals.length === 0 && activeProposalId && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"card-premium p-12 text-center\"\r\n          >\r\n            <Sparkles className=\"h-12 w-12 text-zinc-600 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-white mb-2\">\r\n              Nenhuma copy gerada ainda\r\n            </h3>\r\n            <p className=\"text-zinc-500 mb-6\">\r\n              Clique em um tipo de copy acima para o Conselho de Copywriting gerar propostas\r\n            </p>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Copywriters showcase */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"mt-12\"\r\n        >\r\n          <h2 className=\"text-lg font-semibold text-white mb-4\">\r\n            Os 9 Copywriters do Conselho\r\n          </h2>\r\n          <div className=\"grid gap-3 md:grid-cols-3 lg:grid-cols-9\">\r\n            {Object.values(COPY_COUNSELORS).map((copywriter) => (\r\n              <div\r\n                key={copywriter.id}\r\n                className=\"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04] text-center\"\r\n              >\r\n                <span className=\"text-2xl\">{copywriter.icon}</span>\r\n                <p className=\"text-sm font-medium text-white mt-2 truncate\">\r\n                  {copywriter.name.split(' ').slice(-1)[0]}\r\n                </p>\r\n                <p className=\"text-xs text-zinc-500 truncate\">\r\n                  {copywriter.expertise}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z',\n      key: 'm61m77',\n    },\n  ],\n  ['path', { d: 'M17 14V2', key: '8ymqnk' }],\n];\n\n/**\n * @component @name ThumbsDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAxOC4xMiAxMCAxNEg0LjE3YTIgMiAwIDAgMS0xLjkyLTIuNTZsMi4zMy04QTIgMiAwIDAgMSA2LjUgMkgyMGEyIDIgMCAwIDEgMiAydjhhMiAyIDAgMCAxLTIgMmgtMi43NmEyIDIgMCAwIDAtMS43OSAxLjExTDEyIDIyYTMuMTMgMy4xMyAwIDAgMS0zLTMuODhaIiAvPgogIDxwYXRoIGQ9Ik0xNyAxNFYyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/thumbs-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ThumbsDown = createLucideIcon('thumbs-down', __iconNode);\n\nexport default ThumbsDown;\n"],"names":[],"mappings":"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","ignoreList":[1]}