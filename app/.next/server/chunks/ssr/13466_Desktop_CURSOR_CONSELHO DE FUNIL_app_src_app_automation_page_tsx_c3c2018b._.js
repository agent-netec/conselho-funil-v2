module.exports=[169450,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(880925),e=a.i(426540),f=a.i(336050),g=a.i(76537),h=a.i(399385),i=a.i(19761),j=a.i(749172),k=a.i(282840),l=a.i(791026),m=a.i(248842),n=a.i(502117),o=a.i(74552),p=a.i(810045);function q({log:a,onApprove:c,onReject:d,onViewDetails:e}){let f=a.context.gapDetails?.severity==="critical"||"pause_ads"===a.action,k={pending_approval:{icon:j.Clock,color:"text-amber-400",bg:"bg-amber-400/10",border:"border-amber-400/20",label:"Aguardando Aprovação"},executed:{icon:h.CheckCircle2,color:"text-emerald-400",bg:"bg-emerald-400/10",border:"border-emerald-400/20",label:"Executado"},rejected:{icon:i.XCircle,color:"text-rose-400",bg:"bg-rose-400/10",border:"border-rose-400/20",label:"Rejeitado"},failed:{icon:g.AlertTriangle,color:"text-rose-500",bg:"bg-rose-500/10",border:"border-rose-500/20",label:"Falha na Execução"}}[a.status];return(0,b.jsxs)(n.Card,{className:(0,p.cn)("relative overflow-hidden border-white/[0.03] bg-zinc-900/50 transition-all hover:bg-zinc-900/80 group",f&&"pending_approval"===a.status&&"border-rose-500/30 shadow-[0_0_20px_rgba(244,63,94,0.05)]"),children:[f&&"pending_approval"===a.status&&(0,b.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-rose-500"}),(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,p.cn)("p-2 rounded-lg",k.bg),children:(0,b.jsx)(k.icon,{className:(0,p.cn)("h-5 w-5",k.color)})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-bold text-zinc-100",children:"pause_ads"===a.action?"Kill-Switch: Pausar Tráfego":"Otimização Sugerida"}),(0,b.jsx)(o.Badge,{variant:"outline",className:(0,p.cn)("text-[10px] uppercase font-bold tracking-wider",k.bg,k.color,k.border),children:k.label})]}),(0,b.jsxs)("p",{className:"text-xs text-zinc-500 mt-0.5",children:[new Date(1e3*a.timestamp.seconds).toLocaleString("pt-BR")," • ID: ",a.id.slice(0,8)]})]})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>e(a),children:(0,b.jsx)(l.ExternalLink,{className:"h-4 w-4 text-zinc-500"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase font-bold text-zinc-500 tracking-widest",children:"Contexto"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[(0,b.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-blue-500"}),(0,b.jsxs)("span",{children:["Funil: ",a.context.funnelId]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[(0,b.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-purple-500"}),(0,b.jsxs)("span",{children:["Entidade: ",a.context.entityId]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase font-bold text-zinc-500 tracking-widest",children:"Gatilho (Autopsy)"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-rose-400 font-medium",children:[(0,b.jsx)(g.AlertTriangle,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{children:a.context.gapDetails?.reason||"Queda acentuada de conversão"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[(0,b.jsx)("span",{children:"Impacto Estimado:"}),(0,b.jsxs)("span",{className:"text-rose-400 font-bold",children:["R$ ",a.context.gapDetails?.lossEstimate?.toLocaleString("pt-BR")||"0,00"," / dia"]})]})]})]}),"pending_approval"===a.status&&(0,b.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-white/[0.03]",children:[(0,b.jsxs)(m.Button,{variant:"outline",className:"flex-1 border-white/[0.05] bg-zinc-800/50 hover:bg-rose-500/10 hover:text-rose-400 hover:border-rose-500/20",onClick:()=>d(a.id),children:[(0,b.jsx)(i.XCircle,{className:"mr-2 h-4 w-4"}),"Rejeitar"]}),(0,b.jsxs)(m.Button,{className:(0,p.cn)("flex-1 shadow-lg",f?"bg-rose-600 hover:bg-rose-700 shadow-rose-900/20":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-900/20"),onClick:()=>c(a.id),children:[(0,b.jsx)(h.CheckCircle2,{className:"mr-2 h-4 w-4"}),"Aprovar Ação"]})]})]})]})}function r({pendingCount:a}){return(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(k.ShieldAlert,{className:"h-5 w-5 text-emerald-400"}),(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Active Optimization Control Center"})]}),(0,b.jsx)("p",{className:"text-zinc-500 text-sm",children:"Ações de automação e otimização aguardando supervisão humana (Guardrail P0)."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"bg-zinc-900/80 border border-white/[0.03] rounded-xl px-4 py-2 flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)("div",{className:"absolute inset-0 h-2 w-2 rounded-full bg-emerald-500 animate-ping opacity-50"})]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase font-bold text-zinc-500 leading-none mb-1",children:"Status do Motor"}),(0,b.jsx)("span",{className:"text-xs font-bold text-emerald-400 leading-none",children:"ATIVO & MONITORANDO"})]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900/80 border border-white/[0.03] rounded-xl px-4 py-2 flex items-center gap-3",children:[(0,b.jsx)(d.Zap,{className:"h-4 w-4 text-amber-400"}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase font-bold text-zinc-500 leading-none mb-1",children:"Pendentes"}),(0,b.jsxs)("span",{className:"text-xs font-bold text-white leading-none",children:[a," Ações"]})]})]})]})]})}var s=a.i(289036),t=a.i(704241),u=a.i(822399),v=a.i(351584),w=a.i(174192),x=a.i(168565),y=a.i(460228),z=a.i(285744),A=a.i(925981),B=a.i(453764);function C({frictionPoint:a,originalCopy:e,variations:g,onApply:h,onRegenerate:i}){let[j,k]=(0,c.useState)(g[0]?.id||""),[l,q]=(0,c.useState)(!1),r=g.find(a=>a.id===j),C=async()=>{q(!0),await i(),q(!1)},D=a=>{navigator.clipboard.writeText(a),B.toast.success("Copiado para a área de transferência")};return(0,b.jsxs)(n.Card,{className:"bg-zinc-900/50 border-white/[0.03] overflow-hidden flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/[0.03] bg-zinc-900/80",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:(0,b.jsx)(f.BrainCircuit,{className:"h-5 w-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-white",children:"AI Copy Refactor Wizard"}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:"Otimização baseada em fricção detectada pelo Autopsy"})]})]}),(0,b.jsxs)(m.Button,{variant:"outline",size:"sm",className:"border-white/[0.05] bg-zinc-800/50 hover:bg-zinc-700",onClick:C,disabled:l,children:[(0,b.jsx)(v.RefreshCcw,{className:(0,p.cn)("mr-2 h-3.5 w-3.5",l&&"animate-spin")}),"Regerar Sugestões"]})]}),(0,b.jsxs)("div",{className:"bg-rose-500/5 border border-rose-500/10 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(x.Target,{className:"h-3.5 w-3.5 text-rose-400"}),(0,b.jsx)("span",{className:"text-[10px] uppercase font-bold text-rose-400 tracking-widest",children:"Ponto de Fricção Detectado"})]}),(0,b.jsxs)("p",{className:"text-sm text-zinc-300 italic",children:['"',a,'"']})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsx)("div",{className:"w-1/3 border-r border-white/[0.03] bg-black/20",children:(0,b.jsx)(A.ScrollArea,{className:"h-full",children:(0,b.jsx)("div",{className:"p-4 space-y-3",children:g.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>k(a.id),className:(0,p.cn)("w-full text-left p-4 rounded-xl border transition-all relative overflow-hidden group",j===a.id?"bg-emerald-500/10 border-emerald-500/30 ring-1 ring-emerald-500/20":"bg-zinc-900/50 border-white/[0.03] hover:border-white/[0.1]"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)(o.Badge,{variant:"outline",className:(0,p.cn)("text-[10px] uppercase",j===a.id?"border-emerald-500/30 text-emerald-400":"text-zinc-500"),children:["Variação ",c+1]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.Zap,{className:(0,p.cn)("h-3 w-3",j===a.id?"text-amber-400":"text-zinc-600")}),(0,b.jsxs)("span",{className:(0,p.cn)("text-[10px] font-bold",j===a.id?"text-white":"text-zinc-500"),children:[a.impactScore,"%"]})]})]}),(0,b.jsx)("p",{className:(0,p.cn)("text-sm font-medium line-clamp-2",j===a.id?"text-white":"text-zinc-400"),children:a.headline}),j===a.id&&(0,b.jsx)(s.motion.div,{layoutId:"active-indicator",className:"absolute left-0 top-0 w-1 h-full bg-emerald-500"})]},a.id))})})}),(0,b.jsx)("div",{className:"flex-1 bg-zinc-900/20",children:(0,b.jsx)(t.AnimatePresence,{mode:"wait",children:r?(0,b.jsxs)(s.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"h-full flex flex-col",children:[(0,b.jsx)(A.ScrollArea,{className:"flex-1",children:(0,b.jsxs)("div",{className:"p-8 space-y-8",children:[(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(y.FileText,{className:"h-4 w-4 text-emerald-400"}),(0,b.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-zinc-500",children:"Headline Sugerida"})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>D(r.headline),children:(0,b.jsx)(w.Copy,{className:"h-3.5 w-3.5"})})]}),(0,b.jsx)("div",{className:"p-6 bg-black/40 rounded-2xl border border-white/[0.03] text-xl font-bold text-white leading-tight",children:r.headline})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Zap,{className:"h-4 w-4 text-amber-400"}),(0,b.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-zinc-500",children:"Hook / Abertura"})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>D(r.hook),children:(0,b.jsx)(w.Copy,{className:"h-3.5 w-3.5"})})]}),(0,b.jsxs)("div",{className:"p-6 bg-black/40 rounded-2xl border border-white/[0.03] text-zinc-300 leading-relaxed italic",children:['"',r.hook,'"']})]}),(0,b.jsxs)("section",{className:"p-6 bg-emerald-500/5 rounded-2xl border border-emerald-500/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(u.Sparkles,{className:"h-4 w-4 text-emerald-400"}),(0,b.jsx)("h3",{className:"text-sm font-bold text-emerald-400",children:"Justificativa Técnica (IA)"})]}),(0,b.jsx)("p",{className:"text-sm text-zinc-400 leading-relaxed",children:r.justification})]})]})}),(0,b.jsxs)("div",{className:"p-6 border-t border-white/[0.03] bg-zinc-900/50 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase font-bold text-zinc-500",children:"Estimated CVR Lift"}),(0,b.jsxs)("span",{className:"text-lg font-bold text-emerald-400",children:["+",r.impactScore,"%"]})]})}),(0,b.jsxs)(m.Button,{className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8 shadow-lg shadow-emerald-900/20",onClick:()=>h(r),children:["Aplicar Refatoração",(0,b.jsx)(z.ArrowRight,{className:"ml-2 h-4 w-4"})]})]})]},r.id):(0,b.jsx)("div",{className:"h-full flex items-center justify-center text-zinc-500",children:"Selecione uma variação para visualizar"})})})]})]})}var D=a.i(604936),E=a.i(529238),F=a.i(645454),G=a.i(47916);let H=(0,G.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),I=(0,G.default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var J=a.i(807291),K=a.i(270509),L=a.i(176173),M=a.i(532141),N=a.i(661425);function O({rules:a,logs:c,onToggleRule:d,onApproveAction:f,onRejectAction:j,onCreateRule:k}){let l=c.filter(a=>"pending_approval"===a.status);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-black tracking-tight text-white",children:"Automation Control Center"}),(0,b.jsx)("p",{className:"text-zinc-400",children:"Gerencie regras inteligentes e aprove ações de escala em tempo real."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex -space-x-2",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center",children:(0,b.jsx)(L.Activity,{className:"h-4 w-4 text-emerald-500"})}),(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500/10 border border-blue-500/20 flex items-center justify-center",children:(0,b.jsx)(E.ShieldCheck,{className:"h-4 w-4 text-blue-500"})})]}),(0,b.jsxs)(m.Button,{onClick:k,className:"bg-emerald-600 hover:bg-emerald-500 text-white font-bold",children:[(0,b.jsx)(F.Plus,{className:"mr-2 h-4 w-4"})," Nova Regra"]})]})]}),(0,b.jsxs)(N.Tabs,{defaultValue:"overview",className:"space-y-6",children:[(0,b.jsxs)(N.TabsList,{className:"bg-zinc-900 border border-white/5 p-1",children:[(0,b.jsxs)(N.TabsTrigger,{value:"overview",className:"data-[state=active]:bg-zinc-800",children:[(0,b.jsx)(L.Activity,{className:"mr-2 h-4 w-4"})," Overview"]}),(0,b.jsxs)(N.TabsTrigger,{value:"rules",className:"data-[state=active]:bg-zinc-800",children:[(0,b.jsx)(D.Settings2,{className:"mr-2 h-4 w-4"})," Regras Ativas"]}),(0,b.jsxs)(N.TabsTrigger,{value:"audit",className:"data-[state=active]:bg-zinc-800",children:[(0,b.jsx)(e.History,{className:"mr-2 h-4 w-4"})," Log de Auditoria"]}),(0,b.jsxs)(N.TabsTrigger,{value:"approvals",className:"data-[state=active]:bg-zinc-800 relative",children:[(0,b.jsx)(M.UserCheck,{className:"mr-2 h-4 w-4"})," Aprovações",l.length>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-rose-500 rounded-full text-[10px] flex items-center justify-center font-bold",children:l.length})]})]}),(0,b.jsxs)(N.TabsContent,{value:"overview",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsx)(n.Card,{className:"bg-zinc-900/50 border-white/5",children:(0,b.jsxs)(n.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Ações Executadas (24h)"}),(0,b.jsx)(K.TrendingUp,{className:"h-4 w-4 text-emerald-500"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:"142"}),(0,b.jsx)("p",{className:"text-[10px] text-emerald-500 mt-1",children:"+12% vs ontem"})]})}),(0,b.jsx)(n.Card,{className:"bg-zinc-900/50 border-white/5",children:(0,b.jsxs)(n.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Budget Otimizado"}),(0,b.jsx)(J.ArrowUpRight,{className:"h-4 w-4 text-blue-500"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:"R$ 12.450"}),(0,b.jsx)("p",{className:"text-[10px] text-blue-500 mt-1",children:"Economia estimada: R$ 2.100"})]})}),(0,b.jsx)(n.Card,{className:"bg-zinc-900/50 border-white/5",children:(0,b.jsxs)(n.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Aprovações Pendentes"}),(0,b.jsx)(g.AlertTriangle,{className:"h-4 w-4 text-amber-500"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:l.length}),(0,b.jsx)("p",{className:"text-[10px] text-amber-500 mt-1",children:"Requer atenção imediata"})]})})]}),(0,b.jsxs)(n.Card,{className:"bg-zinc-900/50 border-white/5",children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsx)(n.CardTitle,{className:"text-sm font-bold uppercase tracking-widest text-zinc-500",children:"Atividade Recente"})}),(0,b.jsx)(n.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:c.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,p.cn)("h-8 w-8 rounded-full flex items-center justify-center","executed"===a.status?"bg-emerald-500/10 text-emerald-500":"failed"===a.status?"bg-rose-500/10 text-rose-500":"bg-amber-500/10 text-amber-500"),children:"executed"===a.status?(0,b.jsx)(h.CheckCircle2,{className:"h-4 w-4"}):"failed"===a.status?(0,b.jsx)(i.XCircle,{className:"h-4 w-4"}):(0,b.jsx)(H,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold text-white capitalize",children:a.action.replace("_"," ")}),(0,b.jsxs)("p",{className:"text-xs text-zinc-500",children:["ID: ",a.context.entityId," • ",new Date(1e3*a.timestamp.seconds).toLocaleTimeString()]})]})]}),(0,b.jsx)(o.Badge,{variant:"outline",className:"text-[10px] uppercase border-white/10",children:a.status})]},a.id))})})]})]}),(0,b.jsx)(N.TabsContent,{value:"rules",className:"space-y-4",children:(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:a.map(a=>(0,b.jsx)(n.Card,{className:"bg-zinc-900/50 border-white/5 hover:border-white/10 transition-all",children:(0,b.jsxs)(n.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:a.name}),(0,b.jsx)(o.Badge,{variant:a.isEnabled?"default":"secondary",className:(0,p.cn)("text-[10px] uppercase",a.isEnabled?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-zinc-800 text-zinc-500"),children:a.isEnabled?"Ativa":"Pausada"})]}),(0,b.jsxs)("p",{className:"text-sm text-zinc-400",children:["Se ",(0,b.jsx)("span",{className:"text-emerald-400 font-mono",children:a.trigger.metric})," ",a.trigger.operator," ",a.trigger.value,", então ",(0,b.jsx)("span",{className:"text-blue-400 font-bold",children:a.action.type.replace("_"," ")})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(m.Button,{variant:"ghost",size:"sm",onClick:()=>d(a.id,!a.isEnabled),className:(0,p.cn)("h-9 px-3",a.isEnabled?"text-rose-400 hover:text-rose-300 hover:bg-rose-400/10":"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-400/10"),children:[a.isEnabled?(0,b.jsx)(I,{className:"h-4 w-4 mr-2"}):(0,b.jsx)(H,{className:"h-4 w-4 mr-2"}),a.isEnabled?"Pausar":"Ativar"]}),(0,b.jsx)(m.Button,{variant:"outline",size:"sm",className:"h-9 px-3 border-white/10 hover:bg-white/5",children:(0,b.jsx)(D.Settings2,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center gap-6 text-[10px] text-zinc-500 uppercase font-bold tracking-widest",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(E.ShieldCheck,{className:"h-3 w-3 text-blue-500"}),"Aprovação: ",a.guardrails.requireApproval?"Sim":"Não"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(e.History,{className:"h-3 w-3 text-zinc-500"}),"Cooldown: ",a.guardrails.cooldownPeriod,"h"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(L.Activity,{className:"h-3 w-3 text-zinc-500"}),"Última Execução: 2h atrás"]})]})]})},a.id))})}),(0,b.jsx)(N.TabsContent,{value:"audit",children:(0,b.jsxs)(n.Card,{className:"bg-zinc-900/50 border-white/5",children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{children:"Histórico de Execução"}),(0,b.jsx)(n.CardDescription,{children:"Rastreabilidade total de todas as decisões tomadas pelo motor de automação."})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsx)(A.ScrollArea,{className:"h-[500px] pr-4",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"text-zinc-500 border-b border-white/5",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left py-3 font-bold uppercase text-[10px]",children:"Data/Hora"}),(0,b.jsx)("th",{className:"text-left py-3 font-bold uppercase text-[10px]",children:"Regra"}),(0,b.jsx)("th",{className:"text-left py-3 font-bold uppercase text-[10px]",children:"Ação"}),(0,b.jsx)("th",{className:"text-left py-3 font-bold uppercase text-[10px]",children:"Entidade"}),(0,b.jsx)("th",{className:"text-right py-3 font-bold uppercase text-[10px]",children:"Status"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:c.map(c=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,b.jsx)("td",{className:"py-4 text-zinc-400 text-xs",children:new Date(1e3*c.timestamp.seconds).toLocaleString("pt-BR")}),(0,b.jsx)("td",{className:"py-4 font-medium text-white",children:a.find(a=>a.id===c.ruleId)?.name||"Regra Deletada"}),(0,b.jsx)("td",{className:"py-4",children:(0,b.jsx)(o.Badge,{variant:"outline",className:"bg-blue-500/5 text-blue-400 border-blue-500/20 text-[10px]",children:c.action})}),(0,b.jsx)("td",{className:"py-4 text-zinc-400 font-mono text-xs",children:c.context.entityId}),(0,b.jsx)("td",{className:"py-4 text-right",children:(0,b.jsx)(o.Badge,{className:(0,p.cn)("text-[10px] uppercase","executed"===c.status?"bg-emerald-500/10 text-emerald-500":"failed"===c.status?"bg-rose-500/10 text-rose-500":"rejected"===c.status?"bg-zinc-800 text-zinc-500":"bg-amber-500/10 text-amber-500"),children:c.status})})]},c.id))})]})})})]})}),(0,b.jsx)(N.TabsContent,{value:"approvals",className:"space-y-4",children:0===l.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-zinc-500 bg-zinc-900/30 rounded-xl border border-dashed border-white/10",children:[(0,b.jsx)(E.ShieldCheck,{className:"h-12 w-12 mb-4 opacity-20"}),(0,b.jsx)("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Nenhuma ação aguardando aprovação"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:l.map(a=>(0,b.jsx)(n.Card,{className:"bg-zinc-900/50 border-amber-500/20 shadow-lg shadow-amber-500/5",children:(0,b.jsx)(n.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center shrink-0",children:(0,b.jsx)(g.AlertTriangle,{className:"h-6 w-6 text-amber-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h3",{className:"text-lg font-black text-white",children:"Ação de Escala Proposta"}),(0,b.jsx)(o.Badge,{className:"bg-amber-500/20 text-amber-500 border-amber-500/30 text-[10px]",children:"P0 GUARDRAIL"})]}),(0,b.jsxs)("p",{className:"text-sm text-zinc-400 leading-relaxed max-w-2xl",children:["O motor identificou uma oportunidade de escala para a entidade ",(0,b.jsx)("span",{className:"text-white font-mono",children:a.context.entityId}),". O Profit Score atual é superior a 80. Proposta de aumento de budget em 15%."]}),(0,b.jsxs)("div",{className:"mt-3 flex items-center gap-4 text-[10px] text-zinc-500 font-bold uppercase",children:[(0,b.jsx)("span",{children:"Regra: Scale High Performers"}),(0,b.jsxs)("span",{children:["Contexto: ",a.context.funnelId]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,b.jsxs)(m.Button,{variant:"outline",onClick:()=>j(a.id),className:"border-rose-500/20 text-rose-500 hover:bg-rose-500/10 hover:text-rose-400 font-bold",children:[(0,b.jsx)(i.XCircle,{className:"mr-2 h-4 w-4"})," Rejeitar"]}),(0,b.jsxs)(m.Button,{onClick:()=>f(a.id),className:"bg-emerald-600 hover:bg-emerald-500 text-white font-black shadow-lg shadow-emerald-500/20",children:[(0,b.jsx)(h.CheckCircle2,{className:"mr-2 h-4 w-4"})," Aprovar Ação"]})]})]})})},a.id))})})]})]})}let P=[{id:"rule_1",name:"Scale High Performers",isEnabled:!0,trigger:{type:"profit_score",operator:">",value:80},action:{type:"adjust_budget",params:{adjustmentValue:15,targetLevel:"adset"}},guardrails:{requireApproval:!0,cooldownPeriod:24}},{id:"rule_2",name:"Kill Underperformers",isEnabled:!0,trigger:{type:"metric_threshold",metric:"roas",operator:"<",value:1.2},action:{type:"pause_ads",params:{targetLevel:"campaign"}},guardrails:{requireApproval:!0,cooldownPeriod:6}}],Q=[{id:"log_1",ruleId:"rule_1",action:"adjust_budget",status:"pending_approval",context:{funnelId:"high-ticket-vsl-1",entityId:"meta_adset_7721",gapDetails:{reason:"Profit Score > 80",severity:"info"}},timestamp:{seconds:Date.now()/1e3-3600,nanoseconds:0}},{id:"log_2",ruleId:"rule_2",action:"pause_ads",status:"executed",context:{funnelId:"lead-gen-quiz",entityId:"meta_camp_99283",gapDetails:{reason:"ROAS < 1.2",severity:"critical"}},timestamp:{seconds:Date.now()/1e3-7200,nanoseconds:0}}],R=[];function S(){let[a,g]=(0,c.useState)(Q),[h,i]=(0,c.useState)(P),[j,k]=(0,c.useState)("v2"),l=a.filter(a=>"pending_approval"===a.status),m=a=>{g(b=>b.map(b=>b.id===a?{...b,status:"executed"}:b)),B.toast.success("Ação aprovada e enviada para execução")},n=a=>{g(b=>b.map(b=>b.id===a?{...b,status:"rejected"}:b)),B.toast.error("Ação rejeitada pelo usuário")};return(0,b.jsx)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:(0,b.jsxs)(N.Tabs,{value:j,onValueChange:k,className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between border-b border-white/[0.03] pb-1",children:(0,b.jsxs)(N.TabsList,{className:"bg-transparent border-none gap-8 h-12 p-0",children:[(0,b.jsxs)(N.TabsTrigger,{value:"v2",className:"data-[state=active]:bg-transparent data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 rounded-none h-full px-2 font-bold text-xs uppercase tracking-widest transition-all",children:[(0,b.jsx)(d.Zap,{className:"mr-2 h-4 w-4"}),"Automation V2"]}),(0,b.jsxs)(N.TabsTrigger,{value:"legacy",className:"data-[state=active]:bg-transparent data-[state=active]:text-zinc-400 data-[state=active]:border-b-2 data-[state=active]:border-zinc-400 rounded-none h-full px-2 font-bold text-xs uppercase tracking-widest transition-all",children:[(0,b.jsx)(e.History,{className:"mr-2 h-4 w-4"}),"Legacy View"]}),(0,b.jsxs)(N.TabsTrigger,{value:"refactor",className:"data-[state=active]:bg-transparent data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 rounded-none h-full px-2 font-bold text-xs uppercase tracking-widest transition-all",children:[(0,b.jsx)(f.BrainCircuit,{className:"mr-2 h-4 w-4"}),"Refatoração"]})]})}),(0,b.jsx)(N.TabsContent,{value:"v2",className:"mt-0 outline-none",children:(0,b.jsx)(O,{rules:h,logs:a,onToggleRule:(a,b)=>{i(c=>c.map(c=>c.id===a?{...c,isEnabled:b}:c)),B.toast.info(b?"Regra ativada":"Regra pausada")},onApproveAction:m,onRejectAction:n,onCreateRule:()=>B.toast.info("Abrindo modal de criação de regra...")})}),(0,b.jsxs)(N.TabsContent,{value:"legacy",className:"mt-0 outline-none",children:[(0,b.jsx)(r,{pendingCount:l.length}),(0,b.jsx)("div",{className:"grid gap-4 mt-6",children:a.map(a=>(0,b.jsx)(q,{log:a,onApprove:m,onReject:n,onViewDetails:a=>console.log("Details:",a)},a.id))})]}),(0,b.jsx)(N.TabsContent,{value:"refactor",className:"mt-0 outline-none h-[700px]",children:(0,b.jsx)(C,{frictionPoint:"Usuários abandonam o vídeo nos primeiros 15 segundos devido a uma promessa genérica.",originalCopy:"Como ganhar dinheiro online usando apenas o seu celular e 2 horas por dia.",variations:R,onApply:a=>{B.toast.success(`Refatora\xe7\xe3o "${a.headline}" aplicada com sucesso!`),k("v2")},onRegenerate:()=>new Promise(a=>setTimeout(a,2e3))})})]})})}a.s(["default",()=>S],169450)}];

//# sourceMappingURL=13466_Desktop_CURSOR_CONSELHO%20DE%20FUNIL_app_src_app_automation_page_tsx_c3c2018b._.js.map