{"version":3,"sources":["../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/app/performance/page.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/performance/war-room-dashboard.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/performance/alert-center.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { WarRoomDashboard } from '@/components/performance/war-room-dashboard';\r\nimport { AlertCenter } from '@/components/performance/alert-center';\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { \r\n  LayoutDashboard, \r\n  RefreshCcw, \r\n  Calendar, \r\n  Download,\r\n  Zap,\r\n  Activity\r\n} from \"lucide-react\";\r\nimport { PerformanceMetric, PerformanceAnomaly } from '@/types/performance';\r\n\r\nexport default function PerformanceWarRoomPage() {\r\n  const [metrics, setMetrics] = useState<PerformanceMetric[]>([]);\r\n  const [anomalies, setAnomalies] = useState<PerformanceAnomaly[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Mocking the API calls as requested\r\n      const metricsRes = await fetch('/api/performance/metrics?brandId=TEST&mock=true');\r\n      const anomaliesRes = await fetch('/api/performance/anomalies?brandId=TEST&mock=true');\r\n      \r\n      const metricsData = await metricsRes.json();\r\n      const anomaliesData = await anomaliesRes.json();\r\n      \r\n      setMetrics(metricsData);\r\n      setAnomalies(anomaliesData);\r\n    } catch (error) {\r\n      console.error('Error fetching performance data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n      setIsRefreshing(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleRefresh = () => {\r\n    setIsRefreshing(true);\r\n    fetchData();\r\n  };\r\n\r\n  // Process blended metrics from the metrics array\r\n  const blendedMetrics = metrics.find(m => m.source === 'aggregated')?.data || {\r\n    spend: 0,\r\n    revenue: 0,\r\n    roas: 0,\r\n    cac: 0,\r\n    ctr: 0,\r\n    cpc: 0,\r\n    conversions: 0\r\n  };\r\n\r\n  const platformMetrics = metrics\r\n    .filter(m => m.source !== 'aggregated')\r\n    .map(m => ({\r\n      ...m.data,\r\n      platform: m.source as any,\r\n      cpa: m.data.cac // Mapping cac to cpa for the dashboard component\r\n    }));\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black text-zinc-100 p-6 space-y-8\">\r\n      {/* War Room Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6 border-b border-zinc-800 pb-8\">\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"flex -space-x-1\">\r\n              <div className=\"w-2 h-2 rounded-full bg-rose-500 animate-pulse\" />\r\n              <div className=\"w-2 h-2 rounded-full bg-rose-500/50 animate-pulse delay-75\" />\r\n            </div>\r\n            <Badge variant=\"outline\" className=\"bg-rose-500/10 text-rose-500 border-rose-500/20 px-2 font-black tracking-tighter uppercase text-[10px]\">\r\n              Live Ops\r\n            </Badge>\r\n            <span className=\"text-[10px] text-zinc-500 font-bold uppercase tracking-[0.2em]\">Performance War Room</span>\r\n          </div>\r\n          <h1 className=\"text-4xl font-black tracking-tighter text-white flex items-center gap-3\">\r\n            <Activity className=\"w-10 h-10 text-rose-600\" />\r\n            COMMAND CENTER\r\n          </h1>\r\n          <p className=\"text-zinc-500 text-sm font-medium max-w-md\">\r\n            Monitoramento em tempo real de ROAS, CAC e anomalias críticas multicanal.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"hidden lg:flex items-center gap-4 mr-4 px-4 py-2 bg-zinc-900/50 rounded-lg border border-zinc-800\">\r\n            <div className=\"text-right\">\r\n              <p className=\"text-[10px] text-zinc-500 font-bold uppercase\">System Status</p>\r\n              <p className=\"text-xs font-black text-emerald-500\">ALL SYSTEMS NOMINAL</p>\r\n            </div>\r\n            <Zap className=\"w-5 h-5 text-emerald-500\" />\r\n          </div>\r\n          \r\n          <Button variant=\"outline\" className=\"border-zinc-800 bg-zinc-900/50 text-zinc-400 hover:bg-zinc-800 hover:text-white gap-2 h-11\">\r\n            <Calendar size={18} />\r\n            Jan 29, 2026\r\n          </Button>\r\n          \r\n          <Button \r\n            onClick={handleRefresh}\r\n            disabled={isRefreshing}\r\n            className=\"bg-rose-600 hover:bg-rose-500 text-white gap-2 h-11 px-6 font-bold shadow-lg shadow-rose-900/20\"\r\n          >\r\n            <RefreshCcw size={18} className={isRefreshing ? 'animate-spin' : ''} />\r\n            SYNC DATA\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Grid */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\r\n        {/* Left Column: Metrics & Comparison */}\r\n        <div className=\"lg:col-span-8 space-y-6\">\r\n          <WarRoomDashboard \r\n            blended={blendedMetrics}\r\n            platforms={platformMetrics}\r\n            loading={loading}\r\n          />\r\n          \r\n          {/* LTV & Advanced Metrics Section (Placeholder for ST-18.5) */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <Card className=\"bg-zinc-900/40 border-zinc-800 p-6\">\r\n              <h3 className=\"text-sm font-black text-zinc-500 uppercase tracking-widest mb-4\">LTV Prediction (6-Month)</h3>\r\n              <div className=\"flex items-baseline gap-2\">\r\n                <span className=\"text-4xl font-black text-white\">R$ 1.240,00</span>\r\n                <Badge className=\"bg-emerald-500/10 text-emerald-500 border-none\">+18% vs prev</Badge>\r\n              </div>\r\n              <div className=\"mt-4 h-2 w-full bg-zinc-800 rounded-full overflow-hidden\">\r\n                <div className=\"h-full bg-purple-600 w-[75%]\" />\r\n              </div>\r\n            </Card>\r\n            \r\n            <Card className=\"bg-zinc-900/40 border-zinc-800 p-6\">\r\n              <h3 className=\"text-sm font-black text-zinc-500 uppercase tracking-widest mb-4\">CAC Payback Period</h3>\r\n              <div className=\"flex items-baseline gap-2\">\r\n                <span className=\"text-4xl font-black text-white\">22 Days</span>\r\n                <Badge className=\"bg-emerald-500/10 text-emerald-500 border-none\">Optimal</Badge>\r\n              </div>\r\n              <div className=\"mt-4 flex justify-between text-[10px] font-bold text-zinc-600 uppercase\">\r\n                <span>Target: 30 Days</span>\r\n                <span>Current: 22 Days</span>\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Column: Alerts & Intelligence */}\r\n        <div className=\"lg:col-span-4 space-y-6\">\r\n          <AlertCenter \r\n            alerts={anomalies.map(a => ({\r\n              id: a.id,\r\n              severity: a.severity,\r\n              status: a.status === 'new' ? 'active' : 'acknowledged',\r\n              message: a.aiInsight?.explanation || `Anomalia detectada em ${a.metricType}`,\r\n              metricType: a.metricType,\r\n              createdAt: a.detectedAt,\r\n              context: {\r\n                platform: 'Aggregated',\r\n                deviation: a.deviationPercentage,\r\n                entityName: 'Brand TEST'\r\n              }\r\n            })) as any}\r\n            onAcknowledge={(id) => console.log('Acknowledge alert:', id)}\r\n          />\r\n\r\n          <Card className=\"bg-zinc-900/40 border-zinc-800 p-6 border-l-4 border-l-purple-600\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <Zap className=\"w-5 h-5 text-purple-500\" />\r\n              <h3 className=\"text-sm font-black text-white uppercase tracking-widest\">AI Strategic Insight</h3>\r\n            </div>\r\n            <p className=\"text-sm text-zinc-400 leading-relaxed\">\r\n              \"O ROAS do canal Meta Ads caiu 15% nas últimas 24h, mas o LTV projetado da coorte atual é 20% superior. \r\n              <span className=\"text-white font-bold\"> Recomendação:</span> Manter budget e focar em criativos de retenção.\"\r\n            </p>\r\n            <Button variant=\"link\" className=\"text-purple-500 p-0 h-auto mt-4 text-xs font-bold uppercase tracking-tighter\">\r\n              Ver análise completa →\r\n            </Button>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport * as React from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { \r\n  TrendingUp, \r\n  TrendingDown, \r\n  DollarSign, \r\n  Target, \r\n  BarChart3,\r\n  ArrowUpRight,\r\n  ArrowDownRight\r\n} from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { UnifiedAdsMetrics, AdPlatform } from \"@/types/performance\";\r\n\r\ninterface PlatformMetric extends UnifiedAdsMetrics {\r\n  platform: AdPlatform;\r\n}\r\n\r\ninterface WarRoomDashboardProps {\r\n  blended: UnifiedAdsMetrics;\r\n  platforms: PlatformMetric[];\r\n  loading?: boolean;\r\n}\r\n\r\nexport function WarRoomDashboard({ blended, platforms, loading }: WarRoomDashboardProps) {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Blended Metrics Row */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <MetricCard \r\n          title=\"Blended ROAS\" \r\n          value={blended.roas.toFixed(2)} \r\n          suffix=\"x\"\r\n          icon={<Target className=\"w-4 h-4 text-purple-500\" />}\r\n          trend={+12.5}\r\n        />\r\n        <MetricCard \r\n          title=\"Total Spend\" \r\n          value={blended.spend.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} \r\n          icon={<DollarSign className=\"w-4 h-4 text-green-500\" />}\r\n        />\r\n        <MetricCard \r\n          title=\"Blended CAC\" \r\n          value={blended.cac.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} \r\n          icon={<BarChart3 className=\"w-4 h-4 text-blue-500\" />}\r\n          trend={-5.2}\r\n          inverseTrend\r\n        />\r\n        <MetricCard \r\n          title=\"Total Revenue\" \r\n          value={blended.revenue.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} \r\n          icon={<TrendingUp className=\"w-4 h-4 text-orange-500\" />}\r\n        />\r\n      </div>\r\n\r\n      {/* Platform Comparison Table */}\r\n      <Card className=\"bg-zinc-900/40 border-zinc-800\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-lg text-white font-black uppercase tracking-widest\">Performance por Canal</CardTitle>\r\n          <CardDescription className=\"text-zinc-500\">Comparativo detalhado entre Meta, Google e TikTok.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"relative w-full overflow-auto\">\r\n            <table className=\"w-full caption-bottom text-sm\">\r\n              <thead className=\"[&_tr]:border-b border-zinc-800\">\r\n                <tr className=\"border-b border-zinc-800 transition-colors hover:bg-zinc-800/50\">\r\n                  <th className=\"h-12 px-4 text-left align-middle font-bold text-zinc-500 uppercase text-[10px] tracking-widest\">Canal</th>\r\n                  <th className=\"h-12 px-4 text-right align-middle font-bold text-zinc-500 uppercase text-[10px] tracking-widest\">Spend</th>\r\n                  <th className=\"h-12 px-4 text-right align-middle font-bold text-zinc-500 uppercase text-[10px] tracking-widest\">Revenue</th>\r\n                  <th className=\"h-12 px-4 text-right align-middle font-bold text-zinc-500 uppercase text-[10px] tracking-widest\">ROAS</th>\r\n                  <th className=\"h-12 px-4 text-right align-middle font-bold text-zinc-500 uppercase text-[10px] tracking-widest\">CAC</th>\r\n                  <th className=\"h-12 px-4 text-right align-middle font-bold text-zinc-500 uppercase text-[10px] tracking-widest\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"[&_tr:last-child]:border-0\">\r\n                {platforms.map((p) => (\r\n                  <tr key={p.platform} className=\"border-b border-zinc-800/50 transition-colors hover:bg-zinc-800/30\">\r\n                    <td className=\"p-4 align-middle font-black capitalize text-white\">{p.platform}</td>\r\n                    <td className=\"p-4 align-middle text-right text-zinc-300\">{p.spend.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</td>\r\n                    <td className=\"p-4 align-middle text-right text-zinc-300\">{p.revenue.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</td>\r\n                    <td className=\"p-4 align-middle text-right font-black text-white\">{p.roas.toFixed(2)}x</td>\r\n                    <td className=\"p-4 align-middle text-right text-zinc-300\">{p.cac.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</td>\r\n                    <td className=\"p-4 align-middle text-right\">\r\n                      <Badge variant={p.roas >= blended.roas ? \"default\" : \"secondary\"} className={`text-[10px] font-bold uppercase ${p.roas >= blended.roas ? 'bg-emerald-500/10 text-emerald-500 border-emerald-500/20' : 'bg-zinc-800 text-zinc-500 border-zinc-700'}`}>\r\n                        {p.roas >= blended.roas ? \"Outperforming\" : \"Under\"}\r\n                      </Badge>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MetricCard({ \r\n  title, \r\n  value, \r\n  suffix = \"\", \r\n  icon, \r\n  trend, \r\n  inverseTrend = false \r\n}: { \r\n  title: string; \r\n  value: string; \r\n  suffix?: string;\r\n  icon: React.ReactNode;\r\n  trend?: number;\r\n  inverseTrend?: boolean;\r\n}) {\r\n  const isPositive = trend ? trend > 0 : false;\r\n  const showTrend = trend !== undefined;\r\n  \r\n  // For CPA, down is good (inverseTrend)\r\n  const isGoodTrend = inverseTrend ? !isPositive : isPositive;\r\n\r\n  return (\r\n    <Card className=\"bg-zinc-900/40 border-zinc-800 overflow-hidden group\">\r\n      <CardContent className=\"p-6\">\r\n        <div className=\"flex items-center justify-between space-y-0 pb-2\">\r\n          <p className=\"text-[10px] font-black text-zinc-500 uppercase tracking-[0.2em]\">{title}</p>\r\n          <div className=\"p-2 bg-zinc-800/50 rounded-lg group-hover:scale-110 transition-transform\">\r\n            {icon}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-baseline justify-between mt-2\">\r\n          <div className=\"text-3xl font-black text-white tracking-tighter\">{value}{suffix}</div>\r\n          {showTrend && (\r\n            <div className={`flex items-center text-[10px] font-black px-2 py-0.5 rounded-full ${isGoodTrend ? 'text-emerald-500 bg-emerald-500/10' : 'text-rose-500 bg-rose-500/10'}`}>\r\n              {isPositive ? <ArrowUpRight className=\"w-3 h-3 mr-1\" /> : <ArrowDownRight className=\"w-3 h-3 mr-1\" />}\r\n              {Math.abs(trend)}%\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport * as React from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { PerformanceAlertDoc, AlertSeverity } from \"@/types/performance\";\r\nimport { \r\n  AlertTriangle, \r\n  AlertCircle, \r\n  Info, \r\n  CheckCircle2,\r\n  Clock,\r\n  ArrowRight\r\n} from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\n\r\ninterface AlertCenterProps {\r\n  alerts: PerformanceAlertDoc[];\r\n  onAcknowledge?: (alertId: string) => void;\r\n  loading?: boolean;\r\n}\r\n\r\nexport function AlertCenter({ alerts, onAcknowledge, loading }: AlertCenterProps) {\r\n  const activeAlerts = alerts.filter(a => a.status === 'active');\r\n  \r\n  return (\r\n    <Card className=\"w-full h-full flex flex-col bg-zinc-900/40 border-zinc-800 border-t-4 border-t-rose-600\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-lg flex items-center gap-2 text-white font-black uppercase tracking-tighter\">\r\n              <AlertTriangle className=\"w-5 h-5 text-rose-500\" />\r\n              Sentry: Alert Center\r\n            </CardTitle>\r\n            <CardDescription className=\"text-zinc-500\">\r\n              Anomalias detectadas pelo motor de IA.\r\n            </CardDescription>\r\n          </div>\r\n          <Badge variant={activeAlerts.length > 0 ? \"destructive\" : \"secondary\"} className=\"font-black uppercase text-[10px]\">\r\n            {activeAlerts.length} Ativos\r\n          </Badge>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"flex-1 p-0\">\r\n        <ScrollArea className=\"h-[400px]\">\r\n          <div className=\"divide-y divide-zinc-800/50\">\r\n            {alerts.length === 0 ? (\r\n              <div className=\"p-8 text-center text-zinc-500\">\r\n                <CheckCircle2 className=\"w-12 h-12 mx-auto mb-3 text-emerald-500/20\" />\r\n                <p className=\"text-sm font-bold uppercase tracking-widest\">All Nominal</p>\r\n                <p className=\"text-xs\">Tudo operando dentro dos parâmetros.</p>\r\n              </div>\r\n            ) : (\r\n              alerts.map((alert) => (\r\n                <AlertItem \r\n                  key={alert.id} \r\n                  alert={alert} \r\n                  onAcknowledge={() => onAcknowledge?.(alert.id)} \r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n        </ScrollArea>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction AlertItem({ alert, onAcknowledge }: { alert: PerformanceAlertDoc; onAcknowledge: () => void }) {\r\n  const severityConfig: Record<AlertSeverity, { icon: React.ReactNode; color: string; bg: string }> = {\r\n    high: { \r\n      icon: <AlertCircle className=\"w-4 h-4\" />, \r\n      color: \"text-rose-500\", \r\n      bg: \"bg-rose-500/10\" \r\n    },\r\n    medium: { \r\n      icon: <AlertTriangle className=\"w-4 h-4\" />, \r\n      color: \"text-amber-500\", \r\n      bg: \"bg-amber-500/10\" \r\n    },\r\n    low: { \r\n      icon: <Info className=\"w-4 h-4\" />, \r\n      color: \"text-blue-500\", \r\n      bg: \"bg-blue-500/10\" \r\n    }\r\n  };\r\n\r\n  const config = severityConfig[alert.severity];\r\n\r\n  return (\r\n    <div className={`p-4 transition-colors hover:bg-zinc-800/30 ${alert.status !== 'active' ? 'opacity-40' : ''}`}>\r\n      <div className=\"flex gap-3\">\r\n        <div className={`mt-0.5 p-2 rounded-lg h-fit border border-current/20 ${config.bg} ${config.color}`}>\r\n          {config.icon}\r\n        </div>\r\n        <div className=\"flex-1 space-y-1\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-500\">\r\n              {alert.context.platform} • {alert.metricType}\r\n            </span>\r\n            <span className=\"text-[10px] text-zinc-600 font-bold flex items-center gap-1\">\r\n              <Clock className=\"w-3 h-3\" />\r\n              {new Date(alert.createdAt.seconds * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n            </span>\r\n          </div>\r\n          <p className=\"text-sm font-bold leading-tight text-white\">{alert.message}</p>\r\n          <div className=\"flex items-center gap-2 mt-2\">\r\n            <div className=\"text-[10px] bg-zinc-800 text-zinc-400 px-2 py-0.5 rounded font-black uppercase tracking-tighter\">\r\n              Deviation: {alert.context.deviation.toFixed(2)}%\r\n            </div>\r\n            <div className=\"text-[10px] bg-zinc-800 text-zinc-400 px-2 py-0.5 rounded font-black uppercase tracking-tighter\">\r\n              {alert.context.entityName}\r\n            </div>\r\n          </div>\r\n          {alert.status === 'active' && (\r\n            <div className=\"flex justify-end pt-2\">\r\n              <Button \r\n                variant=\"ghost\" \r\n                size=\"sm\" \r\n                className=\"h-7 text-[10px] font-black uppercase tracking-widest text-rose-500 hover:text-rose-400 hover:bg-rose-500/10\"\r\n                onClick={onAcknowledge}\r\n              >\r\n                ACKNOWLEDGE\r\n                <ArrowRight className=\"w-3 h-3 ml-1\" />\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}