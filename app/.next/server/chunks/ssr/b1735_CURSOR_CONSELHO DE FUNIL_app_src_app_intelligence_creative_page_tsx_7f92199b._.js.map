{"version":3,"sources":["../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/app/intelligence/creative/page.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/hooks/use-creative-ranking.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/creative/creative-card.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/creative/copy-lab-modal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Header } from '@/components/layout/header';\r\nimport { useActiveBrand } from '@/lib/hooks/use-active-brand';\r\nimport { useCreativeRanking } from '@/lib/hooks/use-creative-ranking';\r\nimport { CreativeCard } from '@/components/creative/creative-card';\r\nimport { CopyLabModal } from '@/components/creative/copy-lab-modal';\r\nimport { CreativePerformance } from '@/types/creative';\r\nimport { \r\n  BarChart3, \r\n  LayoutGrid, \r\n  Filter, \r\n  ArrowUpDown,\r\n  Sparkles,\r\n  Zap\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\n\r\nexport default function CreativeIntelligencePage() {\r\n  const { activeBrand } = useActiveBrand();\r\n  const { ranking, isLoading } = useCreativeRanking(activeBrand?.id);\r\n  const [selectedCreative, setSelectedCreative] = useState<CreativePerformance | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const handleGenerateCopy = (creative: CreativePerformance) => {\r\n    setSelectedCreative(creative);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col bg-black\">\r\n      <Header \r\n        title=\"Creative Intelligence\" \r\n        subtitle=\"Análise de Profit & Lab de Copy em Tempo Real\"\r\n        actions={\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button variant=\"outline\" className=\"border-white/[0.05] text-zinc-400 hover:text-white\">\r\n              <Filter className=\"mr-2 h-4 w-4\" />\r\n              Filtros\r\n            </Button>\r\n            <Button className=\"bg-emerald-600 hover:bg-emerald-500 text-white font-bold\">\r\n              <Zap className=\"mr-2 h-4 w-4\" />\r\n              Sincronizar Ads\r\n            </Button>\r\n          </div>\r\n        }\r\n      />\r\n\r\n      <main className=\"flex-1 p-6 sm:p-8\">\r\n        <div className=\"max-w-7xl mx-auto space-y-8\">\r\n          \r\n          {/* Stats de Resumo */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            {[\r\n              { label: 'Melhor Profit Score', value: ranking[0]?.profitScore || '0', icon: Sparkles, color: 'text-amber-400' },\r\n              { label: 'Total Ativos', value: ranking.length, icon: LayoutGrid, color: 'text-blue-400' },\r\n              { label: 'Fadiga Média', value: '24%', icon: BarChart3, color: 'text-rose-400' },\r\n              { label: 'ROI Médio', value: '3.2x', icon: Zap, color: 'text-emerald-400' },\r\n            ].map((stat, i) => (\r\n              <div key={i} className=\"bg-zinc-900/30 border border-white/[0.05] rounded-2xl p-4 flex items-center gap-4\">\r\n                <div className={`h-10 w-10 rounded-xl bg-zinc-800 flex items-center justify-center ${stat.color}`}>\r\n                  <stat.icon className=\"h-5 w-5\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-[10px] uppercase tracking-widest text-zinc-500 font-bold\">{stat.label}</p>\r\n                  <p className=\"text-xl font-black text-white\">{stat.value}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Grid de Criativos */}\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n                <LayoutGrid className=\"h-5 w-5 text-zinc-500\" />\r\n                Ranking de Performance\r\n              </h2>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-xs text-zinc-500\">Ordenar por:</span>\r\n                <Button variant=\"ghost\" size=\"sm\" className=\"text-xs font-bold text-zinc-300 gap-1\">\r\n                  Profit Score\r\n                  <ArrowUpDown className=\"h-3 w-3\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                {[1, 2, 3, 4].map((n) => (\r\n                  <div key={n} className=\"space-y-4\">\r\n                    <Skeleton className=\"aspect-square w-full rounded-2xl bg-zinc-900\" />\r\n                    <Skeleton className=\"h-4 w-3/4 bg-zinc-900\" />\r\n                    <Skeleton className=\"h-10 w-full rounded-xl bg-zinc-900\" />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : ranking.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                {ranking.map((creative) => (\r\n                  <CreativeCard \r\n                    key={creative.id} \r\n                    creative={creative} \r\n                    onGenerateCopy={handleGenerateCopy}\r\n                  />\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex flex-col items-center justify-center py-20 bg-zinc-900/20 rounded-3xl border border-dashed border-white/[0.05]\">\r\n                <p className=\"text-zinc-500 font-medium\">Nenhum dado de performance disponível para esta marca.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* Modal do Lab */}\r\n      <CopyLabModal \r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        creative={selectedCreative}\r\n        brandId={activeBrand?.id || ''}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { CreativePerformance } from '@/types/creative';\r\n\r\n/**\r\n * Hook para buscar o ranking de criativos.\r\n * @story ST-26.3\r\n */\r\nexport function useCreativeRanking(brandId: string | undefined) {\r\n  const [ranking, setRanking] = useState<CreativePerformance[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!brandId) return;\r\n\r\n    const fetchRanking = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await fetch(`/api/intelligence/creative/ranking?brandId=${brandId}`);\r\n        if (!response.ok) throw new Error('Falha ao carregar ranking');\r\n        const data = await response.json();\r\n        setRanking(data.ranking);\r\n      } catch (err: any) {\r\n        setError(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRanking();\r\n  }, [brandId]);\r\n\r\n  return { ranking, isLoading, error };\r\n}\r\n","'use client';\r\n\r\nimport { CreativePerformance } from '@/types/creative';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { \r\n  TrendingUp, \r\n  AlertTriangle, \r\n  Copy, \r\n  BarChart3,\r\n  MousePointer2,\r\n  DollarSign\r\n} from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface CreativeCardProps {\r\n  creative: CreativePerformance;\r\n  onGenerateCopy: (creative: CreativePerformance) => void;\r\n}\r\n\r\nexport function CreativeCard({ creative, onGenerateCopy }: CreativeCardProps) {\r\n  const isFatigued = creative.fatigueIndex > 0.7;\r\n  \r\n  const getScoreColor = (score: number) => {\r\n    if (score >= 80) return 'text-emerald-400';\r\n    if (score >= 50) return 'text-amber-400';\r\n    return 'text-rose-400';\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      whileHover={{ y: -4 }}\r\n      transition={{ duration: 0.2 }}\r\n    >\r\n      <Card className=\"overflow-hidden bg-zinc-900/50 border-white/[0.05] hover:border-white/[0.1] transition-all group\">\r\n        {/* Preview do Ativo */}\r\n        <div className=\"relative aspect-square overflow-hidden bg-zinc-800\">\r\n          {creative.type === 'image' ? (\r\n            <img \r\n              src={creative.assetUrl} \r\n              alt=\"Creative Preview\" \r\n              className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\r\n            />\r\n          ) : (\r\n            <video \r\n              src={creative.assetUrl} \r\n              className=\"w-full h-full object-cover\"\r\n              muted\r\n              loop\r\n              onMouseOver={(e) => e.currentTarget.play()}\r\n              onMouseOut={(e) => e.currentTarget.pause()}\r\n            />\r\n          )}\r\n          \r\n          {/* Overlay de Fadiga */}\r\n          {isFatigued && (\r\n            <div className=\"absolute top-2 right-2\">\r\n              <Badge variant=\"destructive\" className=\"flex items-center gap-1 animate-pulse\">\r\n                <AlertTriangle className=\"h-3 w-3\" />\r\n                Fadiga Alta\r\n              </Badge>\r\n            </div>\r\n          )}\r\n\r\n          {/* Profit Score Overlay */}\r\n          <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent\">\r\n            <div className=\"flex items-end justify-between\">\r\n              <div>\r\n                <p className=\"text-[10px] uppercase tracking-widest text-zinc-400 font-bold\">Profit Score</p>\r\n                <p className={`text-2xl font-black ${getScoreColor(creative.profitScore)}`}>\r\n                  {creative.profitScore}\r\n                </p>\r\n              </div>\r\n              <div className=\"flex flex-col items-end\">\r\n                <p className=\"text-[10px] uppercase tracking-widest text-zinc-400 font-bold\">ROI Est.</p>\r\n                <p className=\"text-sm font-bold text-white\">\r\n                  {(creative.metrics.ltvAttributed / creative.metrics.spend).toFixed(1)}x\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Métricas Rápidas */}\r\n        <div className=\"p-4 space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-1\">\r\n              <div className=\"flex items-center gap-1.5 text-zinc-500\">\r\n                <DollarSign className=\"h-3 w-3\" />\r\n                <span className=\"text-[10px] font-medium uppercase\">Investido</span>\r\n              </div>\r\n              <p className=\"text-sm font-semibold text-zinc-200\">\r\n                ${creative.metrics.spend.toLocaleString()}\r\n              </p>\r\n            </div>\r\n            <div className=\"space-y-1\">\r\n              <div className=\"flex items-center gap-1.5 text-zinc-500\">\r\n                <TrendingUp className=\"h-3 w-3\" />\r\n                <span className=\"text-[10px] font-medium uppercase\">LTV Atrib.</span>\r\n              </div>\r\n              <p className=\"text-sm font-semibold text-emerald-400\">\r\n                ${creative.metrics.ltvAttributed.toLocaleString()}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Barra de Fadiga */}\r\n          <div className=\"space-y-1.5\">\r\n            <div className=\"flex justify-between items-center text-[10px] font-medium uppercase\">\r\n              <span className=\"text-zinc-500\">Índice de Fadiga</span>\r\n              <span className={isFatigued ? 'text-rose-400' : 'text-zinc-400'}>\r\n                {Math.round(creative.fatigueIndex * 100)}%\r\n              </span>\r\n            </div>\r\n            <Progress value={creative.fatigueIndex * 100} className=\"h-1\" />\r\n          </div>\r\n\r\n          {/* Ações */}\r\n          <div className=\"pt-2\">\r\n            <Button \r\n              onClick={() => onGenerateCopy(creative)}\r\n              className=\"w-full bg-white text-black hover:bg-zinc-200 font-bold gap-2\"\r\n            >\r\n              <Copy className=\"h-4 w-4\" />\r\n              Gerar Variações de Copy\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { \r\n  Dialog, \r\n  DialogContent, \r\n  DialogHeader, \r\n  DialogTitle, \r\n  DialogDescription \r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs';\r\nimport { CreativePerformance, CopyVariant } from '@/types/creative';\r\nimport { Sparkles, BrainCircuit, Target, ShieldCheck, Loader2, Copy as CopyIcon, Check, AlertTriangle, TrendingUp } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { toast } from 'sonner';\r\nimport { Badge } from '@/components/ui/badge';\r\n\r\ninterface CopyLabModalProps {\r\n  creative: CreativePerformance | null;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  brandId: string;\r\n}\r\n\r\ntype Angle = 'fear' | 'greed' | 'authority' | 'curiosity';\r\n\r\nexport function CopyLabModal({ creative, isOpen, onClose, brandId }: CopyLabModalProps) {\r\n  const [activeAngle, setActiveAngle] = useState<Angle>('greed');\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [variants, setVariants] = useState<CopyVariant[]>([]);\r\n  const [copiedIndex, setCopiedIndex] = useState<number | null>(null);\r\n\r\n  const handleGenerate = async () => {\r\n    if (!creative) return;\r\n    \r\n    try {\r\n      setIsGenerating(true);\r\n      setVariants([]);\r\n      \r\n      const response = await fetch('/api/intelligence/creative/copy', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          brandId,\r\n          baseCopy: \"Adicione aqui a copy base do anúncio original ou extraída via OCR\", // No futuro virá do creative.metadata\r\n          angle: activeAngle,\r\n        })\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Falha na geração');\r\n      const data = await response.json();\r\n      setVariants(data.variants);\r\n      \r\n      toast.success(\"Variantes Geradas!\", {\r\n        description: `3 novas opções baseadas em ${activeAngle} estão prontas.`,\r\n      });\r\n    } catch (error) {\r\n      toast.error(\"Erro na Geração\", {\r\n        description: \"Não foi possível conectar ao motor de IA.\",\r\n      });\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = (text: string, index: number) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopiedIndex(index);\r\n    setTimeout(() => setCopiedIndex(null), 2000);\r\n    toast.info(\"Copiado!\", {\r\n      description: \"Conteúdo pronto para colar no Gerenciador de Anúncios.\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-4xl bg-zinc-950 border-white/[0.1] text-white\">\r\n        <DialogHeader>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"h-10 w-10 rounded-xl bg-purple-500/20 flex items-center justify-center\">\r\n              <BrainCircuit className=\"h-6 w-6 text-purple-400\" />\r\n            </div>\r\n            <div>\r\n              <DialogTitle className=\"text-xl font-black tracking-tight\">AI Copy Variation Lab</DialogTitle>\r\n              <DialogDescription className=\"text-zinc-500\">\r\n                Gere variações persuasivas baseadas em ganchos psicológicos para este criativo.\r\n              </DialogDescription>\r\n            </div>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4\">\r\n          {/* Sidebar de Configuração */}\r\n          <div className=\"space-y-6\">\r\n            <div className=\"space-y-4\">\r\n              <label className=\"text-[10px] font-bold uppercase tracking-widest text-zinc-500\">Ângulo Psicológico</label>\r\n              <div className=\"grid grid-cols-1 gap-2\">\r\n                {[\r\n                  { id: 'fear', label: 'Medo (FOMO)', icon: AlertTriangle, color: 'text-rose-400' },\r\n                  { id: 'greed', label: 'Ganância (ROI)', icon: TrendingUp, color: 'text-emerald-400' },\r\n                  { id: 'authority', label: 'Autoridade', icon: ShieldCheck, color: 'text-blue-400' },\r\n                  { id: 'curiosity', label: 'Curiosidade', icon: Sparkles, color: 'text-amber-400' },\r\n                ].map((angle) => (\r\n                  <button\r\n                    key={angle.id}\r\n                    onClick={() => setActiveAngle(angle.id as Angle)}\r\n                    className={`flex items-center gap-3 p-3 rounded-xl border transition-all ${\r\n                      activeAngle === angle.id \r\n                        ? 'bg-white/10 border-white/20 text-white' \r\n                        : 'bg-transparent border-white/[0.05] text-zinc-500 hover:border-white/10'\r\n                    }`}\r\n                  >\r\n                    <angle.icon className={`h-4 w-4 ${activeAngle === angle.id ? angle.color : ''}`} />\r\n                    <span className=\"text-sm font-bold\">{angle.label}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <Button \r\n              onClick={handleGenerate} \r\n              disabled={isGenerating}\r\n              className=\"w-full h-12 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white font-black rounded-xl gap-2 shadow-lg shadow-purple-500/20\"\r\n            >\r\n              {isGenerating ? <Loader2 className=\"h-5 w-5 animate-spin\" /> : <Sparkles className=\"h-5 w-5\" />}\r\n              GERAR VARIANTES\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Área de Resultados */}\r\n          <div className=\"md:col-span-2 bg-zinc-900/50 rounded-2xl border border-white/[0.05] p-6 min-h-[400px]\">\r\n            <AnimatePresence mode=\"wait\">\r\n              {isGenerating ? (\r\n                <motion.div \r\n                  initial={{ opacity: 0 }} \r\n                  animate={{ opacity: 1 }} \r\n                  exit={{ opacity: 0 }}\r\n                  className=\"h-full flex flex-col items-center justify-center space-y-4\"\r\n                >\r\n                  <div className=\"relative\">\r\n                    <div className=\"h-16 w-16 rounded-full border-2 border-purple-500/20 border-t-purple-500 animate-spin\" />\r\n                    <BrainCircuit className=\"h-8 w-8 text-purple-500 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\" />\r\n                  </div>\r\n                  <p className=\"text-zinc-400 font-medium animate-pulse\">Consultando o motor criativo...</p>\r\n                </motion.div>\r\n              ) : variants.length > 0 ? (\r\n                <motion.div \r\n                  initial={{ opacity: 0 }} \r\n                  animate={{ opacity: 1 }}\r\n                  className=\"space-y-6\"\r\n                >\r\n                  {variants.map((variant, idx) => (\r\n                    <div key={idx} className=\"group relative bg-zinc-950 border border-white/[0.05] rounded-xl p-4 hover:border-white/10 transition-all\">\r\n                      <div className=\"flex justify-between items-start mb-3\">\r\n                        <Badge variant=\"outline\" className=\"text-[10px] uppercase font-bold border-white/10\">Opção {idx + 1}</Badge>\r\n                        <Button \r\n                          variant=\"ghost\" \r\n                          size=\"icon\" \r\n                          className=\"h-8 w-8 text-zinc-500 hover:text-white\"\r\n                          onClick={() => copyToClipboard(`${variant.headline}\\n\\n${variant.primaryText}`, idx)}\r\n                        >\r\n                          {copiedIndex === idx ? <Check className=\"h-4 w-4 text-emerald-400\" /> : <CopyIcon className=\"h-4 w-4\" />}\r\n                        </Button>\r\n                      </div>\r\n                      <h4 className=\"text-sm font-black text-white mb-2\">{variant.headline}</h4>\r\n                      <p className=\"text-xs text-zinc-400 leading-relaxed whitespace-pre-wrap\">{variant.primaryText}</p>\r\n                    </div>\r\n                  ))}\r\n                </motion.div>\r\n              ) : (\r\n                <div className=\"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-30\">\r\n                  <Target className=\"h-12 w-12\" />\r\n                  <div>\r\n                    <p className=\"font-bold\">Nenhuma variante gerada</p>\r\n                    <p className=\"text-xs\">Escolha um ângulo e clique em Gerar para começar.</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}