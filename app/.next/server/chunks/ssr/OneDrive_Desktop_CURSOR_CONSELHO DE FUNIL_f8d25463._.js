module.exports=[317953,a=>{"use strict";let b=(0,a.i(47916).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],317953)},468772,a=>{"use strict";let b=(0,a.i(47916).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],468772)},434219,a=>{"use strict";let b=(0,a.i(47916).default)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);a.s(["Twitter",()=>b],434219)},733532,a=>{"use strict";let b=(0,a.i(47916).default)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);a.s(["Linkedin",()=>b],733532)},999283,a=>{"use strict";let b=(0,a.i(47916).default)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);a.s(["Instagram",()=>b],999283)},180177,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(126236),e=a.i(289036),f=a.i(539514);a.i(543317);var g=a.i(134034),h=a.i(860342),i=a.i(59910),j=a.i(459966),k=a.i(248842),l=a.i(468772),m=a.i(317953),n=a.i(822399),o=a.i(300180),p=a.i(789241),q=a.i(434219),r=a.i(999283),s=a.i(733532),t=a.i(880925),u=a.i(168565),v=a.i(26e3),w=a.i(698565),x=a.i(810045),y=a.i(759837),z=a.i(169405);let A=[{id:"meta",label:"Meta (FB/IG)",icon:r.Instagram,color:"text-pink-500"},{id:"linkedin",label:"LinkedIn",icon:s.Linkedin,color:"text-blue-600"},{id:"twitter",label:"X / Twitter",icon:q.Twitter,color:"text-zinc-200"},{id:"tiktok",label:"TikTok",icon:t.Zap,color:"text-cyan-400"}];function B(){let a=(0,d.useParams)(),q=(0,d.useRouter)(),r=(0,d.useSearchParams)(),{user:s}=(0,y.useAuthStore)(),B=a.id,C=r.get("campaignId"),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!0),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)([]);(0,c.useEffect)(()=>{!async function(){if(B)try{let a=await (0,g.getDoc)((0,g.doc)(h.db,"funnels",B));if(a.exists()){let b=a.data();E({id:a.id,...b});let c=C||B,d=await (0,g.getDoc)((0,g.doc)(h.db,"campaigns",c)),e=d.exists()?d.data():null;if(!e||!e.copywriting){let a=(0,g.collection)(h.db,"funnels",B,"copyProposals"),b=await (0,g.getDocs)((0,g.query)(a,(0,g.where)("status","==","approved"),(0,g.limit)(1)));if(b.docs.length>0){let a=b.docs[0].data();e={...e,copywriting:{bigIdea:a.content.primary?.slice(0,500)||"Big Idea aprovada",headlines:a.content.headlines||[],mainScript:a.content.primary||"",tone:a.awarenessStage||"problem_aware",counselor_reference:a.copywriterInsights?.[0]?.copywriterName||"Conselho de Copy"}}}}G(e),e?.social?.hooks&&M(e.social.hooks)}}catch(a){console.error("Error loading data:",a)}finally{I(!1)}}()},[B]);let N=async()=>{if(!D||!F?.copywriting)return void z.notify.error("Erro","Aprove uma copy antes de gerar hooks sociais.");K(!0);try{let a=await fetch("/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funnelId:B,userId:s?.uid,context:{objective:D.context.objective,copy:F.copywriting.mainScript,targetAudience:D.context.audience?.who}})}),b=await a.json();b.success?(M(b.hooks),z.notify.success("Hooks gerados com sucesso!")):z.notify.error("Erro",b.error)}catch(a){z.notify.error("Erro","Falha ao convocar Conselho de Social")}finally{K(!1)}},O=async()=>{if(B&&0!==L.length){I(!0);try{let a=C||B;await (0,i.updateCampaignManifesto)(a,{social:{hooks:L,platforms:["Instagram","Facebook","LinkedIn"]}}),z.notify.success("Estratégia Social Aprovada!"),q.push(`/campaigns/${a}`)}catch(a){z.notify.error("Erro","Falha ao salvar estratégia social")}finally{I(!1)}}};return H?(0,b.jsxs)("div",{className:"flex min-h-screen flex-col bg-black",children:[(0,b.jsx)(j.Header,{title:"Conselho de Social"}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,b.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-emerald-500"})})]}):(0,b.jsxs)("div",{className:"flex min-h-screen flex-col bg-black",children:[(0,b.jsx)(j.Header,{title:"Social Media & Hooks",showBack:!0}),(0,b.jsxs)("div",{className:"flex-1 p-8 max-w-5xl mx-auto w-full",children:[(0,b.jsxs)(f.default,{href:`/campaigns/${C||B}`,className:"inline-flex items-center gap-2 text-zinc-400 hover:text-white mb-6 transition-colors",children:[(0,b.jsx)(l.ArrowLeft,{className:"h-4 w-4"}),"Voltar ao Comando"]}),(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"p-3 rounded-2xl bg-pink-500/10 text-pink-500",children:(0,b.jsx)(p.Share2,{className:"h-8 w-8"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Conselho de Social"}),(0,b.jsx)("p",{className:"text-zinc-500",children:"Transformando sua copy em atenção imparável."})]})]}),F?.copywriting?(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:A.map(a=>(0,b.jsxs)("div",{className:"card-premium p-4 flex items-center gap-3",children:[(0,b.jsx)(a.icon,{className:(0,x.cn)("h-5 w-5",a.color)}),(0,b.jsx)("span",{className:"text-sm font-medium text-zinc-300",children:a.label})]},a.id))}),0===L.length?(0,b.jsxs)("div",{className:"card-premium p-12 text-center",children:[(0,b.jsx)(t.Zap,{className:"h-12 w-12 text-zinc-700 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Pronto para capturar atenção?"}),(0,b.jsxs)(k.Button,{onClick:N,disabled:J,className:"btn-accent h-12 px-8",children:[J?(0,b.jsx)(m.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}):(0,b.jsx)(n.Sparkles,{className:"mr-2 h-5 w-5"}),"Gerar Hooks Estratégicos"]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(u.Target,{className:"h-5 w-5 text-emerald-400"}),"Hooks Sugeridos"]}),(0,b.jsxs)(k.Button,{variant:"ghost",onClick:N,disabled:J,className:"text-zinc-500 hover:text-white",children:[(0,b.jsx)(o.RefreshCw,{className:(0,x.cn)("h-4 w-4 mr-2",J&&"animate-spin")}),"Recriar Hooks"]})]}),(0,b.jsx)("div",{className:"grid gap-4",children:L.map((a,c)=>(0,b.jsx)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*c},className:"card-premium p-6 group hover:border-emerald-500/30 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded bg-zinc-800 text-zinc-400",children:a.style||"Padrão"}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded bg-emerald-500/10 text-emerald-400",children:a.platform||"Multi-channel"})]}),(0,b.jsxs)("p",{className:"text-lg text-white font-medium leading-relaxed",children:['"',a.content,'"']})]}),(0,b.jsx)(k.Button,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(v.ChevronRight,{className:"h-5 w-5"})})]})},c))}),(0,b.jsx)("div",{className:"pt-8 border-t border-white/[0.05] flex justify-end",children:(0,b.jsxs)(k.Button,{onClick:O,className:"btn-accent h-12 px-12 text-lg font-bold shadow-[0_0_30px_rgba(16,185,129,0.3)]",children:["Aprovar e Seguir para Design",(0,b.jsx)(v.ChevronRight,{className:"ml-2 h-5 w-5"})]})})]})]}):(0,b.jsxs)("div",{className:"card-premium p-8 text-center border-dashed border-amber-500/30",children:[(0,b.jsx)(w.AlertCircle,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Copywriting Pendente"}),(0,b.jsx)("p",{className:"text-zinc-500 mb-6",children:"Você precisa aprovar uma copy na etapa anterior para que o Conselho de Social tenha base estratégica."}),(0,b.jsx)(f.default,{href:`/funnels/${B}/copy`,children:(0,b.jsx)(k.Button,{className:"btn-accent",children:"Ir para Copywriting"})})]})]})]})]})}a.s(["default",()=>B])}];

//# sourceMappingURL=OneDrive_Desktop_CURSOR_CONSELHO%20DE%20FUNIL_f8d25463._.js.map