{"version":3,"sources":["../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/app/funnels/%5Bid%5D/proposals/%5BproposalId%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { motion } from 'framer-motion';\r\nimport { Header } from '@/components/layout/header';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  ArrowLeft,\r\n  CheckCircle2,\r\n  XCircle,\r\n  RefreshCw,\r\n  ChevronRight,\r\n  Sparkles,\r\n  Target,\r\n  Lightbulb,\r\n  AlertTriangle,\r\n  FileText,\r\n  Copy,\r\n  Star,\r\n  Zap,\r\n  Users,\r\n  TrendingUp,\r\n  MessageSquare,\r\n  Library,\r\n  Loader2,\r\n  Download,\r\n} from 'lucide-react';\r\nimport { doc, getDoc, updateDoc } from 'firebase/firestore';\r\nimport { db } from '@/lib/firebase/config';\r\nimport type { Funnel, Proposal, ProposalScorecard, FunnelStage } from '@/types/database';\r\nimport { cn } from '@/lib/utils';\r\nimport { updateFunnel } from '@/lib/firebase/firestore';\r\n\r\n// Generate markdown for a single proposal\r\nfunction generateProposalMarkdown(funnel: Funnel, proposal: Proposal): string {\r\n  const scorecard = proposal.scorecard as any;\r\n  const score = scorecard?.overall || 'N/A';\r\n  const date = new Date().toLocaleDateString('pt-BR');\r\n\r\n  let md = `# ${proposal.name}\r\n\r\n> Funil: ${funnel.name} | Exportado em ${date}\r\n\r\n---\r\n\r\n**Score Geral:** ${typeof score === 'number' ? score.toFixed(1) : score}/10\r\n\r\n${proposal.summary || ''}\r\n\r\n`;\r\n\r\n  if (proposal.strategy?.rationale) {\r\n    md += `## üí° Racional Estrat√©gico\r\n\r\n${proposal.strategy.rationale}\r\n\r\n`;\r\n  }\r\n\r\n  if (proposal.architecture?.stages?.length) {\r\n    md += `## üèóÔ∏è Arquitetura do Funil\r\n\r\n`;\r\n    proposal.architecture.stages.forEach(stage => {\r\n      md += `- **${stage.order}. ${stage.name}** (${stage.type}) - ${stage.objective || ''}\\n`;\r\n    });\r\n    md += '\\n';\r\n  }\r\n\r\n  if (scorecard) {\r\n    md += `## üìä Scorecard\r\n\r\n- Clareza: ${scorecard.clarity || '-'}\r\n- For√ßa da Oferta: ${scorecard.offerStrength || '-'}\r\n- Qualifica√ß√£o: ${scorecard.qualification || '-'}\r\n- Fric√ß√£o: ${scorecard.friction || '-'}\r\n- Potencial LTV: ${scorecard.ltvPotential || '-'}\r\n- ROI Esperado: ${scorecard.expectedRoi || '-'}\r\n\r\n`;\r\n  }\r\n\r\n  if (proposal.strategy?.risks?.length) {\r\n    md += `## ‚ö†Ô∏è Riscos\r\n\r\n${proposal.strategy.risks.map(r => `- ${r}`).join('\\n')}\r\n\r\n`;\r\n  }\r\n\r\n  if (proposal.strategy?.recommendations?.length) {\r\n    md += `## ‚úÖ Recomenda√ß√µes\r\n\r\n${proposal.strategy.recommendations.map(r => `- ${r}`).join('\\n')}\r\n\r\n`;\r\n  }\r\n\r\n  if (proposal.assets?.headlines?.length) {\r\n    md += `## üìù Headlines\r\n\r\n${proposal.assets.headlines.map(h => `- ${h}`).join('\\n')}\r\n\r\n`;\r\n  }\r\n\r\n  if (proposal.assets?.hooks?.length) {\r\n    md += `## üé£ Hooks\r\n\r\n${proposal.assets.hooks.map(h => `- ${h}`).join('\\n')}\r\n\r\n`;\r\n  }\r\n\r\n  if (proposal.assets?.ctas?.length) {\r\n    md += `## üéØ CTAs\r\n\r\n${proposal.assets.ctas.map(c => `- ${c}`).join('\\n')}\r\n\r\n`;\r\n  }\r\n\r\n  md += `---\\n\\n*Documento gerado pelo Conselho de Funil*`;\r\n  return md;\r\n}\r\n\r\n// Simple markdown to HTML converter\r\nfunction simpleMarkdownToHtml(md: string): string {\r\n  return md\r\n    .replace(/^#### (.+)$/gm, '<h4>$1</h4>')\r\n    .replace(/^### (.+)$/gm, '<h3>$1</h3>')\r\n    .replace(/^## (.+)$/gm, '<h2>$1</h2>')\r\n    .replace(/^# (.+)$/gm, '<h1>$1</h1>')\r\n    .replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>')\r\n    .replace(/\\*(.+?)\\*/g, '<em>$1</em>')\r\n    .replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')\r\n    .replace(/^---$/gm, '<hr>')\r\n    .replace(/\\|(.+)\\|/g, (match) => {\r\n      const cells = match.split('|').filter(c => c.trim());\r\n      if (cells.some(c => c.includes('---'))) return '';\r\n      const tag = 'td';\r\n      return `<tr>${cells.map(c => `<${tag}>${c.trim().replace(/\\*\\*/g, '')}</${tag}>`).join('')}</tr>`;\r\n    })\r\n    .replace(/(<tr>.*<\\/tr>\\n?)+/g, '<table>$&</table>')\r\n    .replace(/^- (.+)$/gm, '<li>$1</li>')\r\n    .replace(/(<li>.*<\\/li>\\n?)+/g, '<ul>$&</ul>')\r\n    .replace(/\\n\\n/g, '<br><br>');\r\n}\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';\r\nimport { Textarea } from '@/components/ui/textarea';\r\n\r\nconst COUNSELOR_NAMES: Record<string, { name: string; role: string; color: string }> = {\r\n  russell_brunson: { name: 'Russell Brunson', role: 'Arquitetura', color: 'text-blue-400' },\r\n  dan_kennedy: { name: 'Dan Kennedy', role: 'Copy & Oferta', color: 'text-amber-400' },\r\n  frank_kern: { name: 'Frank Kern', role: 'Psicologia', color: 'text-purple-400' },\r\n  sam_ovens: { name: 'Sam Ovens', role: 'Aquisi√ß√£o', color: 'text-green-400' },\r\n  ryan_deiss: { name: 'Ryan Deiss', role: 'LTV', color: 'text-rose-400' },\r\n  perry_belcher: { name: 'Perry Belcher', role: 'Monetiza√ß√£o', color: 'text-orange-400' },\r\n};\r\n\r\nconst STAGE_ICONS: Record<string, string> = {\r\n  ad: 'üì£',\r\n  landing: 'üéØ',\r\n  quiz: '‚ùì',\r\n  vsl: 'üé¨',\r\n  checkout: 'üí≥',\r\n  email: 'üìß',\r\n  call: 'üìû',\r\n  webinar: 'üé•',\r\n  default: 'üìç',\r\n};\r\n\r\nfunction ScoreBar({ label, value, max = 10, color }: { label: string; value: number; max?: number; color: string }) {\r\n  const percentage = (value / max) * 100;\r\n  return (\r\n    <div className=\"space-y-1.5\">\r\n      <div className=\"flex items-center justify-between text-sm\">\r\n        <span className=\"text-zinc-400\">{label}</span>\r\n        <span className={cn('font-semibold', color)}>{value.toFixed(1)}</span>\r\n      </div>\r\n      <div className=\"h-2 bg-zinc-800 rounded-full overflow-hidden\">\r\n        <motion.div\r\n          initial={{ width: 0 }}\r\n          animate={{ width: `${percentage}%` }}\r\n          transition={{ duration: 0.5, ease: 'easeOut' }}\r\n          className={cn('h-full rounded-full', color.replace('text', 'bg'))}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StageCard({ stage, index }: { stage: FunnelStage; index: number }) {\r\n  const icon = STAGE_ICONS[stage.type?.toLowerCase()] || STAGE_ICONS.default;\r\n  \r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, x: -20 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n      transition={{ delay: index * 0.05 }}\r\n      className=\"flex items-start gap-4\"\r\n    >\r\n      <div className=\"flex flex-col items-center\">\r\n        <div className=\"flex h-12 w-12 items-center justify-center rounded-xl bg-zinc-800/50 text-2xl\">\r\n          {icon}\r\n        </div>\r\n        {index < 6 && <div className=\"w-0.5 h-8 bg-zinc-800 my-2\" />}\r\n      </div>\r\n      \r\n      <div className=\"flex-1 pb-6\">\r\n        <div className=\"flex items-center gap-2 mb-1\">\r\n          <span className=\"text-xs text-zinc-500 font-mono\">ETAPA {stage.order}</span>\r\n          <span className=\"text-xs px-2 py-0.5 rounded bg-zinc-800 text-zinc-400 uppercase\">\r\n            {stage.type}\r\n          </span>\r\n        </div>\r\n        <h4 className=\"text-white font-medium mb-1\">{stage.name}</h4>\r\n        {stage.objective && (\r\n          <p className=\"text-sm text-zinc-400 mb-2\">{stage.objective}</p>\r\n        )}\r\n        {stage.description && (\r\n          <p className=\"text-sm text-zinc-500\">{stage.description}</p>\r\n        )}\r\n        {stage.metrics && (\r\n          <div className=\"flex items-center gap-4 mt-2 text-xs\">\r\n            {stage.metrics.expectedConversion && (\r\n              <span className=\"text-emerald-400\">\r\n                Conv: {stage.metrics.expectedConversion}\r\n              </span>\r\n            )}\r\n            {stage.metrics.kpi && (\r\n              <span className=\"text-zinc-500\">\r\n                KPI: {stage.metrics.kpi}\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport default function ProposalDetailPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const [funnel, setFunnel] = useState<Funnel | null>(null);\r\n  const [proposal, setProposal] = useState<Proposal | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isActioning, setIsActioning] = useState(false);\r\n  const [isSavingToLibrary, setIsSavingToLibrary] = useState(false);\r\n  const [savedToLibrary, setSavedToLibrary] = useState(false);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogType, setDialogType] = useState<'adjust' | 'kill' | null>(null);\r\n  const [dialogInput, setDialogInput] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function loadData() {\r\n      if (!params.id || !params.proposalId) return;\r\n\r\n      try {\r\n        // Load funnel\r\n        const funnelDoc = await getDoc(doc(db, 'funnels', params.id as string));\r\n        if (funnelDoc.exists()) {\r\n          setFunnel({ id: funnelDoc.id, ...funnelDoc.data() } as Funnel);\r\n        }\r\n\r\n        // Load proposal\r\n        const proposalDoc = await getDoc(\r\n          doc(db, 'funnels', params.id as string, 'proposals', params.proposalId as string)\r\n        );\r\n        if (proposalDoc.exists()) {\r\n          setProposal({ id: proposalDoc.id, ...proposalDoc.data() } as Proposal);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading data:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n\r\n    loadData();\r\n  }, [params.id, params.proposalId]);\r\n\r\n  const handleDecision = async (decision: 'execute' | 'adjust' | 'kill') => {\r\n    if (!funnel || !proposal) return;\r\n    \r\n    // Para AJUSTAR ou MATAR, abrir dialog\r\n    if (decision === 'adjust' || decision === 'kill') {\r\n      setDialogType(decision);\r\n      setDialogInput('');\r\n      setDialogOpen(true);\r\n      return;\r\n    }\r\n    \r\n    // EXECUTAR vai direto\r\n    await submitDecision('execute', 'Proposta aprovada para execu√ß√£o', []);\r\n  };\r\n\r\n  const submitDecision = async (decision: 'execute' | 'adjust' | 'kill', reason: string, adjustments: string[]) => {\r\n    if (!funnel || !proposal) return;\r\n    \r\n    setIsActioning(true);\r\n    setDialogOpen(false);\r\n    \r\n    try {\r\n      const response = await fetch('/api/decisions', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          funnelId: funnel.id,\r\n          proposalId: proposal.id,\r\n          type: decision,\r\n          userId: funnel.userId || 'anonymous',\r\n          userName: 'Voc√™',\r\n          reason,\r\n          adjustments: decision === 'adjust' ? adjustments : [],\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        console.error('API Error:', errorData);\r\n        throw new Error(errorData.error || 'Failed to save decision');\r\n      }\r\n\r\n      router.push(`/funnels/${funnel.id}`);\r\n    } catch (error) {\r\n      console.error('Error updating decision:', error);\r\n      alert('Erro ao salvar decis√£o. Tente novamente.');\r\n    } finally {\r\n      setIsActioning(false);\r\n    }\r\n  };\r\n\r\n  const handleDialogSubmit = () => {\r\n    if (!dialogInput.trim() || !dialogType) return;\r\n    \r\n    if (dialogType === 'adjust') {\r\n      const adjustments = dialogInput.split(',').map(a => a.trim()).filter(Boolean);\r\n      submitDecision('adjust', `Ajustes: ${adjustments.join(', ')}`, adjustments);\r\n    } else {\r\n      submitDecision('kill', dialogInput, []);\r\n    }\r\n  };\r\n\r\n  const copyAssets = (type: 'headlines' | 'hooks' | 'ctas') => {\r\n    const assets = proposal?.assets?.[type];\r\n    if (assets) {\r\n      navigator.clipboard.writeText(assets.join('\\n'));\r\n      alert(`${type} copiados!`);\r\n    }\r\n  };\r\n\r\n  const handleExport = async (format: 'markdown' | 'pdf') => {\r\n    if (!funnel || !proposal) return;\r\n    \r\n    try {\r\n      // Generate markdown locally\r\n      const markdown = generateProposalMarkdown(funnel, proposal);\r\n      \r\n      if (format === 'markdown') {\r\n        const blob = new Blob([markdown], { type: 'text/markdown' });\r\n        const downloadUrl = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = downloadUrl;\r\n        a.download = `${proposal.name.replace(/[^a-zA-Z0-9]/g, '_')}.md`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        window.URL.revokeObjectURL(downloadUrl);\r\n      } else {\r\n        // Generate markdown locally for this proposal\r\n        const markdown = generateProposalMarkdown(funnel, proposal);\r\n        const html = simpleMarkdownToHtml(markdown);\r\n        \r\n        const fullHtml = `<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>${proposal.name} - Export</title>\r\n  <style>\r\n    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px 20px; line-height: 1.6; color: #1a1a1a; }\r\n    h1 { color: #10b981; border-bottom: 2px solid #10b981; padding-bottom: 10px; }\r\n    h2 { color: #374151; margin-top: 30px; }\r\n    h3 { color: #4b5563; }\r\n    h4 { color: #6b7280; }\r\n    table { border-collapse: collapse; width: 100%; margin: 15px 0; }\r\n    th, td { border: 1px solid #e5e7eb; padding: 10px; text-align: left; }\r\n    th { background: #f9fafb; }\r\n    blockquote { border-left: 3px solid #10b981; padding-left: 15px; color: #6b7280; }\r\n    hr { border: none; border-top: 1px solid #e5e7eb; margin: 30px 0; }\r\n    ul { padding-left: 25px; }\r\n    li { margin: 5px 0; }\r\n    .print-btn { position: fixed; top: 20px; right: 20px; padding: 10px 20px; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; z-index: 1000; }\r\n    @media print { .print-btn { display: none; } }\r\n  </style>\r\n</head>\r\n<body>\r\n  <button class=\"print-btn\" onclick=\"window.print()\">üñ®Ô∏è Imprimir PDF</button>\r\n  ${html}\r\n</body>\r\n</html>`;\r\n\r\n        const blob = new Blob([fullHtml], { type: 'text/html' });\r\n        const blobUrl = URL.createObjectURL(blob);\r\n        window.open(blobUrl, '_blank');\r\n      }\r\n    } catch (error) {\r\n      console.error('Export error:', error);\r\n      alert('Erro ao exportar. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  const handleSaveToLibrary = async () => {\r\n    if (!funnel || !proposal) return;\r\n    \r\n    setIsSavingToLibrary(true);\r\n    try {\r\n      const response = await fetch('/api/library', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          funnelId: funnel.id,\r\n          proposalId: proposal.id,\r\n          name: proposal.name,\r\n          description: proposal.summary,\r\n          tags: [funnel.context.objective, funnel.context.channel?.main].filter(Boolean),\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to save to library');\r\n      }\r\n\r\n      setSavedToLibrary(true);\r\n      alert('‚úÖ Salvo na biblioteca com sucesso!');\r\n    } catch (error) {\r\n      console.error('Error saving to library:', error);\r\n      alert('Erro ao salvar na biblioteca. Tente novamente.');\r\n    } finally {\r\n      setIsSavingToLibrary(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex min-h-screen flex-col\">\r\n        <Header title=\"Carregando...\" showBack />\r\n        <div className=\"flex-1 p-8\">\r\n          <div className=\"animate-pulse space-y-6 max-w-4xl mx-auto\">\r\n            <div className=\"h-32 rounded-xl bg-zinc-800/50\" />\r\n            <div className=\"grid gap-6 md:grid-cols-2\">\r\n              <div className=\"h-64 rounded-xl bg-zinc-800/50\" />\r\n              <div className=\"h-64 rounded-xl bg-zinc-800/50\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!proposal || !funnel) {\r\n    return (\r\n      <div className=\"flex min-h-screen flex-col\">\r\n        <Header title=\"Proposta n√£o encontrada\" showBack />\r\n        <div className=\"flex-1 p-8 flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <div className=\"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-zinc-800/50 mb-4\">\r\n              <FileText className=\"h-8 w-8 text-zinc-600\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-white\">Proposta n√£o encontrada</h3>\r\n            <Link href={`/funnels/${params.id}`}>\r\n              <Button className=\"mt-6 btn-accent\">Voltar para o Funil</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const scorecard = proposal.scorecard as ProposalScorecard | undefined;\r\n  const overallScore = scorecard?.overall || 0;\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col\">\r\n      <Header\r\n        title={proposal.name}\r\n        subtitle={funnel.name}\r\n        showBack\r\n        actions={\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button variant=\"ghost\" className=\"btn-ghost\" onClick={() => handleExport('markdown')}>\r\n              <FileText className=\"mr-2 h-4 w-4\" />\r\n              MD\r\n            </Button>\r\n            <Button variant=\"ghost\" className=\"btn-ghost\" onClick={() => handleExport('pdf')}>\r\n              <Download className=\"mr-2 h-4 w-4\" />\r\n              PDF\r\n            </Button>\r\n            <Link href={`/chat?funnelId=${funnel.id}&proposalId=${proposal.id}`}>\r\n              <Button variant=\"outline\" className=\"btn-ghost\">\r\n                <MessageSquare className=\"mr-2 h-4 w-4\" />\r\n                Perguntar ao Conselho\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        }\r\n      />\r\n\r\n      <div className=\"flex-1 p-8\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n          {/* Summary & Score */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"card-premium p-6 mb-8\"\r\n          >\r\n            <div className=\"flex flex-col md:flex-row md:items-start gap-6\">\r\n              <div className=\"flex-1\">\r\n                <p className=\"text-zinc-300 text-lg leading-relaxed mb-4\">\r\n                  {proposal.summary}\r\n                </p>\r\n                \r\n                {proposal.strategy?.rationale && (\r\n                  <div className=\"p-4 bg-zinc-800/30 rounded-lg\">\r\n                    <div className=\"flex items-center gap-2 text-sm text-zinc-400 mb-2\">\r\n                      <Lightbulb className=\"h-4 w-4\" />\r\n                      Racional Estrat√©gico\r\n                    </div>\r\n                    <p className=\"text-zinc-300 text-sm\">{proposal.strategy.rationale}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {scorecard && (\r\n                <div className=\"md:w-64 p-5 bg-zinc-800/30 rounded-xl\">\r\n                  <div className=\"text-center mb-4\">\r\n                    <div className={cn(\r\n                      'text-5xl font-bold',\r\n                      overallScore >= 7.5 ? 'text-emerald-400' :\r\n                      overallScore >= 6 ? 'text-amber-400' : 'text-red-400'\r\n                    )}>\r\n                      {overallScore.toFixed(1)}\r\n                    </div>\r\n                    <div className=\"text-sm text-zinc-500\">Score Geral</div>\r\n                  </div>\r\n                  \r\n                  <div className=\"space-y-3\">\r\n                    <ScoreBar label=\"Clareza\" value={scorecard.clarity} color=\"text-blue-400\" />\r\n                    <ScoreBar label=\"For√ßa da Oferta\" value={scorecard.offerStrength} color=\"text-amber-400\" />\r\n                    <ScoreBar label=\"Qualifica√ß√£o\" value={scorecard.qualification} color=\"text-green-400\" />\r\n                    <ScoreBar label=\"Fric√ß√£o\" value={10 - scorecard.friction} color=\"text-purple-400\" />\r\n                    <ScoreBar label=\"Potencial LTV\" value={scorecard.ltvPotential} color=\"text-rose-400\" />\r\n                    <ScoreBar label=\"ROI Esperado\" value={scorecard.expectedRoi} color=\"text-emerald-400\" />\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n\r\n          <div className=\"grid gap-8 lg:grid-cols-2\">\r\n            {/* Architecture */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.1 }}\r\n              className=\"card-premium p-6\"\r\n            >\r\n              <h3 className=\"text-lg font-semibold text-white flex items-center gap-2 mb-6\">\r\n                <Target className=\"h-5 w-5 text-emerald-400\" />\r\n                Arquitetura do Funil\r\n              </h3>\r\n              \r\n              <div className=\"space-y-0\">\r\n                {proposal.architecture?.stages?.map((stage, index) => (\r\n                  <StageCard key={index} stage={stage} index={index} />\r\n                ))}\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Insights & Risks */}\r\n            <div className=\"space-y-6\">\r\n              {/* Counselor Insights */}\r\n              {proposal.strategy?.counselorInsights && proposal.strategy.counselorInsights.length > 0 && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: 0.15 }}\r\n                  className=\"card-premium p-6\"\r\n                >\r\n                  <h3 className=\"text-lg font-semibold text-white flex items-center gap-2 mb-4\">\r\n                    <Users className=\"h-5 w-5 text-blue-400\" />\r\n                    Insights dos Conselheiros\r\n                  </h3>\r\n                  \r\n                  <div className=\"space-y-4\">\r\n                    {proposal.strategy.counselorInsights.map((insight, index) => {\r\n                      const counselor = COUNSELOR_NAMES[insight.counselor] || {\r\n                        name: insight.counselor,\r\n                        role: '',\r\n                        color: 'text-zinc-400'\r\n                      };\r\n                      \r\n                      return (\r\n                        <div key={index} className=\"p-4 bg-zinc-800/30 rounded-lg\">\r\n                          <div className=\"flex items-center gap-2 mb-2\">\r\n                            <span className={cn('font-medium', counselor.color)}>\r\n                              {counselor.name}\r\n                            </span>\r\n                            {counselor.role && (\r\n                              <span className=\"text-xs text-zinc-500\">\r\n                                ({counselor.role})\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <p className=\"text-sm text-zinc-300\">{insight.insight}</p>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n\r\n              {/* Risks & Recommendations */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n                className=\"card-premium p-6\"\r\n              >\r\n                <div className=\"grid gap-6\">\r\n                  {proposal.strategy?.risks && proposal.strategy.risks.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"text-sm font-medium text-red-400 flex items-center gap-2 mb-3\">\r\n                        <AlertTriangle className=\"h-4 w-4\" />\r\n                        Riscos Identificados\r\n                      </h4>\r\n                      <ul className=\"space-y-2\">\r\n                        {proposal.strategy.risks.map((risk, index) => (\r\n                          <li key={index} className=\"flex items-start gap-2 text-sm text-zinc-400\">\r\n                            <span className=\"text-red-400/50\">‚Ä¢</span>\r\n                            {risk}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  {proposal.strategy?.recommendations && proposal.strategy.recommendations.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"text-sm font-medium text-emerald-400 flex items-center gap-2 mb-3\">\r\n                        <TrendingUp className=\"h-4 w-4\" />\r\n                        Recomenda√ß√µes\r\n                      </h4>\r\n                      <ul className=\"space-y-2\">\r\n                        {proposal.strategy.recommendations.map((rec, index) => (\r\n                          <li key={index} className=\"flex items-start gap-2 text-sm text-zinc-400\">\r\n                            <span className=\"text-emerald-400/50\">‚Ä¢</span>\r\n                            {rec}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Assets */}\r\n          {proposal.assets && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.25 }}\r\n              className=\"card-premium p-6 mt-8\"\r\n            >\r\n              <h3 className=\"text-lg font-semibold text-white flex items-center gap-2 mb-6\">\r\n                <Zap className=\"h-5 w-5 text-amber-400\" />\r\n                Assets Gerados\r\n              </h3>\r\n\r\n              <div className=\"grid gap-6 md:grid-cols-3\">\r\n                {proposal.assets.headlines && proposal.assets.headlines.length > 0 && (\r\n                  <div>\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <h4 className=\"text-sm font-medium text-zinc-400\">Headlines</h4>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"h-7 text-xs\"\r\n                        onClick={() => copyAssets('headlines')}\r\n                      >\r\n                        <Copy className=\"h-3 w-3 mr-1\" />\r\n                        Copiar\r\n                      </Button>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      {proposal.assets.headlines.map((headline, index) => (\r\n                        <div key={index} className=\"p-3 bg-zinc-800/30 rounded-lg text-sm text-zinc-300\">\r\n                          {headline}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {proposal.assets.hooks && proposal.assets.hooks.length > 0 && (\r\n                  <div>\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <h4 className=\"text-sm font-medium text-zinc-400\">Hooks</h4>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"h-7 text-xs\"\r\n                        onClick={() => copyAssets('hooks')}\r\n                      >\r\n                        <Copy className=\"h-3 w-3 mr-1\" />\r\n                        Copiar\r\n                      </Button>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      {proposal.assets.hooks.map((hook, index) => (\r\n                        <div key={index} className=\"p-3 bg-zinc-800/30 rounded-lg text-sm text-zinc-300\">\r\n                          {hook}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {proposal.assets.ctas && proposal.assets.ctas.length > 0 && (\r\n                  <div>\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <h4 className=\"text-sm font-medium text-zinc-400\">CTAs</h4>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"h-7 text-xs\"\r\n                        onClick={() => copyAssets('ctas')}\r\n                      >\r\n                        <Copy className=\"h-3 w-3 mr-1\" />\r\n                        Copiar\r\n                      </Button>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      {proposal.assets.ctas.map((cta, index) => (\r\n                        <div key={index} className=\"p-3 bg-zinc-800/30 rounded-lg text-sm text-zinc-300 font-medium\">\r\n                          {cta}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Decision Actions */}\r\n          {funnel.status === 'review' && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.3 }}\r\n              className=\"card-premium p-6 mt-8\"\r\n            >\r\n              <h3 className=\"text-lg font-semibold text-white mb-2\">Sua Decis√£o</h3>\r\n              <p className=\"text-zinc-400 text-sm mb-6\">\r\n                Analise a proposta e decida se quer executar, solicitar ajustes ou descartar.\r\n              </p>\r\n\r\n              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                <Button\r\n                  onClick={() => handleDecision('execute')}\r\n                  disabled={isActioning}\r\n                  className=\"flex-1 h-12 bg-emerald-600 hover:bg-emerald-500 text-white\"\r\n                >\r\n                  <CheckCircle2 className=\"mr-2 h-5 w-5\" />\r\n                  EXECUTAR\r\n                </Button>\r\n                <Button\r\n                  onClick={() => handleDecision('adjust')}\r\n                  disabled={isActioning}\r\n                  variant=\"outline\"\r\n                  className=\"flex-1 h-12 border-amber-500/50 text-amber-400 hover:bg-amber-500/10\"\r\n                >\r\n                  <RefreshCw className=\"mr-2 h-5 w-5\" />\r\n                  AJUSTAR\r\n                </Button>\r\n                <Button\r\n                  onClick={() => handleDecision('kill')}\r\n                  disabled={isActioning}\r\n                  variant=\"outline\"\r\n                  className=\"flex-1 h-12 border-red-500/50 text-red-400 hover:bg-red-500/10\"\r\n                >\r\n                  <XCircle className=\"mr-2 h-5 w-5\" />\r\n                  MATAR\r\n                </Button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Save to Library (for approved funnels) */}\r\n          {funnel.status === 'approved' && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.3 }}\r\n              className=\"card-premium p-6 mt-8\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-white mb-1 flex items-center gap-2\">\r\n                    <Library className=\"h-5 w-5 text-emerald-400\" />\r\n                    Salvar na Biblioteca\r\n                  </h3>\r\n                  <p className=\"text-zinc-400 text-sm\">\r\n                    Transforme este funil em um template reutiliz√°vel para criar novos funis mais r√°pido.\r\n                  </p>\r\n                </div>\r\n                <Button\r\n                  onClick={handleSaveToLibrary}\r\n                  disabled={isSavingToLibrary || savedToLibrary}\r\n                  className={cn(\r\n                    \"h-11\",\r\n                    savedToLibrary \r\n                      ? \"bg-emerald-600 text-white\" \r\n                      : \"btn-accent\"\r\n                  )}\r\n                >\r\n                  {isSavingToLibrary ? (\r\n                    <>\r\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                      Salvando...\r\n                    </>\r\n                  ) : savedToLibrary ? (\r\n                    <>\r\n                      <CheckCircle2 className=\"mr-2 h-4 w-4\" />\r\n                      Salvo!\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Library className=\"mr-2 h-4 w-4\" />\r\n                      Salvar Template\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Generate Copy (for approved funnels) */}\r\n          {funnel.status === 'approved' && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.35 }}\r\n              className=\"card-premium p-6 mt-4 border-violet-500/20 bg-gradient-to-br from-violet-500/5 to-transparent\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-white mb-1 flex items-center gap-2\">\r\n                    <Sparkles className=\"h-5 w-5 text-violet-400\" />\r\n                    Gerar Copy\r\n                  </h3>\r\n                  <p className=\"text-zinc-400 text-sm\">\r\n                    Ative o Conselho de Copywriting para criar headlines, emails, ofertas, VSL e mais.\r\n                  </p>\r\n                </div>\r\n                <Link href={`/funnels/${funnel.id}/copy?proposalId=${proposal.id}`}>\r\n                  <Button className=\"h-11 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500\">\r\n                    <Sparkles className=\"mr-2 h-4 w-4\" />\r\n                    Conselho de Copy\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Dialog para AJUSTAR ou MATAR */}\r\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n        <DialogContent className=\"bg-zinc-900 border-zinc-800\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-white\">\r\n              {dialogType === 'adjust' ? 'Solicitar Ajustes' : 'Descartar Proposta'}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"py-4\">\r\n            <Textarea\r\n              value={dialogInput}\r\n              onChange={(e) => setDialogInput(e.target.value)}\r\n              placeholder={\r\n                dialogType === 'adjust'\r\n                  ? 'Quais ajustes s√£o necess√°rios? (separe por v√≠rgula)'\r\n                  : 'Por que esta proposta deve ser descartada?'\r\n              }\r\n              className=\"min-h-[100px] bg-zinc-800 border-zinc-700 text-white\"\r\n            />\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"ghost\" onClick={() => setDialogOpen(false)}>\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              onClick={handleDialogSubmit}\r\n              disabled={!dialogInput.trim()}\r\n              className={dialogType === 'adjust' ? 'bg-amber-600 hover:bg-amber-500' : 'bg-red-600 hover:bg-red-500'}\r\n            >\r\n              {dialogType === 'adjust' ? 'Solicitar Ajustes' : 'Descartar'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}