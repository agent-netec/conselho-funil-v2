module.exports=[675982,a=>{"use strict";var b=a.i(194327),c=a.i(810045);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},502117,a=>{"use strict";var b=a.i(194327),c=a.i(810045);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},589810,939396,a=>{"use strict";var b=a.i(759800);let c=a=>b=>{try{let d=a(b);if(d instanceof Promise)return d;return{then:a=>c(a)(d),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>c(b)(a)}}},d=(a,b)=>(d,e,f)=>{let g,h={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=0,k=new Set,l=new Set,m=h.storage;if(!m)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),d(...a)},e,f);let n=()=>{let a=h.partialize({...e()});return m.setItem(h.name,{state:a,version:h.version})},o=f.setState;f.setState=(a,b)=>(o(a,b),n());let p=a((...a)=>(d(...a),n()),e,f);f.getInitialState=()=>p;let q=()=>{var a,b;if(!m)return;let f=++j;i=!1,k.forEach(a=>{var b;return a(null!=(b=e())?b:p)});let o=(null==(b=h.onRehydrateStorage)?void 0:b.call(h,null!=(a=e())?a:p))||void 0;return c(m.getItem.bind(m))(h.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return[!1,a.state];else{if(h.migrate){let b=h.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;if(f!==j)return;let[c,i]=a;if(d(g=h.merge(i,null!=(b=e())?b:p),!0),c)return n()}).then(()=>{f===j&&(null==o||o(g,void 0),g=e(),i=!0,l.forEach(a=>a(g)))}).catch(a=>{f===j&&(null==o||o(void 0,a))})};return f.persist={setOptions:a=>{h={...h,...a},a.storage&&(m=a.storage)},clearStorage:()=>{null==m||m.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>q(),hasHydrated:()=>i,onHydrate:a=>(k.add(a),()=>{k.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},h.skipHydration||q(),g||p};a.s(["persist",()=>d],939396);let e=(0,b.create)()(d(a=>({selectedBrand:null,brands:[],isLoading:!1,setSelectedBrand:b=>a({selectedBrand:b}),setBrands:b=>a({brands:b}),setLoading:b=>a({isLoading:b}),clearBrand:()=>a({selectedBrand:null})}),{name:"brand-storage",partialize:a=>({selectedBrand:a.selectedBrand})}));a.s(["useBrandStore",0,e],589810)},317953,a=>{"use strict";let b=(0,a.i(47916).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],317953)},226053,a=>{"use strict";var b=a.i(589810);function c(){let{selectedBrand:a}=(0,b.useBrandStore)();return a}a.s(["useActiveBrand",()=>c])},543783,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(502117),e=a.i(989116),f=a.i(176173),g=a.i(168565),h=a.i(76537),i=a.i(979230),j=a.i(317953),k=a.i(399385),l=a.i(19761),m=a.i(866096),n=a.i(248842),o=a.i(675982),p=a.i(226053),q=a.i(810045),r=a.i(453764);function s(){let a=(0,p.useActiveBrand)(),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),y=async()=>{if(!s)return void r.toast.error("Por favor, insira uma URL válida.");if(!a?.id)return void r.toast.error("Nenhuma marca ativa selecionada.");v(!0),x(null);try{let b=await fetch("/api/intelligence/autopsy/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({brandId:a.id,url:s,depth:"quick"})});if(!b.ok){let a=await b.json();throw Error(a.error||"Erro ao executar diagnóstico.")}let c=await b.json();x(c.report),r.toast.success("Diagnóstico concluído com sucesso!")}catch(a){console.error("[AUTOPSY_UI_ERROR]:",a),r.toast.error(a.message||"Falha ao processar a URL.")}finally{v(!1)}};return(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Funnel Autopsy"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Diagnóstico profundo e identificação de gargalos em funis de alta escala."})]}),(0,b.jsx)(d.Card,{className:"bg-zinc-900/50 border-zinc-800",children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500"}),(0,b.jsx)(o.Input,{placeholder:"Insira a URL do funil para análise (ex: https://lp.concorrente.com)",className:"pl-10 bg-zinc-950 border-zinc-800 focus:ring-emerald-500/20",value:s,onChange:a=>t(a.target.value),disabled:u})]}),(0,b.jsx)(n.Button,{onClick:y,disabled:u||!s,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-w-[140px]",children:u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Analisando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Stethoscope,{className:"mr-2 h-4 w-4"}),"Iniciar Autópsia"]})})]})})}),w?(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)(d.Card,{className:"bg-zinc-900/50 border-zinc-800",children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Activity,{className:"w-5 h-5 text-emerald-500"}),"Resumo do Diagnóstico"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-500",children:"Health Score:"}),(0,b.jsxs)("div",{className:(0,q.cn)("text-2xl font-bold px-3 py-1 rounded-lg",w.score>=7?"text-emerald-500 bg-emerald-500/10":w.score>=4?"text-amber-500 bg-amber-500/10":"text-red-500 bg-red-500/10"),children:[w.score,"/10"]})]})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("p",{className:"text-zinc-300 leading-relaxed italic",children:['"',w.summary,'"']}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(w.heuristics).map(([a,c])=>(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-zinc-950/50 border border-zinc-800/50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-xs font-bold uppercase tracking-widest text-zinc-500",children:a}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-sm font-medium",children:[c.score,"/10"]}),(a=>{switch(a){case"pass":return(0,b.jsx)(k.CheckCircle2,{className:"w-4 h-4 text-emerald-500"});case"fail":return(0,b.jsx)(l.XCircle,{className:"w-4 h-4 text-red-500"});case"warning":return(0,b.jsx)(h.AlertTriangle,{className:"w-4 h-4 text-amber-500"});default:return(0,b.jsx)(m.Info,{className:"w-4 h-4 text-zinc-500"})}})(c.status)]})]}),(0,b.jsx)("ul",{className:"space-y-2",children:c.findings.map((a,c)=>(0,b.jsxs)("li",{className:"text-xs text-zinc-400 flex gap-2",children:[(0,b.jsx)("span",{className:"text-emerald-500/50",children:"•"}),a]},c))})]},a))})]})]}),(0,b.jsxs)(d.Card,{className:"bg-zinc-900/50 border-zinc-800",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Target,{className:"w-5 h-5 text-blue-500"}),"Plano de Ação Recomendado"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:w.recommendations.map((a,c)=>(0,b.jsx)("div",{className:"p-4 rounded-xl bg-zinc-950/50 border border-zinc-800/50 flex flex-col md:flex-row gap-4",children:(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:(0,q.cn)("text-[10px] font-bold uppercase px-2 py-0.5 rounded border",(a=>{switch(a){case"high":return"bg-red-500/10 text-red-500 border-red-500/20";case"medium":return"bg-amber-500/10 text-amber-500 border-amber-500/20";case"low":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-zinc-500/10 text-zinc-500 border-zinc-500/20"}})(a.priority)),children:a.priority}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase px-2 py-0.5 rounded border border-zinc-700 text-zinc-400",children:a.type})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-white",children:a.action}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:a.impact})]})},c))})})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.Card,{className:"bg-zinc-900/50 border-zinc-800 overflow-hidden",children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm uppercase tracking-widest text-zinc-500",children:"Preview da Página"})}),(0,b.jsxs)(d.CardContent,{className:"p-0",children:[w.metadata.screenshotUrl?(0,b.jsx)("img",{src:w.metadata.screenshotUrl,alt:"Funnel Preview",className:"w-full h-auto object-cover border-y border-zinc-800"}):(0,b.jsx)("div",{className:"h-40 flex items-center justify-center bg-zinc-950 text-zinc-700",children:(0,b.jsx)("p",{className:"text-xs",children:"Screenshot indisponível"})}),(0,b.jsxs)("div",{className:"p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Tempo de Carregamento:"}),(0,b.jsxs)("span",{className:"text-zinc-300 font-mono",children:[w.metadata.loadTimeMs,"ms"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase text-zinc-500",children:"Tech Stack Detectado:"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[w.metadata.techStack.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 rounded bg-zinc-800 text-[10px] text-zinc-300",children:a},c)),0===w.metadata.techStack.length&&(0,b.jsx)("span",{className:"text-[10px] text-zinc-600 italic",children:"Nenhuma tecnologia identificada"})]})]})]})]})]}),(0,b.jsx)(d.Card,{className:"bg-emerald-500/5 border-emerald-500/10",children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(h.AlertTriangle,{className:"w-5 h-5 text-emerald-500 shrink-0"}),(0,b.jsxs)("div",{className:"text-xs space-y-2",children:[(0,b.jsx)("p",{className:"font-bold text-emerald-400",children:"Insight do Athos"}),(0,b.jsxs)("p",{className:"text-zinc-400 leading-relaxed",children:["Este diagnóstico foi gerado comparando os dados da página com os playbooks de conversão do Wilder. Priorize as recomendações de ",(0,b.jsx)("strong",{children:"Alta Prioridade"})," para ver impacto imediato no ROAS."]})]})]})})})]})]}):!u&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 border-2 border-dashed border-zinc-800 rounded-2xl bg-zinc-900/20",children:[(0,b.jsx)(e.Stethoscope,{className:"w-12 h-12 text-zinc-700 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-zinc-400",children:"Nenhum diagnóstico ativo"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 mt-1",children:"Insira uma URL acima para iniciar a autópsia forense do funil."})]})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=OneDrive_Desktop_CURSOR_CONSELHO%20DE%20FUNIL_b8599468._.js.map