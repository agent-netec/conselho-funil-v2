module.exports=[459966,548709,26e3,a=>{"use strict";var b=a.i(194327),c=a.i(126236),d=a.i(289036),e=a.i(376517),f=a.i(810045),g=a.i(582583),h=a.i(704241),i=a.i(343583),j=a.i(985461),k=a.i(645454),l=a.i(398236),m=a.i(822399),n=a.i(759837),o=a.i(535781);function p(){let{user:a}=(0,n.useAuthStore)(),[b,c]=(0,g.useState)([]),[d,e]=(0,g.useState)(!0),[f,h]=(0,g.useState)(null),i=async()=>{if(!a){c([]),e(!1);return}try{e(!0);let b=await (0,o.getUserBrands)(a.uid);c(b),h(null)}catch(a){console.error("Error loading brands:",a),h("Erro ao carregar marcas")}finally{e(!1)}};return(0,g.useEffect)(()=>{i()},[a]),{brands:b,isLoading:d,error:f,create:async b=>{if(!a)throw Error("User not authenticated");let c=await (0,o.createBrand)({...b,userId:a.uid});return await i(),c},update:async(a,b)=>{await (0,o.updateBrand)(a,b),await i()},remove:async a=>{await (0,o.deleteBrand)(a),await i()},getById:async a=>await (0,o.getBrand)(a),refresh:i}}a.s(["useBrands",()=>p],548709);var q=a.i(589810),r=a.i(248842);function s(){let a=(0,c.useRouter)(),e=p(),n=e?.brands||[],o=e?.isLoading,s=(0,q.useBrandStore)(),t=s?.selectedBrand,u=s?.setSelectedBrand,[v,w]=(0,g.useState)(!1);(0,g.useEffect)(()=>{t||!(n.length>0)||o||u(n[0])},[n,t,o,u]);let x=()=>{w(!1),a.push("/brands/new")};return o?(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/[0.06]",children:[(0,b.jsx)("div",{className:"h-4 w-4 rounded bg-zinc-700 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 w-24 rounded bg-zinc-700 animate-pulse"})]}):0===n.length?(0,b.jsxs)(r.Button,{onClick:x,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Criar Primeira Marca"]}):(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>w(!v),className:(0,f.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all","bg-white/[0.03] border border-white/[0.06]","hover:bg-white/[0.06] hover:border-white/[0.1]",v&&"bg-white/[0.06] border-white/[0.1]"),children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded bg-gradient-to-br from-emerald-500 to-blue-600",children:(0,b.jsx)(l.Building2,{className:"h-3.5 w-3.5 text-white"})}),(0,b.jsxs)("div",{className:"hidden sm:flex flex-col items-start",children:[(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:"Marca"}),(0,b.jsx)("span",{className:"text-sm font-medium text-white truncate max-w-[120px]",children:t?.name||"Selecione"})]}),(0,b.jsx)(j.ChevronDown,{className:(0,f.cn)("h-4 w-4 text-zinc-500 transition-transform",v&&"rotate-180")})]}),(0,b.jsx)(h.AnimatePresence,{children:v&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>w(!1)}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-72 z-50 rounded-xl border border-white/[0.06] bg-zinc-900 shadow-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"px-4 py-3 border-b border-white/[0.06]",children:(0,b.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider font-medium",children:"Suas Marcas"})}),(0,b.jsx)("div",{className:"max-h-[320px] overflow-y-auto py-2",children:n.map(a=>(0,b.jsxs)("button",{onClick:()=>{var b;let c;return b=a.id,void((c=n.find(a=>a.id===b))&&(u(c),w(!1)))},className:(0,f.cn)("w-full px-4 py-3 flex items-start gap-3 transition-colors","hover:bg-white/[0.04]",t?.id===a.id&&"bg-emerald-500/5"),children:[(0,b.jsx)("div",{className:(0,f.cn)("flex h-10 w-10 shrink-0 items-center justify-center rounded-lg",t?.id===a.id?"bg-gradient-to-br from-emerald-500 to-blue-600":"bg-white/[0.06]"),children:(0,b.jsx)(l.Building2,{className:(0,f.cn)("h-5 w-5",t?.id===a.id?"text-white":"text-zinc-400")})}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:(0,f.cn)("font-medium",t?.id===a.id?"text-emerald-400":"text-white"),children:a.name}),t?.id===a.id&&(0,b.jsx)(i.Check,{className:"h-4 w-4 text-emerald-400"})]}),(0,b.jsx)("p",{className:"text-xs text-zinc-500 mt-0.5",children:a.vertical})]})]},a.id))}),(0,b.jsx)("div",{className:"px-2 py-2 border-t border-white/[0.06]",children:(0,b.jsxs)("button",{onClick:x,className:"w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium text-emerald-400 hover:bg-emerald-500/10 transition-colors",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-500/10",children:(0,b.jsx)(k.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("span",{children:"Nova Marca"}),(0,b.jsx)(m.Sparkles,{className:"h-3.5 w-3.5 ml-auto"})]})})]})]})})]})}var t=a.i(451251);a.s(["ChevronRight",()=>t.default],26e3);var t=t,u=a.i(401920),v=a.i(742267),w=a.i(168565),x=a.i(759800),y=a.i(939396);let z=(0,x.create)()((0,y.persist)(a=>({currentScope:{level:"universal"},names:{},setScope:(b,c={})=>a({currentScope:b,names:c}),setBrandScope:(b,c)=>a({currentScope:{level:"brand",brandId:b},names:{brand:c}}),setFunnelScope:(b,c,d,e)=>a(a=>({currentScope:{level:"funnel",brandId:b,funnelId:c},names:{...a.names,brand:e||a.names.brand,funnel:d}})),setCampaignScope:(b,c,d,e,f,g)=>a(a=>({currentScope:{level:"campaign",brandId:b,funnelId:c,campaignId:d},names:{...a.names,brand:g||a.names.brand,funnel:f||a.names.funnel,campaign:e}})),clearScope:()=>a({currentScope:{level:"universal"},names:{}})}),{name:"context-storage"}));var A=a.i(525262);function B(){let{currentScope:a,names:c,setScope:d}=z(),e=(a,c,d,e)=>a||"universal"===d?(0,b.jsxs)("div",{className:"flex items-center",children:["universal"!==d&&(0,b.jsx)(t.default,{className:"h-3.5 w-3.5 text-zinc-600 mx-1"}),(0,b.jsxs)("div",{className:(0,f.cn)("flex items-center gap-1.5 px-2 py-1 rounded-md transition-colors",e?"bg-white/[0.06] text-white":"text-zinc-500 hover:text-zinc-300 hover:bg-white/[0.03]"),children:[c,(0,b.jsx)("span",{className:"text-xs font-medium truncate max-w-[120px]",children:a||"Universal"})]})]}):null;return(0,b.jsxs)("div",{className:"flex items-center bg-zinc-950/50 border border-white/[0.04] rounded-lg px-1.5 py-1",children:[e("Universal",(0,b.jsx)(u.Globe,{className:"h-3 w-3"}),"universal","universal"===a.level),c.brand&&e(c.brand,(0,b.jsx)(l.Building2,{className:"h-3 w-3"}),"brand","brand"===a.level),c.funnel&&e(c.funnel,(0,b.jsx)(v.Filter,{className:"h-3 w-3"}),"funnel","funnel"===a.level),c.campaign&&e(c.campaign,(0,b.jsx)(w.Target,{className:"h-3 w-3"}),"campaign","campaign"===a.level),(0,b.jsxs)(A.DropdownMenu,{children:[(0,b.jsx)(A.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)("button",{className:"ml-1 p-1 hover:bg-white/[0.05] rounded-md transition-colors",children:(0,b.jsx)(j.ChevronDown,{className:"h-3 w-3 text-zinc-500"})})}),(0,b.jsxs)(A.DropdownMenuContent,{align:"end",className:"w-56 bg-zinc-900 border-white/[0.06]",children:[(0,b.jsx)(A.DropdownMenuLabel,{className:"text-[10px] uppercase tracking-widest text-zinc-500",children:"Escopo de Dados Ativo"}),(0,b.jsx)(A.DropdownMenuSeparator,{className:"bg-white/[0.06]"}),(0,b.jsxs)(A.DropdownMenuItem,{className:"flex items-center gap-2 text-xs py-2.5",onClick:()=>d({level:"universal"},{}),children:[(0,b.jsx)(u.Globe,{className:"h-3.5 w-3.5 text-blue-400"}),(0,b.jsx)("span",{children:"Redefinir para Universal"})]}),c.brand&&(0,b.jsxs)(A.DropdownMenuItem,{className:"flex items-center gap-2 text-xs py-2.5",onClick:()=>d({level:"brand",brandId:a.brandId},{brand:c.brand}),children:[(0,b.jsx)(l.Building2,{className:"h-3.5 w-3.5 text-emerald-400"}),(0,b.jsxs)("span",{children:["Focar na Marca: ",c.brand]})]}),c.funnel&&(0,b.jsxs)(A.DropdownMenuItem,{className:"flex items-center gap-2 text-xs py-2.5",onClick:()=>d({level:"funnel",brandId:a.brandId,funnelId:a.funnelId},{brand:c.brand,funnel:c.funnel}),children:[(0,b.jsx)(v.Filter,{className:"h-3.5 w-3.5 text-purple-400"}),(0,b.jsxs)("span",{children:["Focar no Funil: ",c.funnel]})]})]})]})]})}var C=a.i(916745);function D({title:a,subtitle:g,showBack:h,actions:i,showBrandSelector:j=!0}){let k=(0,c.useRouter)(),l=(0,C.useMobile)();return(0,b.jsxs)("header",{className:(0,f.cn)("sticky top-0 z-30 flex h-16 items-center justify-between border-b border-white/[0.02] bg-background/80 backdrop-blur-xl px-4 sm:px-6"),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 flex-1 min-w-0",children:[h&&(0,b.jsx)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k.back(),className:"flex h-9 w-9 items-center justify-center rounded-xl text-zinc-400 hover:text-white hover:bg-white/[0.03] transition-colors flex-shrink-0 border border-white/[0.04]",children:(0,b.jsx)(e.ChevronLeft,{className:"h-5 w-5",strokeWidth:1.5})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1 pl-10 md:pl-0",children:[(0,b.jsx)(d.motion.h1,{className:(0,f.cn)("font-semibold text-white tracking-tight truncate",l?"text-[14px]":"text-base"),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:a}),g&&!l&&(0,b.jsx)(d.motion.p,{className:"text-[10px] text-zinc-500 truncate font-medium uppercase tracking-wider",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:.05},children:g})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0 ml-auto",children:[!l&&(0,b.jsx)(B,{}),j&&(0,b.jsx)(s,{}),i&&(0,b.jsx)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:i})]})]})}a.s(["Header",()=>D],459966)},376517,a=>{"use strict";let b=(0,a.i(47916).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],376517)},401920,a=>{"use strict";let b=(0,a.i(47916).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],401920)},645454,a=>{"use strict";let b=(0,a.i(47916).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],645454)},742267,a=>{"use strict";let b=(0,a.i(47916).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],742267)},535781,a=>{"use strict";a.i(543317);var b=a.i(134034),c=a.i(860342);async function d(a){let d=b.Timestamp.now();return(await (0,b.addDoc)((0,b.collection)(c.db,"brands"),{...a,createdAt:d,updatedAt:d})).id}async function e(a){let d=(0,b.doc)(c.db,"brands",a),e=await (0,b.getDoc)(d);return e.exists()?{id:e.id,...e.data()}:null}async function f(a){let d=(0,b.query)((0,b.collection)(c.db,"brands"),(0,b.where)("userId","==",a));return(await (0,b.getDocs)(d)).docs.map(a=>({id:a.id,...a.data()})).sort((a,b)=>{let c=a.updatedAt?.seconds||0;return(b.updatedAt?.seconds||0)-c})}async function g(a,d){let e=(0,b.doc)(c.db,"brands",a);await (0,b.updateDoc)(e,{...d,updatedAt:b.Timestamp.now()})}async function h(a,d){let e=(0,b.doc)(c.db,"brands",a);await (0,b.updateDoc)(e,{brandKit:d,updatedAt:b.Timestamp.now()})}async function i(a){let d=(0,b.doc)(c.db,"brands",a);await (0,b.deleteDoc)(d)}a.s(["createBrand",()=>d,"deleteBrand",()=>i,"getBrand",()=>e,"getUserBrands",()=>f,"updateBrand",()=>g,"updateBrandKit",()=>h])},501630,a=>{"use strict";let b=(0,a.i(47916).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>b])},589810,939396,a=>{"use strict";var b=a.i(759800);let c=a=>b=>{try{let d=a(b);if(d instanceof Promise)return d;return{then:a=>c(a)(d),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>c(b)(a)}}},d=(a,b)=>(d,e,f)=>{let g,h={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=0,k=new Set,l=new Set,m=h.storage;if(!m)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),d(...a)},e,f);let n=()=>{let a=h.partialize({...e()});return m.setItem(h.name,{state:a,version:h.version})},o=f.setState;f.setState=(a,b)=>(o(a,b),n());let p=a((...a)=>(d(...a),n()),e,f);f.getInitialState=()=>p;let q=()=>{var a,b;if(!m)return;let f=++j;i=!1,k.forEach(a=>{var b;return a(null!=(b=e())?b:p)});let o=(null==(b=h.onRehydrateStorage)?void 0:b.call(h,null!=(a=e())?a:p))||void 0;return c(m.getItem.bind(m))(h.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return[!1,a.state];else{if(h.migrate){let b=h.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;if(f!==j)return;let[c,i]=a;if(d(g=h.merge(i,null!=(b=e())?b:p),!0),c)return n()}).then(()=>{f===j&&(null==o||o(g,void 0),g=e(),i=!0,l.forEach(a=>a(g)))}).catch(a=>{f===j&&(null==o||o(void 0,a))})};return f.persist={setOptions:a=>{h={...h,...a},a.storage&&(m=a.storage)},clearStorage:()=>{null==m||m.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>q(),hasHydrated:()=>i,onHydrate:a=>(k.add(a),()=>{k.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},h.skipHydration||q(),g||p};a.s(["persist",()=>d],939396);let e=(0,b.create)()(d(a=>({selectedBrand:null,brands:[],isLoading:!1,setSelectedBrand:b=>a({selectedBrand:b}),setBrands:b=>a({brands:b}),setLoading:b=>a({isLoading:b}),clearBrand:()=>a({selectedBrand:null})}),{name:"brand-storage",partialize:a=>({selectedBrand:a.selectedBrand})}));a.s(["useBrandStore",0,e],589810)},343583,a=>{"use strict";var b=a.i(501630);a.s(["Check",()=>b.default])}];

//# sourceMappingURL=OneDrive_Desktop_CURSOR_CONSELHO%20DE%20FUNIL_58b6337b._.js.map