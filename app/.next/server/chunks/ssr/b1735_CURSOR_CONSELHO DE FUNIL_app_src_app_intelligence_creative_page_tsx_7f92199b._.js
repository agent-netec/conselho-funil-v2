module.exports=[562061,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(459966),e=a.i(226053),f=a.i(502117),g=a.i(74552),h=a.i(248842),i=a.i(356796),j=a.i(270509),k=a.i(76537),l=a.i(174192),m=a.i(244244),n=a.i(289036);function o({creative:a,onGenerateCopy:c}){var d;let e=a.fatigueIndex>.7;return(0,b.jsx)(n.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{y:-4},transition:{duration:.2},children:(0,b.jsxs)(f.Card,{className:"overflow-hidden bg-zinc-900/50 border-white/[0.05] hover:border-white/[0.1] transition-all group",children:[(0,b.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-zinc-800",children:["image"===a.type?(0,b.jsx)("img",{src:a.assetUrl,alt:"Creative Preview",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):(0,b.jsx)("video",{src:a.assetUrl,className:"w-full h-full object-cover",muted:!0,loop:!0,onMouseOver:a=>a.currentTarget.play(),onMouseOut:a=>a.currentTarget.pause()}),e&&(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsxs)(g.Badge,{variant:"destructive",className:"flex items-center gap-1 animate-pulse",children:[(0,b.jsx)(k.AlertTriangle,{className:"h-3 w-3"}),"Fadiga Alta"]})}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] uppercase tracking-widest text-zinc-400 font-bold",children:"Profit Score"}),(0,b.jsx)("p",{className:`text-2xl font-black ${(d=a.profitScore)>=80?"text-emerald-400":d>=50?"text-amber-400":"text-rose-400"}`,children:a.profitScore})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end",children:[(0,b.jsx)("p",{className:"text-[10px] uppercase tracking-widest text-zinc-400 font-bold",children:"ROI Est."}),(0,b.jsxs)("p",{className:"text-sm font-bold text-white",children:[(a.metrics.ltvAttributed/a.metrics.spend).toFixed(1),"x"]})]})]})})]}),(0,b.jsxs)("div",{className:"p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-zinc-500",children:[(0,b.jsx)(m.DollarSign,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"text-[10px] font-medium uppercase",children:"Investido"})]}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-zinc-200",children:["$",a.metrics.spend.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-zinc-500",children:[(0,b.jsx)(j.TrendingUp,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"text-[10px] font-medium uppercase",children:"LTV Atrib."})]}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-emerald-400",children:["$",a.metrics.ltvAttributed.toLocaleString()]})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-[10px] font-medium uppercase",children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"Índice de Fadiga"}),(0,b.jsxs)("span",{className:e?"text-rose-400":"text-zinc-400",children:[Math.round(100*a.fatigueIndex),"%"]})]}),(0,b.jsx)(i.Progress,{value:100*a.fatigueIndex,className:"h-1"})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsxs)(h.Button,{onClick:()=>c(a),className:"w-full bg-white text-black hover:bg-zinc-200 font-bold gap-2",children:[(0,b.jsx)(l.Copy,{className:"h-4 w-4"}),"Gerar Variações de Copy"]})})]})]})})}var p=a.i(428485),q=a.i(822399),r=a.i(336050),s=a.i(168565),t=a.i(529238),u=a.i(317953),v=a.i(343583),w=a.i(704241),x=a.i(453764);function y({creative:a,isOpen:d,onClose:e,brandId:f}){let[i,m]=(0,c.useState)("greed"),[o,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(null),D=async()=>{if(a)try{y(!0),A([]);let a=await fetch("/api/intelligence/creative/copy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({brandId:f,baseCopy:"Adicione aqui a copy base do anúncio original ou extraída via OCR",angle:i})});if(!a.ok)throw Error("Falha na geração");let b=await a.json();A(b.variants),x.toast.success("Variantes Geradas!",{description:`3 novas op\xe7\xf5es baseadas em ${i} est\xe3o prontas.`})}catch(a){x.toast.error("Erro na Geração",{description:"Não foi possível conectar ao motor de IA."})}finally{y(!1)}};return(0,b.jsx)(p.Dialog,{open:d,onOpenChange:e,children:(0,b.jsxs)(p.DialogContent,{className:"max-w-4xl bg-zinc-950 border-white/[0.1] text-white",children:[(0,b.jsx)(p.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:(0,b.jsx)(r.BrainCircuit,{className:"h-6 w-6 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p.DialogTitle,{className:"text-xl font-black tracking-tight",children:"AI Copy Variation Lab"}),(0,b.jsx)(p.DialogDescription,{className:"text-zinc-500",children:"Gere variações persuasivas baseadas em ganchos psicológicos para este criativo."})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-zinc-500",children:"Ângulo Psicológico"}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-2",children:[{id:"fear",label:"Medo (FOMO)",icon:k.AlertTriangle,color:"text-rose-400"},{id:"greed",label:"Ganância (ROI)",icon:j.TrendingUp,color:"text-emerald-400"},{id:"authority",label:"Autoridade",icon:t.ShieldCheck,color:"text-blue-400"},{id:"curiosity",label:"Curiosidade",icon:q.Sparkles,color:"text-amber-400"}].map(a=>(0,b.jsxs)("button",{onClick:()=>m(a.id),className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${i===a.id?"bg-white/10 border-white/20 text-white":"bg-transparent border-white/[0.05] text-zinc-500 hover:border-white/10"}`,children:[(0,b.jsx)(a.icon,{className:`h-4 w-4 ${i===a.id?a.color:""}`}),(0,b.jsx)("span",{className:"text-sm font-bold",children:a.label})]},a.id))})]}),(0,b.jsxs)(h.Button,{onClick:D,disabled:o,className:"w-full h-12 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white font-black rounded-xl gap-2 shadow-lg shadow-purple-500/20",children:[o?(0,b.jsx)(u.Loader2,{className:"h-5 w-5 animate-spin"}):(0,b.jsx)(q.Sparkles,{className:"h-5 w-5"}),"GERAR VARIANTES"]})]}),(0,b.jsx)("div",{className:"md:col-span-2 bg-zinc-900/50 rounded-2xl border border-white/[0.05] p-6 min-h-[400px]",children:(0,b.jsx)(w.AnimatePresence,{mode:"wait",children:o?(0,b.jsxs)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full flex flex-col items-center justify-center space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"h-16 w-16 rounded-full border-2 border-purple-500/20 border-t-purple-500 animate-spin"}),(0,b.jsx)(r.BrainCircuit,{className:"h-8 w-8 text-purple-500 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,b.jsx)("p",{className:"text-zinc-400 font-medium animate-pulse",children:"Consultando o motor criativo..."})]}):z.length>0?(0,b.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:z.map((a,c)=>(0,b.jsxs)("div",{className:"group relative bg-zinc-950 border border-white/[0.05] rounded-xl p-4 hover:border-white/10 transition-all",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-[10px] uppercase font-bold border-white/10",children:["Opção ",c+1]}),(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-zinc-500 hover:text-white",onClick:()=>{var b;return b=`${a.headline}

${a.primaryText}`,void(navigator.clipboard.writeText(b),C(c),setTimeout(()=>C(null),2e3),x.toast.info("Copiado!",{description:"Conteúdo pronto para colar no Gerenciador de Anúncios."}))},children:B===c?(0,b.jsx)(v.Check,{className:"h-4 w-4 text-emerald-400"}):(0,b.jsx)(l.Copy,{className:"h-4 w-4"})})]}),(0,b.jsx)("h4",{className:"text-sm font-black text-white mb-2",children:a.headline}),(0,b.jsx)("p",{className:"text-xs text-zinc-400 leading-relaxed whitespace-pre-wrap",children:a.primaryText})]},c))}):(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-30",children:[(0,b.jsx)(s.Target,{className:"h-12 w-12"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold",children:"Nenhuma variante gerada"}),(0,b.jsx)("p",{className:"text-xs",children:"Escolha um ângulo e clique em Gerar para começar."})]})]})})})]})]})})}var z=a.i(612852),A=a.i(998882),B=a.i(742267),C=a.i(536352),D=a.i(880925),E=a.i(928360);function F(){let{activeBrand:a}=(0,e.useActiveBrand)(),{ranking:f,isLoading:g}=function(a){let[b,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(null);return(0,c.useEffect)(()=>{a&&(async()=>{try{f(!0);let b=await fetch(`/api/intelligence/creative/ranking?brandId=${a}`);if(!b.ok)throw Error("Falha ao carregar ranking");let c=await b.json();d(c.ranking)}catch(a){h(a.message)}finally{f(!1)}})()},[a]),{ranking:b,isLoading:e,error:g}}(a?.id),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),m=a=>{j(a),l(!0)};return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col bg-black",children:[(0,b.jsx)(d.Header,{title:"Creative Intelligence",subtitle:"Análise de Profit & Lab de Copy em Tempo Real",actions:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(h.Button,{variant:"outline",className:"border-white/[0.05] text-zinc-400 hover:text-white",children:[(0,b.jsx)(B.Filter,{className:"mr-2 h-4 w-4"}),"Filtros"]}),(0,b.jsxs)(h.Button,{className:"bg-emerald-600 hover:bg-emerald-500 text-white font-bold",children:[(0,b.jsx)(D.Zap,{className:"mr-2 h-4 w-4"}),"Sincronizar Ads"]})]})}),(0,b.jsx)("main",{className:"flex-1 p-6 sm:p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Melhor Profit Score",value:f[0]?.profitScore||"0",icon:q.Sparkles,color:"text-amber-400"},{label:"Total Ativos",value:f.length,icon:A.LayoutGrid,color:"text-blue-400"},{label:"Fadiga Média",value:"24%",icon:z.BarChart3,color:"text-rose-400"},{label:"ROI Médio",value:"3.2x",icon:D.Zap,color:"text-emerald-400"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-zinc-900/30 border border-white/[0.05] rounded-2xl p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:`h-10 w-10 rounded-xl bg-zinc-800 flex items-center justify-center ${a.color}`,children:(0,b.jsx)(a.icon,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] uppercase tracking-widest text-zinc-500 font-bold",children:a.label}),(0,b.jsx)("p",{className:"text-xl font-black text-white",children:a.value})]})]},c))}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(A.LayoutGrid,{className:"h-5 w-5 text-zinc-500"}),"Ranking de Performance"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:"Ordenar por:"}),(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"text-xs font-bold text-zinc-300 gap-1",children:["Profit Score",(0,b.jsx)(C.ArrowUpDown,{className:"h-3 w-3"})]})]})]}),g?(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(E.Skeleton,{className:"aspect-square w-full rounded-2xl bg-zinc-900"}),(0,b.jsx)(E.Skeleton,{className:"h-4 w-3/4 bg-zinc-900"}),(0,b.jsx)(E.Skeleton,{className:"h-10 w-full rounded-xl bg-zinc-900"})]},a))}):f.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(a=>(0,b.jsx)(o,{creative:a,onGenerateCopy:m},a.id))}):(0,b.jsx)("div",{className:"flex flex-col items-center justify-center py-20 bg-zinc-900/20 rounded-3xl border border-dashed border-white/[0.05]",children:(0,b.jsx)("p",{className:"text-zinc-500 font-medium",children:"Nenhum dado de performance disponível para esta marca."})})]})]})}),(0,b.jsx)(y,{isOpen:k,onClose:()=>l(!1),creative:i,brandId:a?.id||""})]})}a.s(["default",()=>F],562061)}];

//# sourceMappingURL=b1735_CURSOR_CONSELHO%20DE%20FUNIL_app_src_app_intelligence_creative_page_tsx_7f92199b._.js.map