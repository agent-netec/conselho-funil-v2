module.exports=[448341,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(126236),e=a.i(704241),f=a.i(459966),g=a.i(248842),h=a.i(468772),i=a.i(285744),j=a.i(676105),k=a.i(433027),l=a.i(226053);a.i(543317);var m=a.i(134034),n=a.i(860342),o=a.i(289036),p=a.i(343583),q=a.i(168565),r=a.i(635870),s=a.i(326149),t=a.i(535847),u=a.i(810045);let v=[{id:1,title:"Objetivo",description:"O que vocÃª quer alcanÃ§ar?",icon:q.Target},{id:2,title:"PÃºblico",description:"Quem Ã© seu cliente ideal?",icon:r.Users},{id:3,title:"Oferta",description:"O que vocÃª estÃ¡ vendendo?",icon:s.Package},{id:4,title:"Canais",description:"Como vai atrair trÃ¡fego?",icon:t.Radio},{id:5,title:"Confirmar",description:"Revise e crie",icon:p.Check}];function w({currentStep:a}){return(0,b.jsxs)("div",{className:"mb-10",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:v.map((c,d)=>(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(o.motion.div,{initial:!1,animate:{backgroundColor:a>=c.id?"rgb(16, 185, 129)":"rgba(255, 255, 255, 0.04)",scale:a===c.id?1.1:1},className:(0,u.cn)("flex h-10 w-10 items-center justify-center rounded-xl transition-all",a>=c.id?"text-white":"text-zinc-600"),children:a>c.id?(0,b.jsx)(p.Check,{className:"h-5 w-5"}):(0,b.jsx)(c.icon,{className:"h-5 w-5"})}),d<v.length-1&&(0,b.jsx)("div",{className:(0,u.cn)("h-0.5 w-8 mx-1 rounded-full transition-colors",a>c.id?"bg-emerald-500":"bg-white/[0.06]")})]},c.id))}),(0,b.jsxs)("div",{className:"mt-4 text-center",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:v[a-1].title}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:v[a-1].description})]})]})}let x=[{id:"leads",label:"Captar Leads",description:"Crescer lista, gerar awareness",icon:"ðŸ“§"},{id:"sales",label:"Vender Direto",description:"Converter em compra imediata",icon:"ðŸ’°"},{id:"calls",label:"Agendar Calls",description:"Qualificar e levar para conversa",icon:"ðŸ“ž"},{id:"retention",label:"Reter/Upsell",description:"Aumentar LTV de clientes",icon:"ðŸ”„"}];function y({objective:a,onUpdate:c}){return(0,b.jsxs)(o.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Qual Ã© o objetivo deste funil?"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Isso define a estrutura e mÃ©tricas do seu funil"})]}),(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:x.map(d=>(0,b.jsxs)(o.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(d.id),className:(0,u.cn)("relative rounded-xl border p-5 text-left transition-all",a===d.id?"border-emerald-500/50 bg-emerald-500/5":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.1] hover:bg-white/[0.04]"),children:[a===d.id&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500",children:(0,b.jsx)(p.Check,{className:"h-3 w-3 text-white"})})}),(0,b.jsx)("span",{className:"text-2xl mb-3 block",children:d.icon}),(0,b.jsx)("div",{className:"font-medium text-white",children:d.label}),(0,b.jsx)("div",{className:"text-sm text-zinc-500 mt-1",children:d.description})]},d.id))})]},"step1")}var z=a.i(675982),A=a.i(555476);let B=[{id:"unaware",label:"NÃ£o sabe que tem problema",short:"Inconsciente"},{id:"problem",label:"Sabe do problema",short:"Problema"},{id:"solution",label:"Conhece soluÃ§Ãµes",short:"SoluÃ§Ã£o"},{id:"product",label:"Conhece seu produto",short:"Produto"}];function C({formData:a,onUpdate:c}){return(0,b.jsxs)(o.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Descreva seu pÃºblico-alvo"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Quanto mais especÃ­fico, melhores as recomendaÃ§Ãµes"})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Cliente ideal *"}),(0,b.jsx)(A.Textarea,{value:a.audience,onChange:a=>c("audience",a.target.value),placeholder:"Ex: EmpresÃ¡rios de e-commerce faturando R$50-500k/mÃªs que querem escalar",className:"input-premium min-h-[100px]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Principal dor *"}),(0,b.jsx)(A.Textarea,{value:a.pain,onChange:a=>c("pain",a.target.value),placeholder:"Ex: Gastam muito tempo em tarefas operacionais e nÃ£o conseguem escalar",className:"input-premium min-h-[80px]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"NÃ­vel de consciÃªncia"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:B.map(d=>(0,b.jsx)("button",{onClick:()=>c("awareness",d.id),className:(0,u.cn)("rounded-lg border px-3 py-2.5 text-center text-sm transition-all",a.awareness===d.id?"border-emerald-500/50 bg-emerald-500/10 text-emerald-400":"border-white/[0.06] text-zinc-400 hover:border-white/[0.1] hover:text-zinc-300"),children:d.short},d.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Principal objeÃ§Ã£o"}),(0,b.jsx)(z.Input,{value:a.objection,onChange:a=>c("objection",a.target.value),placeholder:"Ex: NÃ£o tenho tempo para implementar",className:"input-premium"})]})]})]},"step2")}function D({formData:a,onUpdate:c}){return(0,b.jsxs)(o.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Descreva sua oferta"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"O que vocÃª estÃ¡ vendendo e qual o diferencial"})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Produto/ServiÃ§o *"}),(0,b.jsx)(z.Input,{value:a.product,onChange:a=>c("product",a.target.value),placeholder:"Ex: Sistema de automaÃ§Ã£o de marketing",className:"input-premium"})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Ticket *"}),(0,b.jsx)(z.Input,{value:a.ticket,onChange:a=>c("ticket",a.target.value),placeholder:"R$ 497",className:"input-premium"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Tipo"}),(0,b.jsx)(z.Input,{value:a.productType,onChange:a=>c("productType",a.target.value),placeholder:"SaaS, Curso, Mentoria...",className:"input-premium"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Diferencial"}),(0,b.jsx)(A.Textarea,{value:a.differential,onChange:a=>c("differential",a.target.value),placeholder:"Ex: IntegraÃ§Ã£o com 50+ plataformas, setup em 15min",className:"input-premium min-h-[80px]"})]})]})]},"step3")}let E=[{id:"youtube",label:"YouTube",icon:"ðŸ“º"},{id:"meta",label:"Meta Ads",icon:"ðŸ“˜"},{id:"tiktok",label:"TikTok",icon:"ðŸŽµ"},{id:"google",label:"Google",icon:"ðŸ”"},{id:"email",label:"Email",icon:"ðŸ“§"},{id:"organic",label:"OrgÃ¢nico",icon:"ðŸŒ±"}];function F({formData:a,onUpdate:c}){return(0,b.jsxs)(o.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Canais de aquisiÃ§Ã£o"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"De onde vem seu trÃ¡fego principal?"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Canal principal *"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:E.map(d=>(0,b.jsxs)(o.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c("primaryChannel",d.id),className:(0,u.cn)("flex flex-col items-center gap-2 rounded-xl border p-4 transition-all",a.primaryChannel===d.id?"border-emerald-500/50 bg-emerald-500/5":"border-white/[0.06] hover:border-white/[0.1] hover:bg-white/[0.02]"),children:[(0,b.jsx)("span",{className:"text-2xl",children:d.icon}),(0,b.jsx)("span",{className:(0,u.cn)("text-sm",a.primaryChannel===d.id?"text-white":"text-zinc-400"),children:d.label})]},d.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Canal secundÃ¡rio (opcional)"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:E.filter(b=>b.id!==a.primaryChannel).map(d=>(0,b.jsxs)(o.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c("secondaryChannel",a.secondaryChannel===d.id?"":d.id),className:(0,u.cn)("flex flex-col items-center gap-2 rounded-xl border p-4 transition-all",a.secondaryChannel===d.id?"border-emerald-500/50 bg-emerald-500/5":"border-white/[0.06] hover:border-white/[0.1] hover:bg-white/[0.02]"),children:[(0,b.jsx)("span",{className:"text-2xl",children:d.icon}),(0,b.jsx)("span",{className:(0,u.cn)("text-sm",a.secondaryChannel===d.id?"text-white":"text-zinc-400"),children:d.label})]},d.id))})]})]},"step4")}var G=a.i(317953),H=a.i(822399);function I({formData:a,onUpdate:c,onSubmit:d,isSubmitting:e}){let f=[{label:"Objetivo",value:x.find(b=>b.id===a.objective)?.label},{label:"PÃºblico",value:a.audience},{label:"Produto",value:a.product},{label:"Ticket",value:a.ticket},{label:"Canais",value:`${a.primaryChannel}${a.secondaryChannel?` + ${a.secondaryChannel}`:""}`}];return(0,b.jsxs)(o.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Revise e confirme"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Verifique os dados antes de criar seu funil"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Nome do funil"}),(0,b.jsx)(z.Input,{value:a.name,onChange:a=>c("name",a.target.value),placeholder:`Funil ${a.objective} - ${a.primaryChannel}`,className:"input-premium"})]}),(0,b.jsx)("div",{className:"rounded-xl border border-white/[0.06] divide-y divide-white/[0.06]",children:f.map(a=>(0,b.jsxs)("div",{className:"flex justify-between p-4",children:[(0,b.jsx)("span",{className:"text-zinc-500",children:a.label}),(0,b.jsx)("span",{className:"text-white font-medium max-w-[60%] text-right truncate",children:a.value})]},a.label))}),(0,b.jsx)(g.Button,{onClick:d,disabled:e,className:"w-full btn-accent h-12",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(G.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Criando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(H.Sparkles,{className:"mr-2 h-5 w-5"}),"Criar Funil"]})})]},"step5")}function J(){let a=(0,d.useRouter)(),o=(0,d.useSearchParams)(),{create:p}=(0,k.useFunnels)(),q=(0,l.useActiveBrand)(),[r,s]=(0,c.useState)(1),[t,u]=(0,c.useState)(!1),[v,x]=(0,c.useState)(null),[z,A]=(0,c.useState)({name:"",objective:"",audience:"",pain:"",awareness:"problem",objection:"",product:"",ticket:"",productType:"",differential:"",primaryChannel:"",secondaryChannel:""});(0,c.useEffect)(()=>{let a=o.get("templateId");a&&B(a)},[o]);let B=async a=>{try{let b=await (0,m.getDoc)((0,m.doc)(n.db,"library",a));if(b.exists()){let a={id:b.id,...b.data()};x(a);let c=a.metadata;A(b=>({...b,name:o.get("name")||a.name+" (cÃ³pia)",objective:c?.objective||"",productType:c?.vertical||"",ticket:c?.ticket?.toString()||"",primaryChannel:c?.sourceContext?.channel?.main||""}))}}catch(a){console.error("Error loading template:",a)}},E=(a,b)=>{A(c=>({...c,[a]:b}))},G=async()=>{if(z.objective){u(!0);try{let b={company:z.name||"Meu NegÃ³cio",market:z.productType||"Digital",maturity:"em traÃ§Ã£o",objective:z.objective,audience:{who:z.audience,pain:z.pain,awareness:{unaware:"fria",problem:"fria",solution:"morna",product:"quente"}[z.awareness]||"morna",...z.objection?{objection:z.objection}:{}},offer:{what:z.product,ticket:z.ticket,type:z.productType?.toLowerCase()||"servico"},channel:{main:z.primaryChannel,...z.secondaryChannel?{secondary:z.secondaryChannel}:{}}},c=await p({name:z.name||`Funil ${z.objective}`,context:b,brandId:q?.id});fetch("/api/funnels/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funnelId:c,context:b})}).catch(console.error),v&&(0,m.updateDoc)((0,m.doc)(n.db,"library",v.id),{usageCount:(0,m.increment)(1)}).catch(console.error),a.push(`/funnels/${c}`)}catch(a){console.error("Error creating funnel:",a)}finally{u(!1)}}};return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)(f.Header,{title:v?"Criar a partir de Template":"Novo Funil",subtitle:v?.name,showBack:!0}),v&&(0,b.jsx)("div",{className:"border-b border-emerald-500/20 bg-emerald-500/5 px-8 py-3",children:(0,b.jsxs)("div",{className:"mx-auto max-w-2xl flex items-center gap-3",children:[(0,b.jsx)(j.Library,{className:"h-5 w-5 text-emerald-400"}),(0,b.jsxs)("span",{className:"text-sm text-emerald-300",children:["Usando template: ",(0,b.jsx)("span",{className:"font-medium",children:v.name})]})]})}),(0,b.jsx)("div",{className:"flex-1 p-8",children:(0,b.jsxs)("div",{className:"mx-auto max-w-2xl",children:[(0,b.jsx)(w,{currentStep:r}),(0,b.jsx)("div",{className:"card-premium p-6",children:(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:(()=>{let a={formData:z,onUpdate:E};switch(r){case 1:return(0,b.jsx)(y,{objective:z.objective,onUpdate:a=>E("objective",a)});case 2:return(0,b.jsx)(C,{...a});case 3:return(0,b.jsx)(D,{...a});case 4:return(0,b.jsx)(F,{...a});case 5:return(0,b.jsx)(I,{...a,onSubmit:G,isSubmitting:t});default:return null}})()})}),(0,b.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,b.jsxs)(g.Button,{onClick:()=>1===r?a.push("/funnels"):s(a=>a-1),variant:"ghost",className:"btn-ghost",children:[(0,b.jsx)(h.ArrowLeft,{className:"mr-2 h-4 w-4"})," ",1===r?"Cancelar":"Voltar"]}),r<5&&(0,b.jsxs)(g.Button,{onClick:()=>s(a=>a+1),disabled:!(()=>{switch(r){case 1:return!!z.objective;case 2:return!!z.audience&&!!z.pain;case 3:return!!z.product&&!!z.ticket;case 4:return!!z.primaryChannel;default:return!0}})(),className:"btn-accent",children:["PrÃ³ximo ",(0,b.jsx)(i.ArrowRight,{className:"ml-2 h-4 w-4"})]})]})]})})]})}a.s(["default",()=>J],448341)}];

//# sourceMappingURL=13466_Desktop_CURSOR_CONSELHO%20DE%20FUNIL_app_src_app_funnels_new_page_tsx_9ea568c2._.js.map