{"version":3,"sources":["../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/modals/paywall-modal.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/ui/sheet.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/chat-sidebar.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/chat-mode-selector.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/party-mode/counselor-selector.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/chat-input-area.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/hooks/use-conversations.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40radix-ui/react-popover/dist/index.mjs","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/ui/popover.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/counselor-badges.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/council/asset-preview.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/chat-message-bubble.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/chat-message-list.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/chat-empty-state.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/app/chat/page.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/components/chat/active-context-indicator.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40radix-ui/react-popover/node_modules/%40radix-ui/react-primitive/dist/index.mjs","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40radix-ui/react-popover/node_modules/%40radix-ui/react-context/dist/index.mjs","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40radix-ui/react-popover/node_modules/%40radix-ui/react-slot/dist/index.mjs","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/message-circle.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/sword.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/handshake.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/bot.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/gavel.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/paperclip.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/file-search.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/lucide-react/src/icons/crown.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40radix-ui/react-popover/node_modules/%40radix-ui/react-slot/src/slot.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/utils/party-parser.ts","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40radix-ui/react-popover/src/popover.tsx","../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40radix-ui/react-popover/node_modules/%40radix-ui/react-context/src/create-context.tsx"],"sourcesContent":["'use client';\r\n\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Zap, Crown, CheckCircle2, MessageCircle } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface PaywallModalProps {\r\n  isOpen: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport function PaywallModal({ isOpen, onOpenChange }: PaywallModalProps) {\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[480px] bg-[#0c0c0e] border-white/[0.08] p-0 overflow-hidden\">\r\n        <div className=\"relative p-6 pt-10\">\r\n          {/* Background Gradient Decoration */}\r\n          <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-full h-32 bg-gradient-to-b from-violet-600/20 to-transparent blur-2xl\" />\r\n          \r\n          <DialogHeader className=\"relative text-center space-y-4\">\r\n            <div className=\"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-violet-500 to-fuchsia-600 shadow-lg shadow-violet-500/20\">\r\n              <Crown className=\"h-8 w-8 text-white\" />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <DialogTitle className=\"text-2xl font-bold text-white text-center\">\r\n                Voc√™ atingiu o limite de cr√©ditos\r\n              </DialogTitle>\r\n              <DialogDescription className=\"text-zinc-400 text-center text-base\">\r\n                Sua conta gratuita possui 10 cr√©ditos mensais. Fa√ßa o upgrade agora para continuar gerando estrat√©gias ilimitadas.\r\n              </DialogDescription>\r\n            </div>\r\n          </DialogHeader>\r\n\r\n          <div className=\"mt-8 space-y-4\">\r\n            <h4 className=\"text-sm font-semibold text-zinc-300 uppercase tracking-wider text-center\">\r\n              Vantagens do Plano Pro\r\n            </h4>\r\n            \r\n            <div className=\"grid gap-3\">\r\n              {[\r\n                \"Cr√©ditos ilimitados para o Conselho\",\r\n                \"Acesso a todos os 15 especialistas\",\r\n                \"Upload de arquivos e URLs (Contexto Ilimitado)\",\r\n                \"Exporta√ß√£o em PDF e Notion\"\r\n              ].map((benefit, i) => (\r\n                <motion.div \r\n                  key={i}\r\n                  initial={{ opacity: 0, x: -10 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ delay: i * 0.1 }}\r\n                  className=\"flex items-center gap-3 rounded-xl border border-white/[0.04] bg-white/[0.02] p-3\"\r\n                >\r\n                  <CheckCircle2 className=\"h-5 w-5 text-emerald-500 flex-shrink-0\" />\r\n                  <span className=\"text-sm text-zinc-300\">{benefit}</span>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter className=\"p-6 bg-white/[0.02] border-t border-white/[0.04] flex-col sm:flex-col gap-3\">\r\n          <Button \r\n            className=\"w-full h-12 bg-violet-600 hover:bg-violet-500 text-white font-bold text-lg rounded-xl shadow-lg shadow-violet-600/20 transition-all hover:scale-[1.02] active:scale-[0.98]\"\r\n            onClick={() => window.open('https://conselho-de-funil.vercel.app/pricing', '_blank')}\r\n          >\r\n            Ver Planos de Upgrade\r\n          </Button>\r\n          \r\n          <button \r\n            className=\"flex items-center justify-center gap-2 text-sm text-zinc-500 hover:text-zinc-300 transition-colors py-2\"\r\n            onClick={() => window.open('https://wa.me/seunumerodesuporte', '_blank')}\r\n          >\r\n            <MessageCircle className=\"h-4 w-4\" />\r\n            Falar com suporte\r\n          </button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Sheet = SheetPrimitive.Root\r\n\r\nconst SheetTrigger = SheetPrimitive.Trigger\r\n\r\nconst SheetClose = SheetPrimitive.Close\r\n\r\nconst SheetPortal = SheetPrimitive.Portal\r\n\r\nconst SheetOverlay = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\r\n\r\nconst sheetVariants = cva(\r\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\r\n  {\r\n    variants: {\r\n      side: {\r\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\r\n        bottom:\r\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\r\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\r\n        right:\r\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      side: \"right\",\r\n    },\r\n  }\r\n)\r\n\r\ninterface SheetContentProps\r\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\r\n    VariantProps<typeof sheetVariants> {}\r\n\r\nconst SheetContent = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Content>,\r\n  SheetContentProps\r\n>(({ side = \"right\", className, children, ...props }, ref) => (\r\n  <SheetPortal>\r\n    <SheetOverlay />\r\n    <SheetPrimitive.Content\r\n      ref={ref}\r\n      className={cn(sheetVariants({ side }), className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </SheetPrimitive.Close>\r\n    </SheetPrimitive.Content>\r\n  </SheetPortal>\r\n))\r\nSheetContent.displayName = SheetPrimitive.Content.displayName\r\n\r\nconst SheetHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nSheetHeader.displayName = \"SheetHeader\"\r\n\r\nconst SheetFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nSheetFooter.displayName = \"SheetFooter\"\r\n\r\nconst SheetTitle = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSheetTitle.displayName = SheetPrimitive.Title.displayName\r\n\r\nconst SheetDescription = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSheetDescription.displayName = SheetPrimitive.Description.displayName\r\n\r\nexport {\r\n  Sheet,\r\n  SheetPortal,\r\n  SheetOverlay,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","'use client';\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Plus, MessageSquare, Trash2, Menu } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from '@/components/ui/sheet';\r\nimport { useMobile } from '@/lib/hooks/use-mobile';\r\n\r\ninterface Conversation {\r\n  id: string;\r\n  title: string;\r\n}\r\n\r\ninterface ChatSidebarProps {\r\n  conversations: Conversation[];\r\n  isLoading: boolean;\r\n  conversationId: string | null;\r\n  isCreating: boolean;\r\n  accentColor: string;\r\n  onNewConversation: () => void;\r\n  onSelectConversation: (id: string) => void;\r\n  onDeleteConversation: (id: string, e: React.MouseEvent) => void;\r\n}\r\n\r\nexport function ChatSidebar({\r\n  conversations,\r\n  isLoading,\r\n  conversationId,\r\n  isCreating,\r\n  accentColor,\r\n  onNewConversation,\r\n  onSelectConversation,\r\n  onDeleteConversation,\r\n}: ChatSidebarProps) {\r\n  const isMobile = useMobile();\r\n\r\n  const SidebarContent = () => (\r\n    <div className=\"flex h-full flex-col bg-[#0a0a0c] overflow-hidden\">\r\n      {/* New Chat */}\r\n      <div className=\"p-4 flex-shrink-0\">\r\n        <Button\r\n          onClick={onNewConversation}\r\n          disabled={isCreating}\r\n          className={cn(\r\n            'w-full justify-center h-11 shadow-lg shadow-black/20', \r\n            accentColor === 'indigo' \r\n              ? 'bg-indigo-500 hover:bg-indigo-400' \r\n              : accentColor === 'amber'\r\n              ? 'bg-amber-500 hover:bg-amber-400'\r\n              : 'btn-accent'\r\n          )}\r\n        >\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          Nova Conversa\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Conversations Container with elegant scroll and mask */}\r\n      <div className=\"flex-1 relative overflow-hidden group/sidebar\">\r\n        {/* Top Fade Mask */}\r\n        <div className=\"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-[#0a0a0c] to-transparent z-10 pointer-events-none opacity-0 group-hover/sidebar:opacity-100 transition-opacity\" />\r\n        \r\n        <div className=\"absolute inset-0 overflow-y-auto custom-scrollbar px-3 pb-8 scroll-smooth\">\r\n          <AnimatePresence>\r\n            {isLoading ? (\r\n              <div className=\"space-y-2 py-2\">\r\n                {[1, 2, 3, 4, 5].map((i) => (\r\n                  <div key={i} className=\"h-12 rounded-xl bg-zinc-800/20 animate-pulse border border-white/[0.02]\" />\r\n                ))}\r\n              </div>\r\n            ) : conversations.length === 0 ? (\r\n              <div className=\"px-3 py-12 text-center\">\r\n                <div className=\"w-12 h-12 rounded-full bg-zinc-900/50 border border-white/[0.05] flex items-center justify-center mx-auto mb-4\">\r\n                  <MessageSquare className=\"h-5 w-5 text-zinc-700\" />\r\n                </div>\r\n                <p className=\"text-sm text-zinc-500 font-medium\">\r\n                  Inicie sua primeira<br />consultoria\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-1 py-2\">\r\n                {conversations.map((conv) => (\r\n                  <motion.div\r\n                    key={conv.id}\r\n                    initial={{ opacity: 0, x: -10 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    exit={{ opacity: 0, x: -10 }}\r\n                    onClick={() => onSelectConversation(conv.id)}\r\n                    className={cn(\r\n                      'group flex items-center gap-3 rounded-xl px-3 py-3 cursor-pointer transition-all min-h-[48px] border border-transparent',\r\n                      conv.id === conversationId\r\n                        ? accentColor === 'indigo'\r\n                          ? 'bg-indigo-500/10 text-white border-indigo-500/20 shadow-sm shadow-indigo-500/5'\r\n                          : accentColor === 'amber'\r\n                          ? 'bg-amber-500/10 text-white border-amber-500/20 shadow-sm shadow-amber-500/5'\r\n                          : 'bg-emerald-500/10 text-white border-emerald-500/20 shadow-sm shadow-emerald-500/5'\r\n                        : 'text-zinc-500 hover:bg-white/[0.02] hover:text-zinc-300 hover:border-white/[0.05]'\r\n                    )}\r\n                  >\r\n                    <div className={cn(\r\n                      \"p-1.5 rounded-lg transition-colors\",\r\n                      conv.id === conversationId \r\n                        ? (accentColor === 'indigo' ? \"bg-indigo-500/20 text-indigo-400\" : accentColor === 'amber' ? \"bg-amber-500/20 text-amber-400\" : \"bg-emerald-500/20 text-emerald-400\")\r\n                        : \"bg-zinc-900 text-zinc-600 group-hover:text-zinc-400\"\r\n                    )}>\r\n                      <MessageSquare className=\"h-3.5 w-3.5 flex-shrink-0\" />\r\n                    </div>\r\n                    <span className=\"flex-1 truncate text-[13px] font-medium tracking-tight\">{conv.title}</span>\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onDeleteConversation(conv.id, e);\r\n                      }}\r\n                      className=\"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/10 rounded-lg transition-all\"\r\n                      aria-label=\"Delete conversation\"\r\n                    >\r\n                      <Trash2 className=\"h-3.5 w-3.5 text-zinc-600 hover:text-red-400\" />\r\n                    </button>\r\n                  </motion.div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Bottom Fade Mask */}\r\n        <div className=\"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-[#0a0a0c] to-transparent z-10 pointer-events-none\" />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <Sheet>\r\n        <SheetTrigger asChild>\r\n          <Button \r\n            variant=\"ghost\" \r\n            size=\"icon\" \r\n            className=\"fixed left-3 top-3.5 z-40 md:hidden h-9 w-9 text-zinc-400 bg-zinc-900/50 backdrop-blur-md border border-white/[0.04] rounded-xl hover:bg-zinc-800\"\r\n          >\r\n            <Menu className=\"h-5 w-5\" />\r\n          </Button>\r\n        </SheetTrigger>\r\n        <SheetContent side=\"left\" className=\"p-0 w-[280px] bg-[#0a0a0c] border-r border-white/[0.04]\">\r\n          <div className=\"flex flex-col h-full\">\r\n            <div className=\"p-4 border-b border-white/[0.04] bg-[#0d0d0f]\">\r\n              <h2 className=\"text-sm font-bold text-white flex items-center gap-2\">\r\n                <MessageSquare className=\"h-4 w-4 text-emerald-500\" />\r\n                Hist√≥rico\r\n              </h2>\r\n            </div>\r\n            <div className=\"flex-1 overflow-hidden\">\r\n              <SidebarContent />\r\n            </div>\r\n          </div>\r\n        </SheetContent>\r\n      </Sheet>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-72 flex-shrink-0 border-r border-white/[0.04] bg-[#0a0a0c] hidden md:flex flex-col h-full\">\r\n      <SidebarContent />\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport { Zap, Target, Pencil, Share2, BarChart3, Palette, Users } from 'lucide-react';\r\nimport { CHAT_MODES } from '@/lib/constants';\r\n\r\nexport type ChatMode = 'general' | 'funnel' | 'copy' | 'social' | 'ads' | 'design' | 'party';\r\n\r\ninterface ChatModeSelectorProps {\r\n  mode: ChatMode;\r\n  onModeChange: (mode: ChatMode) => void;\r\n}\r\n\r\nconst MODE_ICONS = {\r\n  general: Zap,\r\n  funnel: Target,\r\n  copy: Pencil,\r\n  social: Share2,\r\n  ads: BarChart3,\r\n  design: Palette,\r\n  party: Users,\r\n} as const;\r\n\r\nexport function ChatModeSelector({ \r\n  mode, \r\n  onModeChange \r\n}: ChatModeSelectorProps) {\r\n  // Debug: console.log('Available modes:', Object.keys(CHAT_MODES));\r\n  \r\n  return (\r\n    <div className=\"flex items-center gap-1 p-1 rounded-xl bg-zinc-900/50 border border-white/[0.04] max-w-full overflow-x-auto no-scrollbar\">\r\n      {(Object.entries(CHAT_MODES) as [ChatMode, any][]).map(([key, config]) => {\r\n        const Icon = MODE_ICONS[key] || Zap;\r\n        const isActive = mode === key;\r\n        \r\n        return (\r\n          <button\r\n            key={key}\r\n            onClick={() => onModeChange(key)}\r\n            className={cn(\r\n              'flex items-center gap-1.5 px-2 py-1.5 sm:px-3 rounded-lg text-xs font-medium transition-all flex-shrink-0',\r\n              isActive\r\n                ? key === 'funnel' \r\n                  ? 'bg-indigo-500/20 text-indigo-400'\r\n                  : key === 'copy'\r\n                  ? 'bg-amber-500/20 text-amber-400'\r\n                  : key === 'social'\r\n                  ? 'bg-rose-500/20 text-rose-400'\r\n                  : key === 'design'\r\n                  ? 'bg-purple-500/20 text-purple-400'\r\n                  : key === 'party'\r\n                  ? 'bg-fuchsia-500/20 text-fuchsia-400 border border-fuchsia-500/30 shadow-[0_0_10px_rgba(217,70,239,0.1)]'\r\n                  : 'bg-emerald-500/20 text-emerald-400'\r\n                : 'text-zinc-500 hover:text-zinc-300 hover:bg-white/[0.03]'\r\n            )}\r\n            title={config.label}\r\n          >\r\n            <Icon className=\"h-3.5 w-3.5\" />\r\n            <span className={cn(\"hidden xs:inline\", isActive && \"inline\")}>\r\n              {config.label}\r\n            </span>\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { COUNSELORS_REGISTRY } from '@/lib/constants';\r\nimport { CounselorId } from '@/types';\r\nimport { cn } from '@/lib/utils';\r\nimport { Check, Users, X, Sword, Handshake } from 'lucide-react';\r\n\r\ninterface CounselorSelectorProps {\r\n  selectedIds: string[];\r\n  onChange: (ids: string[]) => void;\r\n  intensity: 'debate' | 'consensus';\r\n  onIntensityChange: (intensity: 'debate' | 'consensus') => void;\r\n}\r\n\r\nconst SPECIALIST_COMBOS = [\r\n  {\r\n    name: \"Direct Response Masters\",\r\n    ids: ['gary_halbert', 'dan_kennedy_copy', 'eugene_schwartz'],\r\n    icon: \"‚ö°\",\r\n    color: \"from-amber-500/20 to-orange-500/20\"\r\n  },\r\n  {\r\n    name: \"The Big Three (Funnel)\",\r\n    ids: ['russell_brunson', 'frank_kern', 'ryan_deiss'],\r\n    icon: \"üéØ\",\r\n    color: \"from-indigo-500/20 to-blue-500/20\"\r\n  },\r\n  {\r\n    name: \"Social Growth\",\r\n    ids: ['justin_welsh', 'nikita_beer', 'rachel_karten'],\r\n    icon: \"üöÄ\",\r\n    color: \"from-fuchsia-500/20 to-rose-500/20\"\r\n  }\r\n];\r\n\r\nexport function CounselorSelector({\r\n  selectedIds,\r\n  onChange,\r\n  intensity,\r\n  onIntensityChange,\r\n}: CounselorSelectorProps) {\r\n  const isMaxSelected = selectedIds.length >= 3;\r\n\r\n  const toggleCounselor = (id: string) => {\r\n    if (selectedIds.includes(id)) {\r\n      onChange(selectedIds.filter(i => i !== id));\r\n    } else if (!isMaxSelected) {\r\n      onChange([...selectedIds, id]);\r\n    }\r\n  };\r\n\r\n  const applyCombo = (ids: string[]) => {\r\n    onChange(ids);\r\n  };\r\n\r\n  // Group counselors by their expertise/council area\r\n  const groupedCounselors = useMemo(() => {\r\n    const registry = Object.values(COUNSELORS_REGISTRY);\r\n    return {\r\n      funnel: registry.filter(c => [\r\n        'russell_brunson', 'dan_kennedy', 'frank_kern', 'sam_ovens', 'ryan_deiss', 'perry_belcher'\r\n      ].includes(c.id)),\r\n      copy: registry.filter(c => [\r\n        'eugene_schwartz', 'claude_hopkins', 'gary_halbert', 'joseph_sugarman', 'david_ogilvy', \r\n        'john_carlton', 'drayton_bird', 'frank_kern_copy', 'dan_kennedy_copy'\r\n      ].includes(c.id)),\r\n      social: registry.filter(c => [\r\n        'lia_haberman', 'rachel_karten', 'nikita_beer', 'justin_welsh'\r\n      ].includes(c.id)),\r\n      ads: registry.filter(c => [\r\n        'justin_brooke', 'nicholas_kusmich', 'jon_loomer', 'savannah_sanchez'\r\n      ].includes(c.id)),\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <motion.div \r\n      initial={{ opacity: 0, y: 10 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"w-full bg-zinc-950 border border-white/[0.08] rounded-2xl overflow-hidden shadow-2xl mb-4\"\r\n    >\r\n      {/* Header */}\r\n      <div className=\"p-4 border-b border-white/[0.04] flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-white/[0.02]\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"p-2 rounded-lg bg-fuchsia-500/20 text-fuchsia-400\">\r\n            <Users className=\"h-4 w-4\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-sm font-black text-white leading-none uppercase tracking-tighter\">Alto Conselho</h3>\r\n            <p className=\"text-[9px] text-zinc-500 mt-1 font-mono uppercase tracking-wider\">Selecione at√© 3 especialistas</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"hidden lg:flex items-center gap-2 mr-2\">\r\n            {SPECIALIST_COMBOS.map((combo) => (\r\n              <button\r\n                key={combo.name}\r\n                onClick={() => applyCombo(combo.ids)}\r\n                className={cn(\r\n                  \"group relative px-3 py-1.5 rounded-xl border border-white/5 overflow-hidden transition-all hover:border-white/20\",\r\n                  \"bg-gradient-to-br\",\r\n                  combo.color\r\n                )}\r\n              >\r\n                <div className=\"absolute inset-0 bg-white/0 group-hover:bg-white/5 transition-colors\" />\r\n                <span className=\"relative z-10 text-[10px] font-bold text-zinc-300 group-hover:text-white flex items-center gap-1.5\">\r\n                  <span className=\"text-xs\">{combo.icon}</span>\r\n                  {combo.name}\r\n                </span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"flex items-center bg-black/40 rounded-full p-1 border border-white/[0.06]\">\r\n            <button\r\n              onClick={() => onIntensityChange('debate')}\r\n              className={cn(\r\n                \"flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black transition-all\",\r\n                intensity === 'debate' \r\n                  ? \"bg-fuchsia-500 text-white shadow-[0_0_10px_rgba(217,70,239,0.3)]\" \r\n                  : \"text-zinc-500 hover:text-zinc-300\"\r\n              )}\r\n            >\r\n              <Sword className=\"h-3 w-3\" />\r\n              DEBATE\r\n            </button>\r\n            <button\r\n              onClick={() => onIntensityChange('consensus')}\r\n              className={cn(\r\n                \"flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black transition-all\",\r\n                intensity === 'consensus' \r\n                  ? \"bg-emerald-500 text-white shadow-[0_0_10px_rgba(16,185,129,0.3)]\" \r\n                  : \"text-zinc-500 hover:text-zinc-300\"\r\n              )}\r\n            >\r\n              <Handshake className=\"h-3 w-3\" />\r\n              CONSENSO\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Grid de Especialistas */}\r\n      <div className=\"p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 max-h-[400px] overflow-y-auto custom-scrollbar\">\r\n        {Object.entries(groupedCounselors).map(([council, counselors]) => (\r\n          <div key={council} className=\"space-y-3\">\r\n            <h4 className=\"text-[10px] font-black text-zinc-600 uppercase tracking-[0.2em] pl-1\">\r\n              {council === 'funnel' ? 'üèõÔ∏è Funil' : \r\n               council === 'copy' ? '‚úçÔ∏è Copy' : \r\n               council === 'social' ? 'üöÄ Social' : 'üìä Ads'}\r\n            </h4>\r\n            <div className=\"space-y-2\">\r\n              {counselors.map((counselor) => {\r\n                const isSelected = selectedIds.includes(counselor.id);\r\n                const isLocked = isMaxSelected && !isSelected;\r\n                \r\n                return (\r\n                  <motion.button\r\n                    key={counselor.id}\r\n                    whileHover={!isLocked ? { scale: 1.02 } : {}}\r\n                    whileTap={!isLocked ? { scale: 0.95 } : {}}\r\n                    onClick={() => toggleCounselor(counselor.id)}\r\n                    disabled={isLocked}\r\n                    className={cn(\r\n                      \"w-full flex items-center gap-3 p-3 rounded-xl border transition-all text-left group relative overflow-hidden\",\r\n                      isSelected\r\n                        ? \"bg-white/[0.05] border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05)]\"\r\n                        : isLocked\r\n                          ? \"bg-transparent border-transparent opacity-10 grayscale pointer-events-none\"\r\n                          : \"bg-white/[0.02] border-white/[0.05] hover:bg-white/[0.05] hover:border-white/10\"\r\n                    )}\r\n                  >\r\n                    {/* Glow Pulsante quando selecionado */}\r\n                    {isSelected && (\r\n                      <motion.div \r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: [0.1, 0.2, 0.1] }}\r\n                        transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\r\n                        className=\"absolute inset-0 pointer-events-none\"\r\n                        style={{ background: `radial-gradient(circle at center, ${counselor.color}40, transparent 70%)` }}\r\n                      />\r\n                    )}\r\n                    \r\n                    <div \r\n                      className={cn(\r\n                        \"h-10 w-10 rounded-lg flex items-center justify-center text-lg transition-all relative z-10\",\r\n                        isSelected ? \"scale-100\" : \"scale-90 group-hover:scale-95\"\r\n                      )}\r\n                      style={{ \r\n                        backgroundColor: isSelected ? `${counselor.color}30` : `${counselor.color}10`,\r\n                        color: counselor.color,\r\n                        border: isSelected ? `1px solid ${counselor.color}50` : `1px solid ${counselor.color}20`\r\n                      }}\r\n                    >\r\n                      {isSelected ? (\r\n                        <motion.div\r\n                          initial={{ scale: 0 }}\r\n                          animate={{ scale: 1 }}\r\n                          transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\r\n                        >\r\n                          <Check className=\"h-5 w-5 stroke-[3px]\" />\r\n                        </motion.div>\r\n                      ) : (\r\n                        <span>{counselor.icon}</span>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1 min-w-0 relative z-10\">\r\n                      <p className={cn(\r\n                        \"text-[12px] font-black tracking-tighter truncate uppercase\",\r\n                        isSelected ? \"text-white\" : \"text-zinc-400 group-hover:text-zinc-200\"\r\n                      )}>\r\n                        {counselor.name}\r\n                      </p>\r\n                      <p className={cn(\r\n                        \"text-[9px] truncate font-mono uppercase tracking-widest mt-0.5\",\r\n                        isSelected ? \"text-white/60\" : \"text-zinc-600 group-hover:text-zinc-500\"\r\n                      )}>\r\n                        {counselor.expertise}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {isSelected && (\r\n                      <motion.div\r\n                        initial={{ scale: 0 }}\r\n                        animate={{ scale: 1 }}\r\n                        className=\"absolute top-2 right-2\"\r\n                      >\r\n                        <div className=\"h-1.5 w-1.5 rounded-full bg-white shadow-[0_0_8px_white] animate-pulse\" />\r\n                      </motion.div>\r\n                    )}\r\n                  </motion.button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Footer - Mesa Redonda */}\r\n      <div className=\"px-4 py-4 bg-black/80 border-t border-white/[0.06] flex items-center justify-between backdrop-blur-xl\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"flex -space-x-2\">\r\n            <AnimatePresence mode=\"popover\">\r\n              {selectedIds.map((id) => {\r\n                const counselor = COUNSELORS_REGISTRY[id as CounselorId];\r\n                if (!counselor) return null;\r\n                return (\r\n                  <motion.div\r\n                    key={id}\r\n                    initial={{ scale: 0, x: -10 }}\r\n                    animate={{ scale: 1, x: 0 }}\r\n                    exit={{ scale: 0, opacity: 0 }}\r\n                    transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\r\n                    className=\"h-10 w-10 rounded-full border-2 border-zinc-950 flex items-center justify-center text-base shadow-xl relative z-10 group\"\r\n                    style={{ \r\n                      backgroundColor: counselor.color,\r\n                      boxShadow: `0 0 20px ${counselor.color}30`\r\n                    }}\r\n                  >\r\n                    <span className=\"group-hover:scale-110 transition-transform\">{counselor.icon}</span>\r\n                    <div className=\"absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full bg-emerald-500 border-2 border-zinc-950 shadow-[0_0_8px_rgba(16,185,129,0.5)]\" />\r\n                  </motion.div>\r\n                );\r\n              })}\r\n            </AnimatePresence>\r\n            {selectedIds.length === 0 && (\r\n              <div className=\"h-10 w-10 rounded-full border-2 border-dashed border-zinc-800 flex items-center justify-center text-[10px] text-zinc-700 font-black\">\r\n                0/3\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <span className={cn(\r\n              \"text-[10px] font-black uppercase tracking-[0.2em] transition-colors\",\r\n              selectedIds.length === 3 ? \"text-emerald-400\" : \"text-zinc-500\"\r\n            )}>\r\n              {selectedIds.length === 3 ? \"Mesa Pronta\" : \"Convocando...\"}\r\n            </span>\r\n            <span className=\"text-[9px] text-zinc-600 font-mono uppercase tracking-widest\">\r\n              {selectedIds.length === 0 \r\n                ? \"Aguardando sele√ß√£o\" \r\n                : `${selectedIds.length} de 3 estrategistas`}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        {selectedIds.length > 0 && (\r\n          <motion.button \r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            whileHover={{ scale: 1.05, color: '#f87171' }}\r\n            whileTap={{ scale: 0.95 }}\r\n            onClick={() => onChange([])}\r\n            className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/[0.02] border border-white/5 text-[9px] font-black text-zinc-500 uppercase tracking-[0.2em] transition-all\"\r\n          >\r\n            <X className=\"h-3 w-3\" />\r\n            Limpar\r\n          </motion.button>\r\n        )}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Send, Sparkles, Paperclip, X, FileText, Image as ImageIcon, Loader2 } from 'lucide-react';\r\nimport { cn, fileToBase64 } from '@/lib/utils';\r\nimport { ChatModeSelector, ChatMode } from './chat-mode-selector';\r\nimport { CHAT_MODES, COUNSELORS_REGISTRY } from '@/lib/constants';\r\nimport { CounselorId } from '@/types';\r\nimport { CounselorSelector } from './party-mode/counselor-selector';\r\nimport { useActiveBrand } from '@/lib/hooks/use-active-brand';\r\nimport { useUser } from '@/lib/hooks/use-user';\r\nimport { uploadBrandAsset, validateBrandAssetFile } from '@/lib/firebase/storage';\r\nimport { createAsset } from '@/lib/firebase/assets';\r\nimport { analyzeMultimodalWithGemini } from '@/lib/ai/gemini';\r\nimport { Timestamp } from 'firebase/firestore';\r\n\r\ninterface Attachment {\r\n  file: File;\r\n  id: string;\r\n  status: 'uploading' | 'analyzing' | 'ready' | 'error';\r\n  progress: number;\r\n  previewUrl?: string;\r\n  insight?: string;\r\n  error?: string;\r\n}\r\n\r\ninterface ChatInputAreaProps {\r\n  onSend: (message: string, options?: { selectedAgents?: string[], intensity?: 'debate' | 'consensus' }) => void;\r\n  isLoading: boolean;\r\n  disabled?: boolean;\r\n  disabledMessage?: string;\r\n  mode: ChatMode;\r\n  onModeChange: (mode: ChatMode) => void;\r\n}\r\n\r\nexport function ChatInputArea({ \r\n  onSend, \r\n  isLoading,\r\n  disabled = false,\r\n  disabledMessage,\r\n  mode,\r\n  onModeChange,\r\n}: ChatInputAreaProps) {\r\n  const [value, setValue] = useState('');\r\n  const [selectedAgents, setSelectedAgents] = useState<string[]>([]);\r\n  const [intensity, setIntensity] = useState<'debate' | 'consensus'>('debate');\r\n  const [attachments, setAttachments] = useState<Attachment[]>([]);\r\n  const [mounted, setMounted] = useState(false);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  \r\n  const activeBrand = useActiveBrand();\r\n  const { user } = useUser();\r\n\r\n  // Handle mounting to avoid hydration mismatch\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const modeConfig = CHAT_MODES[mode];\r\n  const accentColor = modeConfig.accentColor;\r\n  const isPartyMode = mode === 'party';\r\n  const hasMinimumAgents = !isPartyMode || selectedAgents.length >= 3;\r\n\r\n  // Handle file uploads and analysis\r\n  const handleFileSelect = async (files: FileList | null) => {\r\n    if (!files || !activeBrand || !user) return;\r\n\r\n    const newAttachments: Attachment[] = Array.from(files).map(file => ({\r\n      file,\r\n      id: Math.random().toString(36).substring(7),\r\n      status: 'uploading',\r\n      progress: 0,\r\n      previewUrl: file.type.startsWith('image/') ? URL.createObjectURL(file) : undefined\r\n    }));\r\n\r\n    setAttachments(prev => [...prev, ...newAttachments]);\r\n\r\n    // Process each file\r\n    newAttachments.forEach(async (attachment) => {\r\n      try {\r\n        // 1. Validar\r\n        const validation = validateBrandAssetFile(attachment.file);\r\n        if (!validation.valid) {\r\n          throw new Error(validation.error);\r\n        }\r\n\r\n        // 2. Upload para Storage\r\n        const { url, metadata } = await uploadBrandAsset(\r\n          attachment.file, \r\n          activeBrand.id, \r\n          user.id,\r\n          (progress) => {\r\n            setAttachments(prev => prev.map(a => \r\n              a.id === attachment.id ? { ...a, progress } : a\r\n            ));\r\n          }\r\n        );\r\n\r\n        // 3. Criar registro no Firestore (US-21.2)\r\n        await createAsset({\r\n          brandId: activeBrand.id,\r\n          userId: user.id,\r\n          name: attachment.file.name,\r\n          originalName: attachment.file.name,\r\n          type: attachment.file.type.startsWith('image/') ? 'image' : 'reference',\r\n          mimeType: attachment.file.type,\r\n          size: attachment.file.size,\r\n          url,\r\n          status: 'ready',\r\n          isApprovedForAI: true, // Auto-aprovado para chat (como solicitado)\r\n          createdAt: Timestamp.now(),\r\n          metadata: {\r\n            sourceType: attachment.file.type.startsWith('image/') ? 'image' : 'pdf',\r\n            originalName: attachment.file.name,\r\n            isApprovedForAI: true,\r\n            extractedAt: new Date().toISOString(),\r\n            processingMethod: 'gemini-vision',\r\n          }\r\n        });\r\n\r\n        // 4. An√°lise Multimodal (Insights Imediatos)\r\n        setAttachments(prev => prev.map(a => \r\n          a.id === attachment.id ? { ...a, status: 'analyzing' } : a\r\n        ));\r\n\r\n        const base64 = await fileToBase64(attachment.file);\r\n        const prompt = attachment.file.type.startsWith('image/') \r\n          ? \"Analise esta imagem sob a perspectiva de um estrategista de funis. Identifique elementos de convers√£o, copy, design e pontos de melhoria. Seja conciso e direto.\"\r\n          : \"Analise este documento PDF. Extraia os pontos estrat√©gicos mais relevantes para um conselho de marketing. Seja conciso.\";\r\n        \r\n        const insight = await analyzeMultimodalWithGemini(prompt, base64, attachment.file.type);\r\n\r\n        setAttachments(prev => prev.map(a => \r\n          a.id === attachment.id ? { ...a, status: 'ready', insight } : a\r\n        ));\r\n\r\n      } catch (error) {\r\n        console.error('Erro ao processar anexo:', error);\r\n        setAttachments(prev => prev.map(a => \r\n          a.id === attachment.id ? { ...a, status: 'error', error: error instanceof Error ? error.message : 'Erro no upload' } : a\r\n        ));\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeAttachment = (id: string) => {\r\n    setAttachments(prev => {\r\n      const filtered = prev.filter(a => a.id !== id);\r\n      // Clean up object URLs\r\n      const removed = prev.find(a => a.id === id);\r\n      if (removed?.previewUrl) URL.revokeObjectURL(removed.previewUrl);\r\n      return filtered;\r\n    });\r\n  };\r\n\r\n  const isUploading = attachments.some(a => a.status === 'uploading' || a.status === 'analyzing');\r\n\r\n  // Reset selected agents when leaving party mode\r\n  useEffect(() => {\r\n    if (!isPartyMode) {\r\n      setSelectedAgents([]);\r\n    } else {\r\n      // Default selection for party mode if empty\r\n      if (selectedAgents.length === 0) {\r\n        setSelectedAgents(['russell_brunson', 'eugene_schwartz', 'dan_kennedy']);\r\n      }\r\n    }\r\n  }, [mode]);\r\n\r\n  // Gerar footer din√¢mico com base nos conselheiros\r\n  const counselorNames = isPartyMode\r\n    ? selectedAgents.map(id => COUNSELORS_REGISTRY[id as CounselorId]?.name || id).join(', ')\r\n    : modeConfig.counselors\r\n        .map(id => COUNSELORS_REGISTRY[id as CounselorId]?.name || id)\r\n        .join(', ');\r\n  \r\n  const dynamicFooter = mode === 'general' \r\n    ? modeConfig.footer \r\n    : isPartyMode\r\n      ? `üéâ Party: ${counselorNames || 'Nenhum selecionado'}`\r\n      : `${modeConfig.footer.split(':')[0]}: ${counselorNames}`;\r\n\r\n  const isInputDisabled = isLoading || (mounted && disabled) || isUploading;\r\n  const isSendDisabled = (!value.trim() && attachments.length === 0) || isInputDisabled || !hasMinimumAgents;\r\n\r\n  const handleSubmit = () => {\r\n    if ((!value.trim() && attachments.length === 0) || isInputDisabled || !hasMinimumAgents) return;\r\n    \r\n    // Injetar insights dos anexos se houver\r\n    let finalMessage = value.trim();\r\n    const readyAttachments = attachments.filter(a => a.status === 'ready' && a.insight);\r\n    \r\n    if (readyAttachments.length > 0) {\r\n      const insightsContext = readyAttachments.map(a => \r\n        `--- REFER√äNCIA ANEXADA: ${a.file.name} ---\\n${a.insight}`\r\n      ).join('\\n\\n');\r\n      \r\n      finalMessage = `[CONTEXTO DE ANEXOS]:\\n${insightsContext}\\n\\n---\\n\\nPERGUNTA DO USU√ÅRIO: ${finalMessage || '(An√°lise de refer√™ncia enviada)'}`;\r\n    }\r\n\r\n    if (isPartyMode) {\r\n      onSend(finalMessage, { \r\n        selectedAgents, \r\n        intensity \r\n      });\r\n    } else {\r\n      onSend(finalMessage);\r\n    }\r\n    \r\n    setValue('');\r\n    setAttachments([]);\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto';\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit();\r\n    }\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      handleFileSelect(e.dataTransfer.files);\r\n    }\r\n  };\r\n\r\n  // Auto-resize textarea\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto';\r\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\r\n    }\r\n  }, [value]);\r\n\r\n  return (\r\n    <div \r\n      className=\"border-t border-white/[0.04] bg-[#09090b]/90 backdrop-blur-2xl p-3 sm:p-4 pb-6 sm:pb-4\"\r\n      onDragOver={handleDragOver}\r\n      onDrop={handleDrop}\r\n    >\r\n      <div className=\"mx-auto max-w-3xl space-y-3\">\r\n        {/* Attachment Previews */}\r\n        <AnimatePresence>\r\n          {attachments.length > 0 && (\r\n            <motion.div \r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 10 }}\r\n              className=\"flex flex-wrap gap-2 pb-1\"\r\n            >\r\n              {attachments.map((attachment) => (\r\n                <motion.div\r\n                  key={attachment.id}\r\n                  className=\"relative group flex items-center gap-2 rounded-xl border border-white/[0.06] bg-zinc-900/80 p-1.5 pr-2\"\r\n                >\r\n                  <div className=\"h-8 w-8 rounded-lg overflow-hidden bg-zinc-800 flex items-center justify-center shrink-0\">\r\n                    {attachment.previewUrl ? (\r\n                      <img src={attachment.previewUrl} alt=\"Preview\" className=\"h-full w-full object-cover\" />\r\n                    ) : (\r\n                      <FileText className=\"h-4 w-4 text-zinc-500\" />\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"flex flex-col min-w-0 pr-1\">\r\n                    <span className=\"text-[10px] text-zinc-300 truncate max-w-[100px] font-medium\">\r\n                      {attachment.file.name}\r\n                    </span>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      {attachment.status === 'uploading' && (\r\n                        <div className=\"flex items-center gap-1.5\">\r\n                          <div className=\"h-1 w-12 rounded-full bg-zinc-800 overflow-hidden\">\r\n                            <motion.div \r\n                              className=\"h-full bg-emerald-500\"\r\n                              initial={{ width: 0 }}\r\n                              animate={{ width: `${attachment.progress}%` }}\r\n                            />\r\n                          </div>\r\n                          <span className=\"text-[8px] text-zinc-500\">{attachment.progress}%</span>\r\n                        </div>\r\n                      )}\r\n                      {attachment.status === 'analyzing' && (\r\n                        <span className=\"text-[9px] text-indigo-400 flex items-center gap-1 animate-pulse\">\r\n                          <Loader2 className=\"h-2.5 w-2.5 animate-spin\" /> Analisando...\r\n                        </span>\r\n                      )}\r\n                      {attachment.status === 'ready' && (\r\n                        <span className=\"text-[9px] text-emerald-500 font-medium\">Pronto</span>\r\n                      )}\r\n                      {attachment.status === 'error' && (\r\n                        <span className=\"text-[9px] text-red-500 truncate max-w-[80px]\">{attachment.error}</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={() => removeAttachment(attachment.id)}\r\n                    className=\"absolute -top-1.5 -right-1.5 h-4 w-4 rounded-full bg-zinc-900 border border-white/10 flex items-center justify-center text-zinc-400 hover:text-white hover:bg-zinc-800 transition-all opacity-0 group-hover:opacity-100\"\r\n                  >\r\n                    <X className=\"h-2.5 w-2.5\" />\r\n                  </button>\r\n                </motion.div>\r\n              ))}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Party Mode Selector */}\r\n        <AnimatePresence>\r\n          {mode === 'party' && (\r\n            <CounselorSelector \r\n              selectedIds={selectedAgents} \r\n              onChange={setSelectedAgents}\r\n              intensity={intensity}\r\n              onIntensityChange={setIntensity}\r\n            />\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Mode Selector */}\r\n        <div className=\"flex flex-col gap-2\">\r\n          <div className=\"flex items-center justify-between gap-3\">\r\n            <ChatModeSelector mode={mode} onModeChange={onModeChange} />\r\n\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={() => onModeChange(isPartyMode ? 'general' : 'party')}\r\n              className={cn(\r\n                'inline-flex items-center gap-2 rounded-xl px-3 py-2 text-xs font-semibold transition-all border',\r\n                isPartyMode\r\n                  ? 'bg-emerald-500/10 border-emerald-500/40 text-emerald-200 shadow-[0_0_24px_rgba(16,185,129,0.35)]'\r\n                  : 'bg-zinc-900/60 border-white/5 text-zinc-200 hover:border-white/10'\r\n              )}\r\n            >\r\n              <Sparkles className=\"h-4 w-4\" />\r\n              {isPartyMode ? 'Alto Conselho Ativo' : 'Invocar Alto Conselho'}\r\n            </motion.button>\r\n          </div>\r\n\r\n          {isPartyMode && !hasMinimumAgents && (\r\n            <p className=\"text-[11px] text-amber-400 font-medium\">\r\n              Selecione pelo menos 3 especialistas para iniciar o debate.\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Input */}\r\n        <div className={cn(\r\n          \"relative flex items-end gap-2 sm:gap-3 rounded-2xl border border-white/[0.06] bg-zinc-900/60 p-2 sm:p-3 transition-all duration-300\",\r\n          \"focus-within:border-white/[0.1] focus-within:bg-zinc-900/80 focus-within:shadow-[0_0_20px_rgba(255,255,255,0.02)]\",\r\n          disabled && \"border-red-500/50 bg-red-500/5\"\r\n        )}>\r\n          {/* File Input */}\r\n          <input \r\n            type=\"file\" \r\n            ref={fileInputRef}\r\n            onChange={(e) => handleFileSelect(e.target.files)}\r\n            className=\"hidden\"\r\n            multiple\r\n            accept=\"image/*,application/pdf\"\r\n          />\r\n          \r\n          <button\r\n            type=\"button\"\r\n            onClick={() => fileInputRef.current?.click()}\r\n            disabled={isInputDisabled}\r\n            className={cn(\r\n              \"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl transition-all duration-300\",\r\n              \"text-zinc-500 hover:text-white hover:bg-white/[0.05] disabled:opacity-30\"\r\n            )}\r\n          >\r\n            <Paperclip className=\"h-5 w-5\" />\r\n          </button>\r\n\r\n          <textarea\r\n            ref={textareaRef}\r\n            value={value}\r\n            onChange={(e) => setValue(e.target.value)}\r\n            onKeyDown={handleKeyDown}\r\n            placeholder={mounted && disabled ? (disabledMessage || \"Saldo insuficiente\") : modeConfig.placeholder}\r\n            disabled={isInputDisabled}\r\n            rows={1}\r\n            className=\"flex-1 resize-none bg-transparent py-2.5 px-0 text-[16px] sm:text-sm text-white placeholder:text-zinc-600 focus:outline-none disabled:opacity-50 min-h-[44px] sm:min-h-0\"\r\n            style={{ maxHeight: '160px' }}\r\n          />\r\n          \r\n          <motion.button\r\n            whileHover={!isInputDisabled ? { scale: 1.05 } : {}}\r\n            whileTap={!isInputDisabled ? { scale: 0.95 } : {}}\r\n            onClick={handleSubmit}\r\n            disabled={isSendDisabled}\r\n            className={cn(\r\n              'flex h-10 w-10 sm:h-11 sm:w-11 shrink-0 items-center justify-center rounded-xl transition-all duration-300',\r\n              (value.trim() || attachments.length > 0) && !isInputDisabled && hasMinimumAgents\r\n                ? accentColor === 'indigo'\r\n                  ? 'bg-indigo-500 text-white hover:bg-indigo-400 shadow-[0_0_15px_rgba(99,102,241,0.3)]'\r\n                  : accentColor === 'amber'\r\n                  ? 'bg-amber-500 text-white hover:bg-amber-400 shadow-[0_0_15px_rgba(245,158,11,0.3)]'\r\n                  : accentColor === 'blue'\r\n                  ? 'bg-blue-500 text-white hover:bg-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.3)]'\r\n                  : 'bg-emerald-500 text-white hover:bg-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)]'\r\n                : 'bg-zinc-800 text-zinc-500'\r\n            )}\r\n          >\r\n            <Send className=\"h-5 w-5\" />\r\n          </motion.button>\r\n        </div>\r\n        \r\n        <p className=\"text-center text-[10px] sm:text-xs text-zinc-600 px-4\">\r\n          {disabled ? \"‚ö†Ô∏è Fa√ßa upgrade para obter mais cr√©ditos.\" : dynamicFooter}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport { useEffect, useState, useCallback } from 'react';\r\nimport { useAuthStore } from '@/lib/stores/auth-store';\r\nimport {\r\n  getUserConversations,\r\n  createConversation,\r\n  getConversationMessages,\r\n  addMessage,\r\n  deleteConversation,\r\n  subscribeToMessages,\r\n} from '@/lib/firebase/firestore';\r\nimport type { Conversation, Message } from '@/types/database';\r\n\r\nexport function useConversations() {\r\n  const { user } = useAuthStore();\r\n  const [conversations, setConversations] = useState<Conversation[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const loadConversations = useCallback(async () => {\r\n    if (!user) {\r\n      setConversations([]);\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const data = await getUserConversations(user.uid);\r\n      setConversations(data);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error loading conversations:', err);\r\n      setError('Erro ao carregar conversas');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    loadConversations();\r\n  }, [loadConversations]);\r\n\r\n  const create = async (title: string = 'Nova conversa', brandId?: string) => {\r\n    if (!user) throw new Error('User not authenticated');\r\n\r\n    const conversationId = await createConversation({\r\n      userId: user.uid,\r\n      title,\r\n      context: { mode: 'general' },\r\n      brandId, // Vincula √† marca se fornecido\r\n    });\r\n\r\n    await loadConversations();\r\n    return conversationId;\r\n  };\r\n\r\n  const remove = async (conversationId: string) => {\r\n    await deleteConversation(conversationId);\r\n    await loadConversations();\r\n  };\r\n\r\n  return {\r\n    conversations,\r\n    isLoading,\r\n    error,\r\n    create,\r\n    remove,\r\n    refresh: loadConversations,\r\n  };\r\n}\r\n\r\nexport function useConversation(conversationId: string | null) {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSending, setIsSending] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!conversationId) {\r\n      setMessages([]);\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    // Subscribe to real-time messages\r\n    const unsubscribe = subscribeToMessages(conversationId, (newMessages) => {\r\n      setMessages(newMessages);\r\n      setIsLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [conversationId]);\r\n\r\n  const sendMessage = async (\r\n    content: string, \r\n    mode: 'general' | 'funnel_creation' | 'funnel_evaluation' | 'copy' | 'social' | 'funnel_review' | 'ads' | 'design' | 'party' = 'general',\r\n    funnelId?: string,\r\n    partyOptions?: { selectedAgents?: string[], intensity?: 'debate' | 'consensus' },\r\n    campaignId?: string\r\n  ) => {\r\n    if (!conversationId) return;\r\n\r\n    setIsSending(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Add user message to Firestore\r\n      await addMessage(conversationId, {\r\n        role: 'user',\r\n        content,\r\n      });\r\n\r\n      // Call the chat API to get AI response\r\n      const response = await fetch('/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          message: content,\r\n          conversationId,\r\n          mode,\r\n          ...(funnelId ? { funnelId } : {}),\r\n          ...(campaignId ? { campaignId } : {}), // ST-11.15: Contexto da Linha de Ouro\r\n          ...(partyOptions ? { \r\n            selectedAgents: partyOptions.selectedAgents,\r\n            intensity: partyOptions.intensity \r\n          } : {}),\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        \r\n        // US-16.1: Tratar erro de cr√©ditos insuficientes\r\n        if (response.status === 403 && errorData.error === 'insufficient_credits') {\r\n          const insufficientCreditsMsg = '‚ùå **Saldo de cr√©ditos insuficiente.**\\n\\nSeu saldo de cr√©ditos acabou. Fa√ßa upgrade para continuar consultando o conselho.';\r\n          \r\n          await addMessage(conversationId, {\r\n            role: 'assistant',\r\n            content: insufficientCreditsMsg,\r\n          });\r\n          \r\n          throw new Error('Saldo de cr√©ditos insuficiente');\r\n        }\r\n\r\n        throw new Error(errorData.error || 'Failed to get response');\r\n      }\r\n\r\n      // The response is automatically added to Firestore by the API\r\n      // and will be picked up by the real-time subscription\r\n    } catch (err) {\r\n      console.error('Error sending message:', err);\r\n      setError(err instanceof Error ? err.message : 'Erro ao enviar mensagem');\r\n      \r\n      // Add error message to show user\r\n      await addMessage(conversationId, {\r\n        role: 'assistant',\r\n        content: `‚ö†Ô∏è Desculpe, ocorreu um erro ao processar sua mensagem. Por favor, tente novamente.\\n\\n*Erro: ${err instanceof Error ? err.message : 'Erro desconhecido'}*`,\r\n      });\r\n    } finally {\r\n      setIsSending(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    messages,\r\n    isLoading,\r\n    isSending,\r\n    error,\r\n    sendMessage,\r\n  };\r\n}\r\n","\"use client\";\n\n// src/popover.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar POPOVER_NAME = \"Popover\";\nvar [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);\nvar Popover = (props) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME\n  });\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    PopoverProvider,\n    {\n      scope: __scopePopover,\n      contentId: useId(),\n      triggerRef,\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      hasCustomAnchor,\n      onCustomAnchorAdd: React.useCallback(() => setHasCustomAnchor(true), []),\n      onCustomAnchorRemove: React.useCallback(() => setHasCustomAnchor(false), []),\n      modal,\n      children\n    }\n  ) });\n};\nPopover.displayName = POPOVER_NAME;\nvar ANCHOR_NAME = \"PopoverAnchor\";\nvar PopoverAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nPopoverAnchor.displayName = ANCHOR_NAME;\nvar TRIGGER_NAME = \"PopoverTrigger\";\nvar PopoverTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    const trigger = /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n    return context.hasCustomAnchor ? trigger : /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: trigger });\n  }\n);\nPopoverTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"PopoverPortal\";\nvar [PortalProvider, usePortalContext] = createPopoverContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar PopoverPortal = (props) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopePopover, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nPopoverPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"PopoverContent\";\nvar PopoverContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(PopoverContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(PopoverContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nPopoverContent.displayName = CONTENT_NAME;\nvar Slot = createSlot(\"PopoverContent.RemoveScroll\");\nvar PopoverContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(\n          props.onPointerDownOutside,\n          (event) => {\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            isRightClickOutsideRef.current = isRightClick;\n          },\n          { checkForDefaultPrevented: false }\n        ),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nvar PopoverContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar PopoverContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    useFocusGuards();\n    return /* @__PURE__ */ jsx(\n      FocusScope,\n      {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n        children: /* @__PURE__ */ jsx(\n          DismissableLayer,\n          {\n            asChild: true,\n            disableOutsidePointerEvents,\n            onInteractOutside,\n            onEscapeKeyDown,\n            onPointerDownOutside,\n            onFocusOutside,\n            onDismiss: () => context.onOpenChange(false),\n            children: /* @__PURE__ */ jsx(\n              PopperPrimitive.Content,\n              {\n                \"data-state\": getState(context.open),\n                role: \"dialog\",\n                id: context.contentId,\n                ...popperScope,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                  ...contentProps.style,\n                  // re-namespace exposed content custom properties\n                  ...{\n                    \"--radix-popover-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                    \"--radix-popover-content-available-width\": \"var(--radix-popper-available-width)\",\n                    \"--radix-popover-content-available-height\": \"var(--radix-popper-available-height)\",\n                    \"--radix-popover-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                    \"--radix-popover-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                  }\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nvar CLOSE_NAME = \"PopoverClose\";\nvar PopoverClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nPopoverClose.displayName = CLOSE_NAME;\nvar ARROW_NAME = \"PopoverArrow\";\nvar PopoverArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nPopoverArrow.displayName = ARROW_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar Root2 = Popover;\nvar Anchor2 = PopoverAnchor;\nvar Trigger = PopoverTrigger;\nvar Portal = PopoverPortal;\nvar Content2 = PopoverContent;\nvar Close = PopoverClose;\nvar Arrow2 = PopoverArrow;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  Close,\n  Content2 as Content,\n  Popover,\n  PopoverAnchor,\n  PopoverArrow,\n  PopoverClose,\n  PopoverContent,\n  PopoverPortal,\n  PopoverTrigger,\n  Portal,\n  Root2 as Root,\n  Trigger,\n  createPopoverScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Popover({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\r\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\r\n}\r\n\r\nfunction PopoverTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\r\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\r\n}\r\n\r\nfunction PopoverContent({\r\n  className,\r\n  align = \"center\",\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\r\n  return (\r\n    <PopoverPrimitive.Portal>\r\n      <PopoverPrimitive.Content\r\n        data-slot=\"popover-content\"\r\n        align={align}\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </PopoverPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction PopoverAnchor({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\r\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\r\n}\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\r\n","'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { COUNSELORS } from '@/lib/constants';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from '@/components/ui/popover';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { FileText, ExternalLink, Target, Info } from 'lucide-react';\r\n\r\ninterface Source {\r\n  file: string;\r\n  section?: string;\r\n  content?: string;\r\n  similarity?: number;\r\n  rerankScore?: number;\r\n  counselor?: string;\r\n  type?: 'brand_asset' | 'upload' | 'url';\r\n}\r\n\r\ninterface Counselor {\r\n  name: string;\r\n  icon: string;\r\n  color: string;\r\n  expertise: string;\r\n  council: 'funnel' | 'copy';\r\n}\r\n\r\ninterface CounselorBadgesProps {\r\n  counselors?: string[];\r\n  sources?: Source[];\r\n  compact?: boolean;\r\n}\r\n\r\n// All counselors combined\r\nconst ALL_COUNSELORS: Record<string, Counselor> = {\r\n  // Funnel Council\r\n  russell_brunson: { ...COUNSELORS.russell_brunson, council: 'funnel' } as Counselor,\r\n  dan_kennedy: { ...COUNSELORS.dan_kennedy, council: 'funnel' } as Counselor,\r\n  frank_kern: { ...COUNSELORS.frank_kern, council: 'funnel' } as Counselor,\r\n  sam_ovens: { ...COUNSELORS.sam_ovens, council: 'funnel' } as Counselor,\r\n  ryan_deiss: { ...COUNSELORS.ryan_deiss, council: 'funnel' } as Counselor,\r\n  perry_belcher: { ...COUNSELORS.perry_belcher, council: 'funnel' } as Counselor,\r\n  // Copy Council\r\n  eugene_schwartz: { name: 'Eugene Schwartz', icon: 'üéØ', color: '#6366f1', expertise: 'Consci√™ncia de Mercado', council: 'copy' },\r\n  claude_hopkins: { name: 'Claude Hopkins', icon: 'üî¨', color: '#3b82f6', expertise: 'M√©todo Cient√≠fico', council: 'copy' },\r\n  gary_halbert: { name: 'Gary Halbert', icon: '‚ö°', color: '#f59e0b', expertise: 'Headlines', council: 'copy' },\r\n  joseph_sugarman: { name: 'Joseph Sugarman', icon: 'üìñ', color: '#8b5cf6', expertise: 'Storytelling', council: 'copy' },\r\n  david_ogilvy: { name: 'David Ogilvy', icon: 'üëî', color: '#64748b', expertise: 'Brand Premium', council: 'copy' },\r\n  john_carlton: { name: 'John Carlton', icon: 'üé§', color: '#ec4899', expertise: 'Voz Aut√™ntica', council: 'copy' },\r\n  drayton_bird: { name: 'Drayton Bird', icon: '‚úÇÔ∏è', color: '#14b8a6', expertise: 'Simplicidade', council: 'copy' },\r\n  // Heuristics mapping\r\n  copy_consciencia: { name: 'Eugene Schwartz', icon: 'üéØ', color: '#6366f1', expertise: 'Consci√™ncia de Mercado', council: 'copy' },\r\n  copy_headline: { name: 'Gary Halbert', icon: '‚ö°', color: '#f59e0b', expertise: 'Headlines', council: 'copy' },\r\n  copy_oferta: { name: 'Dan Kennedy', icon: 'üí∞', color: '#10b981', expertise: 'Oferta & Urg√™ncia', council: 'copy' },\r\n  copy_fluxo: { name: 'John Carlton', icon: 'üé§', color: '#ec4899', expertise: 'Fluxo Natural', council: 'copy' },\r\n  copy_premium: { name: 'David Ogilvy', icon: 'üëî', color: '#64748b', expertise: 'Brand Premium', council: 'copy' },\r\n};\r\n\r\nexport function CounselorBadges({ counselors, sources, compact = false }: CounselorBadgesProps) {\r\n  // Gather unique counselors\r\n  const uniqueCounselors = new Set<string>();\r\n  \r\n  counselors?.forEach(c => uniqueCounselors.add(c));\r\n  sources?.forEach(s => {\r\n    if (s.counselor) uniqueCounselors.add(s.counselor);\r\n  });\r\n\r\n  if (uniqueCounselors.size === 0) return null;\r\n\r\n  const counselorList = Array.from(uniqueCounselors)\r\n    .map(id => ALL_COUNSELORS[id])\r\n    .filter(Boolean);\r\n\r\n  if (counselorList.length === 0) return null;\r\n\r\n  // Group by council\r\n  const funnelCounselors = counselorList.filter(c => c.council === 'funnel');\r\n  const copyCounselors = counselorList.filter(c => c.council === 'copy');\r\n\r\n  if (compact) {\r\n    return (\r\n      <div className=\"flex flex-wrap gap-1.5 mt-3\">\r\n        {counselorList.map((counselor, i) => {\r\n          const lastName = counselor.name?.split(' ').pop() || counselor.name || 'Unknown';\r\n          return (\r\n            <motion.span\r\n              key={(counselor.name || 'counselor') + i}\r\n              initial={{ opacity: 0, scale: 0.8 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              transition={{ delay: i * 0.05 }}\r\n              className=\"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs\"\r\n              style={{ backgroundColor: `${counselor.color}15`, color: counselor.color }}\r\n            >\r\n              <span>{counselor.icon}</span>\r\n              <span className=\"font-medium\">{lastName}</span>\r\n            </motion.span>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-4 pt-4 border-t border-white/5\">\r\n      <div className=\"flex items-center gap-2 mb-2\">\r\n        <span className=\"text-xs text-zinc-500 font-medium\">Conselheiros consultados</span>\r\n      </div>\r\n      \r\n      <div className=\"space-y-2\">\r\n        {funnelCounselors.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-1.5\">\r\n            <span className=\"text-[10px] text-zinc-600 uppercase tracking-wider mr-1\">Funil:</span>\r\n            {funnelCounselors.map((counselor, i) => (\r\n              <motion.span\r\n                key={counselor.name}\r\n                initial={{ opacity: 0, y: 5 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: i * 0.05 }}\r\n                className=\"inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs border cursor-default\"\r\n                style={{ \r\n                  backgroundColor: `${counselor.color}10`, \r\n                  borderColor: `${counselor.color}30`,\r\n                  color: counselor.color \r\n                }}\r\n                title={counselor.expertise}\r\n              >\r\n                <span>{counselor.icon}</span>\r\n                <span className=\"font-medium\">{counselor.name}</span>\r\n              </motion.span>\r\n            ))}\r\n          </div>\r\n        )}\r\n        \r\n        {copyCounselors.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-1.5\">\r\n            <span className=\"text-[10px] text-zinc-600 uppercase tracking-wider mr-1\">Copy:</span>\r\n            {copyCounselors.map((counselor, i) => (\r\n              <motion.span\r\n                key={counselor.name}\r\n                initial={{ opacity: 0, y: 5 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.1 + i * 0.05 }}\r\n                className=\"inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs border cursor-default\"\r\n                style={{ \r\n                  backgroundColor: `${counselor.color}10`, \r\n                  borderColor: `${counselor.color}30`,\r\n                  color: counselor.color \r\n                }}\r\n                title={counselor.expertise}\r\n              >\r\n                <span>{counselor.icon}</span>\r\n                <span className=\"font-medium\">{counselor.name}</span>\r\n              </motion.span>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SourcePopover({ source }: { source: Source }) {\r\n  const fileName = source.file.split(/[/\\\\]/).pop()?.replace('.md', '') || 'Documento';\r\n  const score = source.rerankScore || source.similarity || 0;\r\n  const scorePercentage = Math.round(score * 100);\r\n  const isBrandAsset = source.type === 'brand_asset';\r\n\r\n  return (\r\n    <Popover>\r\n      <PopoverTrigger asChild>\r\n        <button\r\n          className={cn(\r\n            \"inline-flex items-center gap-1 rounded px-2 py-0.5 text-[10px] transition-all\",\r\n            \"bg-zinc-800/50 text-zinc-400 hover:bg-zinc-700 hover:text-zinc-200\",\r\n            \"border border-transparent\",\r\n            isBrandAsset && \"border-emerald-500/30 bg-emerald-500/5 text-emerald-400/90 hover:bg-emerald-500/10\"\r\n          )}\r\n        >\r\n          <FileText className=\"size-3\" />\r\n          {fileName}\r\n          {score > 0 && (\r\n            <span className={cn(\"text-[9px] opacity-60 ml-0.5\", isBrandAsset ? \"text-emerald-500\" : \"text-zinc-500\")}>\r\n              {scorePercentage}%\r\n            </span>\r\n          )}\r\n        </button>\r\n      </PopoverTrigger>\r\n      <PopoverContent \r\n        side=\"top\" \r\n        align=\"start\" \r\n        className=\"w-80 bg-zinc-900 border-zinc-800 p-0 overflow-hidden shadow-2xl\"\r\n      >\r\n        <div className=\"p-3 border-b border-zinc-800 flex items-center justify-between bg-zinc-900/50\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className={cn(\r\n              \"p-1.5 rounded\",\r\n              isBrandAsset ? \"bg-emerald-500/10 text-emerald-500\" : \"bg-zinc-800 text-zinc-400\"\r\n            )}>\r\n              <FileText className=\"size-3.5\" />\r\n            </div>\r\n            <div>\r\n              <h4 className=\"text-xs font-semibold text-zinc-200 truncate max-w-[180px]\">\r\n                {fileName}\r\n              </h4>\r\n              <p className=\"text-[9px] text-zinc-500 uppercase tracking-tighter\">\r\n                {source.type || 'Documento'} {source.section && `‚Ä¢ ${source.section}`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <a \r\n            href=\"#\" \r\n            className=\"text-zinc-500 hover:text-zinc-300 transition-colors\"\r\n            onClick={(e) => e.preventDefault()}\r\n          >\r\n            <ExternalLink className=\"size-3.5\" />\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"p-3 space-y-3\">\r\n          {source.content && (\r\n            <div className=\"space-y-1.5\">\r\n              <div className=\"flex items-center gap-1.5 text-[10px] text-zinc-500\">\r\n                <Info className=\"size-3\" />\r\n                <span>Snippet extra√≠do</span>\r\n              </div>\r\n              <ScrollArea className=\"h-24 w-full rounded border border-zinc-800/50 bg-black/20 p-2\">\r\n                <p className=\"text-[11px] leading-relaxed text-zinc-400 italic\">\r\n                  \"{source.content.length > 300 ? `${source.content.substring(0, 300)}...` : source.content}\"\r\n                </p>\r\n              </ScrollArea>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-1.5\">\r\n            <div className=\"flex items-center justify-between text-[10px]\">\r\n              <div className=\"flex items-center gap-1.5 text-zinc-500\">\r\n                <Target className=\"size-3\" />\r\n                <span>Relev√¢ncia Contextual</span>\r\n              </div>\r\n              <span className={cn(\r\n                \"font-mono font-medium\",\r\n                score > 0.8 ? \"text-emerald-500\" : \"text-zinc-400\"\r\n              )}>\r\n                {scorePercentage}%\r\n              </span>\r\n            </div>\r\n            <Progress \r\n              value={scorePercentage} \r\n              className=\"h-1 bg-zinc-800\"\r\n              indicatorClassName={cn(\r\n                score > 0.8 ? \"bg-emerald-500\" : \"bg-zinc-500\"\r\n              )}\r\n            />\r\n          </div>\r\n\r\n          {source.counselor && (\r\n            <div className=\"pt-1 flex items-center gap-2\">\r\n               <span className=\"text-[9px] text-zinc-600 uppercase tracking-wider\">Associado a:</span>\r\n               <div className=\"flex items-center gap-1 px-1.5 py-0.5 rounded bg-zinc-800/50 border border-zinc-700/50\">\r\n                  <span className=\"text-[10px]\">{ALL_COUNSELORS[source.counselor]?.icon}</span>\r\n                  <span className=\"text-[10px] text-zinc-400 font-medium\">\r\n                    {ALL_COUNSELORS[source.counselor]?.name.split(' ').pop()}\r\n                  </span>\r\n               </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n}\r\n\r\n// Source files list\r\nexport function SourcesList({ sources }: { sources?: Array<string | Source> }) {\r\n  if (!sources || sources.length === 0) return null;\r\n\r\n  // Filter and normalize sources\r\n  const validSources = sources\r\n    .map(source => {\r\n      if (typeof source === 'string') {\r\n        return { file: source } as Source;\r\n      }\r\n      return source;\r\n    })\r\n    .filter(source => source?.file);\r\n\r\n  if (validSources.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"mt-3 flex flex-wrap gap-1.5 items-center\">\r\n      <span className=\"text-xs text-zinc-600 font-medium mr-0.5\">Fontes:</span>\r\n      {validSources.slice(0, 6).map((source, i) => (\r\n        <SourcePopover key={i} source={source} />\r\n      ))}\r\n      {validSources.length > 6 && (\r\n        <span className=\"text-[10px] text-zinc-500 ml-1\">\r\n          +{validSources.length - 6} mais\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Check, \r\n  Copy, \r\n  Zap, \r\n  BarChart3, \r\n  ArrowRight, \r\n  FileText, \r\n  MessageSquare, \r\n  Layers, \r\n  Megaphone,\r\n  Lightbulb\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\n\r\ninterface CouncilOutput {\r\n  strategy: {\r\n    summary: string;\r\n    steps: string[];\r\n    rationale: string;\r\n  };\r\n  market_data: {\r\n    metric: string;\r\n    label: string;\r\n    value: string;\r\n    benchmark_2026: string;\r\n    unit: \"%\" | \"currency\" | \"number\" | \"ratio\";\r\n    status: \"success\" | \"warning\" | \"danger\" | \"neutral\";\r\n    source_context: string;\r\n  }[];\r\n  assets: {\r\n    type: \"DM_SCRIPT\" | \"STORY_SEQUENCE\" | \"AD_COPY\" | \"HOOK\" | \"VSL_OUTLINE\";\r\n    title: string;\r\n    content: string;\r\n    counselor_reference: string;\r\n  }[];\r\n}\r\n\r\ninterface AssetPreviewProps {\r\n  data: CouncilOutput;\r\n}\r\n\r\nexport function AssetPreview({ data }: AssetPreviewProps) {\r\n  const [copiedIndex, setCopiedIndex] = useState<number | null>(null);\r\n\r\n  // ST-11.24: For√ßar atualiza√ß√£o via build\r\n  console.log('[AssetPreview] Build Version: 11.24.4 (Ultra-Resilient Parser Active)');\r\n\r\n  // ST-11.6: Fail-safe para dados ausentes ou malformados (QA: INC-003)\r\n  // US-11.24 Fix: Mapeamento resiliente para varia√ß√µes de JSON da IA\r\n  const getNormalizedData = (raw: any): CouncilOutput | null => {\r\n    if (!raw) return null;\r\n\r\n    // Se j√° estiver no formato correto, retorna\r\n    if (raw.strategy?.summary || raw.strategy?.steps) {\r\n      return raw as CouncilOutput;\r\n    }\r\n\r\n    // Tentar normalizar varia√ß√µes comuns detectadas no console\r\n    const normalized: Partial<CouncilOutput> = {\r\n      strategy: {\r\n        summary: raw.strategy?.summary || raw.funnel_strategy?.summary || raw.summary || 'Estrat√©gia Sugerida',\r\n        rationale: raw.strategy?.rationale || raw.funnel_strategy?.rationale || raw.rationale || '',\r\n        steps: raw.strategy?.steps || raw.funnel_strategy?.steps || raw.steps || raw.estrategias_aumento_ltv || []\r\n      },\r\n      market_data: raw.market_data || raw.data || [],\r\n      assets: raw.assets || []\r\n    };\r\n\r\n    // US-11.24 Ultra-Resili√™ncia: Se temos passos mas o summary falhou, for√ßamos um summary padr√£o\r\n    if (normalized.strategy && !normalized.strategy.summary && normalized.strategy.steps && normalized.strategy.steps.length > 0) {\r\n      normalized.strategy.summary = 'Estrat√©gia Detalhada';\r\n    }\r\n\r\n    // Se n√£o tem nem passos nem resumo, n√£o √© um payload v√°lido\r\n    if (!normalized.strategy?.summary && (!normalized.strategy?.steps || normalized.strategy.steps.length === 0)) {\r\n      return null;\r\n    }\r\n\r\n    return normalized as CouncilOutput;\r\n  };\r\n\r\n  const normalizedData = getNormalizedData(data);\r\n\r\n  if (!normalizedData) {\r\n    console.warn('[AssetPreview] Payload da IA n√£o p√¥de ser normalizado. Chaves encontradas:', Object.keys(data || {}));\r\n    return null;\r\n  }\r\n\r\n  const handleCopy = (text: string, index: number) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopiedIndex(index);\r\n    setTimeout(() => setCopiedIndex(null), 2000);\r\n  };\r\n\r\n  const getAssetIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'DM_SCRIPT': return <MessageSquare className=\"h-4 w-4\" />;\r\n      case 'STORY_SEQUENCE': return <Layers className=\"h-4 w-4\" />;\r\n      case 'AD_COPY': return <Megaphone className=\"h-4 w-4\" />;\r\n      case 'HOOK': return <Zap className=\"h-4 w-4\" />;\r\n      case 'VSL_OUTLINE': return <FileText className=\"h-4 w-4\" />;\r\n      default: return <FileText className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-6 space-y-8 animate-in-up\">\r\n      {/* Strategy Section */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center gap-2 text-emerald-400 font-semibold uppercase tracking-wider text-xs\">\r\n          <Lightbulb className=\"h-4 w-4\" />\r\n          Estrat√©gia Recomendada\r\n        </div>\r\n        <Card className=\"card-premium p-6\">\r\n          <h3 className=\"text-xl font-bold text-white mb-2\">{normalizedData.strategy.summary}</h3>\r\n          {normalizedData.strategy.rationale && (\r\n            <p className=\"text-zinc-400 text-sm mb-4 leading-relaxed\">{normalizedData.strategy.rationale}</p>\r\n          )}\r\n          <div className=\"space-y-2\">\r\n            {normalizedData.strategy.steps?.map((step, idx) => (\r\n              <div key={idx} className=\"flex items-start gap-3 text-zinc-300 text-sm\">\r\n                <div className=\"mt-1 flex-shrink-0 w-5 h-5 rounded-full bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center text-[10px] font-bold text-emerald-400\">\r\n                  {idx + 1}\r\n                </div>\r\n                <span>{typeof step === 'string' ? step : JSON.stringify(step)}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Market Data Grid */}\r\n      {normalizedData.market_data && normalizedData.market_data.length > 0 && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center gap-2 text-emerald-400 font-semibold uppercase tracking-wider text-xs\">\r\n            <BarChart3 className=\"h-4 w-4\" />\r\n            Benchmarks de 2026\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {data.market_data.map((item, idx) => (\r\n              <Card key={idx} className=\"card-premium card-hover p-5 flex flex-col justify-between\">\r\n                <div>\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <span className=\"text-zinc-500 text-xs font-medium uppercase tracking-tight\">{item.label}</span>\r\n                    <Badge className={cn(\r\n                      \"text-[10px] font-bold uppercase\",\r\n                      item.status === 'success' ? 'badge-success' : \r\n                      item.status === 'warning' ? 'badge-warning' : \r\n                      item.status === 'danger' ? 'badge-error' : 'bg-zinc-800'\r\n                    )}>\r\n                      {item.status}\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"flex items-baseline gap-2\">\r\n                    <span className=\"stat-value text-2xl\">\r\n                      {item.value}\r\n                      {item.unit === '%' ? '%' : ''}\r\n                    </span>\r\n                    <div className=\"flex items-center gap-1 text-[10px] text-zinc-500\">\r\n                      <ArrowRight className=\"h-3 w-3\" />\r\n                      <span>Meta 2026: {item.benchmark_2026}{item.unit === '%' ? '%' : ''}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-4 pt-4 border-t border-white/[0.04] text-[10px] text-zinc-600 italic\">\r\n                  {item.source_context}\r\n                </div>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Assets Section */}\r\n      {data.assets && data.assets.length > 0 && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center gap-2 text-emerald-400 font-semibold uppercase tracking-wider text-xs\">\r\n            <Zap className=\"h-4 w-4\" />\r\n            Ativos Prontos para Uso\r\n          </div>\r\n          <div className=\"space-y-4\">\r\n            {data.assets.map((asset, idx) => (\r\n              <div key={idx} className=\"group relative\">\r\n                <Card className=\"card-premium p-0 overflow-hidden border-white/[0.06] hover:border-emerald-500/30 transition-colors\">\r\n                  <div className=\"flex items-center justify-between px-4 py-3 bg-white/[0.02] border-b border-white/[0.04]\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"p-1.5 rounded-md bg-emerald-500/10 text-emerald-400\">\r\n                        {getAssetIcon(asset.type)}\r\n                      </div>\r\n                      <div>\r\n                        <h4 className=\"text-sm font-bold text-zinc-200\">{asset.title}</h4>\r\n                        <span className=\"text-[10px] text-zinc-500 uppercase tracking-widest\">{asset.type}</span>\r\n                      </div>\r\n                    </div>\r\n                    <Button \r\n                      variant=\"ghost\" \r\n                      size=\"sm\" \r\n                      className=\"h-8 px-2 gap-1.5 text-xs text-zinc-400 hover:text-emerald-400 hover:bg-emerald-500/10\"\r\n                      onClick={() => handleCopy(asset.content, idx)}\r\n                    >\r\n                      {copiedIndex === idx ? (\r\n                        <>\r\n                          <Check className=\"h-3.5 w-3.5\" />\r\n                          Copiado\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Copy className=\"h-3.5 w-3.5\" />\r\n                          Copiar Script\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"p-4 bg-zinc-950/30\">\r\n                    <pre className=\"text-xs sm:text-sm text-zinc-300 whitespace-pre-wrap font-mono leading-relaxed\">\r\n                      {asset.content}\r\n                    </pre>\r\n                  </div>\r\n                  <div className=\"px-4 py-2 bg-white/[0.01] text-[10px] text-zinc-600 flex justify-between items-center\">\r\n                    <span>Refer√™ncia: {asset.counselor_reference}</span>\r\n                    <span className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                      <Check className=\"h-3 w-3 text-emerald-500\" /> Pronto para disparar\r\n                    </span>\r\n                  </div>\r\n                </Card>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { User, Bot, Check, Copy, Gavel, Share2, ArrowRight, Sparkles } from 'lucide-react';\r\nimport { MarkdownRenderer } from './markdown-renderer';\r\nimport { CounselorBadges, SourcesList } from './counselor-badges';\r\nimport { DesignGenerationCard } from './design-generation-card';\r\nimport { AssetPreview } from '../council/asset-preview';\r\nimport { cn } from '@/lib/utils';\r\nimport { parsePartyResponse, PartySection, getInteractionSummary } from '@/lib/utils/party-parser';\r\nimport { COUNSELORS_REGISTRY } from '@/lib/constants';\r\n\r\nexport interface MessageData {\r\n  id: string;\r\n  role: string;\r\n  content: string;\r\n  createdAt?: {\r\n    toDate: () => Date;\r\n  };\r\n  metadata?: {\r\n    sources?: Array<{ file: string; section?: string; counselor?: string; similarity?: number }>;\r\n    counselors?: string[];\r\n  };\r\n}\r\n\r\ninterface ChatMessageBubbleProps {\r\n  message: MessageData;\r\n  index: number;\r\n  campaignId?: string | null;\r\n}\r\n\r\nexport function ChatMessageBubble({ \r\n  message, \r\n  index,\r\n  campaignId\r\n}: ChatMessageBubbleProps) {\r\n  const [copied, setCopied] = useState(false);\r\n  const isUser = message.role === 'user';\r\n\r\n  // US-1.5.2: Detec√ß√£o de Output Estruturado do Conselho (Extra√ß√£o Robusta ST-11.6)\r\n  const detectCouncilOutput = (content: string) => {\r\n    const marker = '[COUNCIL_OUTPUT]:';\r\n    if (!content.includes(marker)) return null;\r\n\r\n    try {\r\n      const startIndex = content.indexOf(marker);\r\n      const startOfJson = content.indexOf('{', startIndex);\r\n      if (startOfJson === -1) return null;\r\n\r\n      let braceCount = 0;\r\n      let inString = false;\r\n      let escape = false;\r\n      let jsonStr = null;\r\n\r\n      for (let i = startOfJson; i < content.length; i++) {\r\n        const char = content[i];\r\n        if (escape) { escape = false; continue; }\r\n        if (char === '\\\\') { escape = true; continue; }\r\n        if (char === '\"') { inString = !inString; continue; }\r\n        \r\n        if (!inString) {\r\n          if (char === '{') braceCount++;\r\n          else if (char === '}') {\r\n            braceCount--;\r\n            if (braceCount === 0) {\r\n              jsonStr = content.substring(startOfJson, i + 1);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (jsonStr) {\r\n        let cleanedJson = jsonStr\r\n          .replace(/,\\s*([}\\]])/g, '$1') // Remove v√≠rgulas pendentes\r\n          .replace(/(\\r\\n|\\n|\\r)/gm, \" \"); // Transforma quebras em espa√ßos\r\n          \r\n        return JSON.parse(cleanedJson);\r\n      }\r\n    } catch (e) {\r\n      console.warn('Council output found but could not be parsed as valid JSON.', e);\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // US-20.3: Detec√ß√£o de Prompts do NanoBanana (Plural)\r\n  const detectNanobananaPrompts = (content: string) => {\r\n    if (!content.includes('[NANOBANANA_PROMPT]')) return [];\r\n\r\n    const prompts: any[] = [];\r\n    const marker = '[NANOBANANA_PROMPT]';\r\n    \r\n    try {\r\n      let searchIndex = 0;\r\n      while ((searchIndex = content.indexOf(marker, searchIndex)) !== -1) {\r\n        const startOfJson = content.indexOf('{', searchIndex);\r\n        if (startOfJson === -1) {\r\n          searchIndex += marker.length;\r\n          continue;\r\n        }\r\n\r\n        // Extra√ß√£o Robusta: Encontrar o fechamento balanceado das chaves\r\n        let braceCount = 0;\r\n        let inString = false;\r\n        let escape = false;\r\n        let jsonStr = null;\r\n\r\n        for (let i = startOfJson; i < content.length; i++) {\r\n          const char = content[i];\r\n          if (escape) { escape = false; continue; }\r\n          if (char === '\\\\') { escape = true; continue; }\r\n          if (char === '\"') { inString = !inString; continue; }\r\n          \r\n          if (!inString) {\r\n            if (char === '{') braceCount++;\r\n            else if (char === '}') {\r\n              braceCount--;\r\n              if (braceCount === 0) {\r\n                jsonStr = content.substring(startOfJson, i + 1);\r\n                searchIndex = i + 1;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (jsonStr) {\r\n          try {\r\n            // Limpeza agressiva para JSON de IA\r\n            let cleanedJson = jsonStr\r\n              .replace(/```json/g, '').replace(/```/g, '') // Remove markdown\r\n              .replace(/,\\s*([}\\]])/g, '$1') // Remove v√≠rgulas pendentes\r\n              .replace(/(\\r\\n|\\n|\\r)/gm, \" \"); // Transforma quebras em espa√ßos para evitar erros de string\r\n\r\n            // Tenta parsear\r\n            const parsed = JSON.parse(cleanedJson);\r\n            // ST-11.9: Suporte a visualPrompt (novo contrato) ou prompt (legado)\r\n            if (parsed.visualPrompt || parsed.prompt) {\r\n              prompts.push(parsed);\r\n            }\r\n          } catch (e) {\r\n            console.warn('Falha ao parsear bloco extra√≠do:', jsonStr);\r\n            // Fallback: Se falhou o parse mas temos o texto, tenta extrator via regex campo a campo\r\n            const extractField = (field: string, source: string) => {\r\n              const regex = new RegExp(`\"${field}\"\\\\s*:\\\\s*\"([\\\\s\\\\S]*?)\"(?=\\\\s*[,}])`);\r\n              const m = source.match(regex);\r\n              return m ? m[1].trim() : null;\r\n            };\r\n            const p = extractField('visualPrompt', jsonStr) || extractField('prompt', jsonStr);\r\n            if (p) {\r\n              prompts.push({\r\n                platform: extractField('platform', jsonStr) || 'universal',\r\n                format: extractField('format', jsonStr) || 'square',\r\n                safeZone: extractField('safeZone', jsonStr) || 'feed',\r\n                visualPrompt: p.replace(/\\\\\"/g, '\"'),\r\n                prompt: p.replace(/\\\\\"/g, '\"'), // Retrocompatibilidade para o card\r\n                aspectRatio: extractField('aspectRatio', jsonStr) || '1:1'\r\n              });\r\n            }\r\n          }\r\n        } else {\r\n          searchIndex += marker.length;\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn('Erro geral na detec√ß√£o de prompts NanoBanana.', e);\r\n    }\r\n    \r\n    return prompts;\r\n  };\r\n\r\n  const nanobananaPrompts = !isUser ? detectNanobananaPrompts(message.content) : [];\r\n  const councilOutput = !isUser ? detectCouncilOutput(message.content) : null;\r\n  const partySections = !isUser ? parsePartyResponse(message.content) : [];\r\n  const interactions = !isUser ? getInteractionSummary(partySections) : [];\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(message.content);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 10 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3, delay: index * 0.03 }}\r\n      className={cn(\r\n        'group flex gap-3 sm:gap-4 px-3 sm:px-6 py-4 sm:py-5 border-b border-white/[0.02]',\r\n        isUser ? 'bg-transparent' : 'bg-white/[0.01]'\r\n      )}\r\n    >\r\n      {/* Avatar */}\r\n      <div className=\"flex-shrink-0 pt-0.5\">\r\n        {isUser ? (\r\n          <div className=\"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-lg bg-zinc-800 text-sm font-medium text-zinc-300 shadow-sm\">\r\n            <User className=\"h-3.5 w-3.5 sm:h-4 sm:w-4\" />\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 shadow-lg shadow-emerald-500/10\">\r\n            <Bot className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 text-white\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <div className=\"flex items-center justify-between gap-2 mb-1 sm:mb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-[13px] sm:text-sm font-semibold text-zinc-300\">\r\n              {isUser ? 'Voc√™' : 'Conselho'}\r\n            </span>\r\n            {message.createdAt && (\r\n              <span className=\"text-[10px] sm:text-xs text-zinc-600 font-medium\">\r\n                {message.createdAt.toDate?.().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Message Content - Markdown or Text */}\r\n        <div className=\"text-[15px] sm:text-base leading-relaxed text-zinc-200\">\r\n          {isUser ? (\r\n            <p className=\"whitespace-pre-wrap\">{message.content}</p>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {/* Interaction Map Summary (ST-6.4) */}\r\n              {interactions.length > 0 && (\r\n                <div className=\"mb-6 flex flex-wrap items-center gap-y-2 gap-x-3 p-3 rounded-xl bg-white/[0.02] border border-white/[0.05] shadow-sm\">\r\n                  <div className=\"flex items-center gap-1.5 text-[10px] text-zinc-500 font-bold uppercase tracking-widest border-r border-white/10 pr-3\">\r\n                    <Share2 className=\"h-3 w-3\" />\r\n                    <span>Fluxo de Debate</span>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap items-center gap-2\">\r\n                    {interactions.map((interaction, i) => {\r\n                      const from = COUNSELORS_REGISTRY[interaction.from];\r\n                      return (\r\n                        <div key={i} className=\"flex items-center gap-1.5\">\r\n                          <span className=\"text-xs\" title={from.name}>{from.icon}</span>\r\n                          <ArrowRight className=\"h-2 w-2 text-zinc-600\" />\r\n                          <div className=\"flex -space-x-1\">\r\n                            {interaction.to.map(toId => {\r\n                              const to = COUNSELORS_REGISTRY[toId];\r\n                              return (\r\n                                <span key={toId} className=\"text-xs\" title={to.name}>{to.icon}</span>\r\n                              );\r\n                            })}\r\n                          </div>\r\n                          {i < interactions.length - 1 && <div className=\"h-3 w-px bg-white/10 mx-1\" />}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {partySections.length > 0 ? (\r\n                partySections.map((section, idx) => {\r\n                  if (section.type === 'header') {\r\n                    return (\r\n                      <h3 key={idx} className=\"text-lg font-bold text-white flex items-center gap-2 mb-4 border-b border-white/10 pb-2\">\r\n                        {section.content.replace('###', '').trim()}\r\n                      </h3>\r\n                    );\r\n                  }\r\n\r\n                  if (section.type === 'agent') {\r\n                    const agent = section.agentId ? COUNSELORS_REGISTRY[section.agentId] : null;\r\n                    const color = agent?.color || '#10b981'; // Fallback to emerald\r\n                    const icon = agent?.icon || 'üí¨';\r\n\r\n                    return (\r\n                      <div key={idx} className=\"relative group/agent pl-4 border-l-2\" style={{ borderLeftColor: color }}>\r\n                        <div className=\"flex items-center justify-between gap-2 mb-1\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-lg\">{icon}</span>\r\n                            <span className=\"font-bold text-sm uppercase tracking-wider\" style={{ color }}>\r\n                              {section.agentName}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {/* Men√ß√µes / Flow Indicator */}\r\n                          {section.mentions && section.mentions.length > 0 && (\r\n                            <div className=\"flex items-center gap-1.5 opacity-60 group-hover/agent:opacity-100 transition-opacity\">\r\n                              <div className=\"flex -space-x-2\">\r\n                                {section.mentions.map(mId => {\r\n                                  const m = COUNSELORS_REGISTRY[mId];\r\n                                  return (\r\n                                    <div \r\n                                      key={mId} \r\n                                      className=\"h-5 w-5 rounded-full bg-zinc-900 border border-white/10 flex items-center justify-center text-[10px]\"\r\n                                      title={`Citando ${m?.name}`}\r\n                                    >\r\n                                      {m?.icon}\r\n                                    </div>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                              <Share2 className=\"h-3 w-3 text-zinc-500\" />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        <MarkdownRenderer \r\n                          content={section.content} \r\n                          components={{\r\n                            strong: ({ node, ...props }: any) => {\r\n                              const text = props.children?.toString() || '';\r\n                              // Busca se o texto em negrito √© o nome de algum conselheiro\r\n                              const mentionedAgent = Object.values(COUNSELORS_REGISTRY).find(\r\n                                c => text.includes(c.name) || text.toUpperCase() === c.name.toUpperCase()\r\n                              );\r\n\r\n                              if (mentionedAgent) {\r\n                                return (\r\n                                  <span \r\n                                    className=\"px-1.5 py-0.5 rounded bg-white/5 border border-white/10 text-xs font-bold inline-flex items-center gap-1 mx-0.5 group/mention cursor-default\"\r\n                                    style={{ color: mentionedAgent.color }}\r\n                                  >\r\n                                    <span className=\"group-hover/mention:scale-110 transition-transform\">{mentionedAgent.icon}</span>\r\n                                    {text}\r\n                                    <ArrowRight className=\"h-2 w-2 opacity-0 -ml-1 group-hover/mention:opacity-100 transition-all\" />\r\n                                  </span>\r\n                                );\r\n                              }\r\n                              return <strong className=\"text-white font-semibold\" {...props} />;\r\n                            }\r\n                          }}\r\n                        />\r\n\r\n                        {/* Visual Connection (Optional: could be more elaborate) */}\r\n                        {section.mentions && section.mentions.length > 0 && (\r\n                          <div className=\"mt-2 flex items-center gap-2 text-[10px] text-zinc-500 font-medium\">\r\n                            <div className=\"h-px flex-1 bg-gradient-to-r from-white/5 to-transparent\" />\r\n                            <span className=\"uppercase tracking-tighter opacity-50\">Cross-Reference Flow</span>\r\n                            <div className=\"h-px flex-1 bg-gradient-to-l from-white/5 to-transparent\" />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  }\r\n\r\n                  if (section.type === 'verdict') {\r\n                    return (\r\n                      <div key={idx} className=\"mt-6 relative overflow-hidden p-0.5 rounded-xl bg-gradient-to-r from-emerald-500 via-blue-500 to-purple-500 animate-gradient-x shadow-lg shadow-emerald-500/10\">\r\n                        <div className=\"bg-zinc-900/95 backdrop-blur-sm p-4 rounded-[10px] h-full w-full\">\r\n                          <div className=\"flex items-center gap-2 mb-3\">\r\n                            <div className=\"p-1.5 rounded-lg bg-emerald-500/20 text-emerald-400\">\r\n                              <Gavel className=\"h-4 w-4\" />\r\n                            </div>\r\n                            <span className=\"font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-blue-400 uppercase tracking-wider text-sm\">\r\n                              Veredito do Conselho\r\n                            </span>\r\n                          </div>\r\n                          <MarkdownRenderer \r\n                            content={section.content.replace('[VEREDITO_DO_CONSELHO]', '').trim()} \r\n                            className=\"prose-p:text-zinc-100 prose-p:font-medium\" \r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n\r\n                  return <MarkdownRenderer key={idx} content={section.content} />;\r\n                })\r\n              ) : (\r\n                <MarkdownRenderer content={message.content} />\r\n              )}\r\n\r\n              {nanobananaPrompts.length > 0 && (\r\n                <div className=\"space-y-4 mt-4 border-t border-purple-500/10 pt-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <Sparkles className=\"h-4 w-4 text-purple-400\" />\r\n                    <span className=\"text-xs font-bold text-purple-300 uppercase tracking-wider\">A√ß√µes de Design Dispon√≠veis</span>\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    {nanobananaPrompts.map((prompt, idx) => (\r\n                      <DesignGenerationCard \r\n                        key={`${message.id}-design-${idx}`}\r\n                        promptData={prompt} \r\n                        conversationId={message.id} \r\n                        campaignId={campaignId}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {councilOutput && (\r\n                <AssetPreview data={councilOutput} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Counselor Badges */}\r\n        {!isUser && (message.metadata?.counselors || message.metadata?.sources) && (\r\n          <div className=\"mt-2\">\r\n            <CounselorBadges \r\n              counselors={message.metadata.counselors}\r\n              sources={message.metadata.sources}\r\n              compact\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Sources */}\r\n        {!isUser && message.metadata?.sources && message.metadata.sources.length > 0 && (\r\n          <div className=\"mt-2\">\r\n            <SourcesList sources={message.metadata.sources} />\r\n          </div>\r\n        )}\r\n\r\n        {/* Copy button */}\r\n        {!isUser && (\r\n          <div className=\"mt-3 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity\">\r\n            <button\r\n              onClick={handleCopy}\r\n              className=\"flex items-center gap-1.5 h-8 px-2 -ml-2 rounded-lg text-xs text-zinc-500 hover:text-zinc-300 hover:bg-white/[0.03] transition-colors\"\r\n            >\r\n              {copied ? (\r\n                <>\r\n                  <Check className=\"h-3.5 w-3.5\" />\r\n                  Copiado\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Copy className=\"h-3.5 w-3.5\" />\r\n                  Copiar\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { Bot } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { ChatMessageBubble, MessageData } from './chat-message-bubble';\r\n\r\ninterface ChatMessageListProps {\r\n  messages: MessageData[];\r\n  isSending: boolean;\r\n  accentColor: string;\r\n  campaignId?: string | null;\r\n}\r\n\r\nexport function ChatMessageList({\r\n  messages,\r\n  isSending,\r\n  accentColor,\r\n  campaignId,\r\n}: ChatMessageListProps) {\r\n  return (\r\n    <div className=\"flex flex-col w-full pb-32\">\r\n      {messages.map((message, index) => (\r\n        <ChatMessageBubble\r\n          key={message.id}\r\n          message={message}\r\n          index={index}\r\n          campaignId={campaignId}\r\n        />\r\n      ))}\r\n      \r\n      {isSending && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"flex gap-4 px-6 py-5 bg-white/[0.01]\"\r\n        >\r\n          <div className={cn(\r\n            'flex h-8 w-8 items-center justify-center rounded-lg',\r\n            accentColor === 'indigo'\r\n              ? 'bg-gradient-to-br from-indigo-500 to-indigo-600'\r\n              : accentColor === 'amber'\r\n              ? 'bg-gradient-to-br from-amber-500 to-amber-600'\r\n              : 'bg-gradient-to-br from-emerald-500 to-emerald-600'\r\n          )}>\r\n            <Bot className=\"h-4 w-4 text-white\" />\r\n          </div>\r\n          <div className=\"flex flex-col gap-1 justify-center\">\r\n            <span className=\"text-[10px] uppercase tracking-wider font-bold text-zinc-500 animate-pulse\">\r\n              Consultando Contexto...\r\n            </span>\r\n            <div className=\"flex items-center gap-1.5\">\r\n              {[0, 0.2, 0.4].map((delay) => (\r\n                <motion.div\r\n                  key={delay}\r\n                  animate={{ scale: [1, 1.2, 1] }}\r\n                  transition={{ duration: 0.6, repeat: Infinity, delay }}\r\n                  className={cn(\r\n                    'h-1.5 w-1.5 rounded-full',\r\n                    accentColor === 'indigo' ? 'bg-indigo-500/50' : accentColor === 'amber' ? 'bg-amber-500/50' : 'bg-emerald-500/50'\r\n                  )}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { Bot, Sparkles } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { ChatMode } from './chat-mode-selector';\r\nimport { CHAT_MODES, COUNSELORS_REGISTRY } from '@/lib/constants';\r\nimport { CounselorId } from '@/types';\r\n\r\ninterface ChatEmptyStateProps {\r\n  onSuggestionClick: (text: string) => void;\r\n  mode: ChatMode;\r\n}\r\n\r\nexport function ChatEmptyState({ \r\n  onSuggestionClick,\r\n  mode,\r\n}: ChatEmptyStateProps) {\r\n  const funnelSuggestions = [\r\n    'Como estruturar um funil de quiz?',\r\n    'Minha taxa de convers√£o est√° baixa',\r\n    'Qual tipo de funil para high ticket?',\r\n    'Como aplicar a Value Ladder?',\r\n  ];\r\n\r\n  const copySuggestions = [\r\n    'Como criar headlines que convertem?',\r\n    'Qual copy para audi√™ncia fria?',\r\n    'Como estruturar uma oferta irresist√≠vel?',\r\n    'Me ajude com uma sequ√™ncia de emails',\r\n  ];\r\n\r\n  const socialSuggestions = [\r\n    'Como viralizar no TikTok em 2025?',\r\n    'Ideias de hooks para Reels de 15s',\r\n    'Como converter seguidores em leads?',\r\n    'Estrat√©gia de conte√∫do para LinkedIn',\r\n  ];\r\n\r\n  const adsSuggestions = [\r\n    'Qual o melhor criativo para Meta Ads?',\r\n    'Como baixar o CPA no TikTok?',\r\n    'Estrat√©gia de escala para $10k/dia',\r\n    'Como evitar bloqueios no Facebook?',\r\n  ];\r\n\r\n  const designSuggestions = [\r\n    'Como estruturar uma thumbnail de YouTube?',\r\n    'Briefing para carrossel do Instagram',\r\n    'Crie um prompt de criativo est√°tico',\r\n    'Checklist de design para convers√£o',\r\n  ];\r\n\r\n  const generalSuggestions = [\r\n    'Como criar urg√™ncia sem ser apelativo?',\r\n    'Como qualificar leads no topo do funil?',\r\n    'Preciso melhorar meu VSL script',\r\n    'Como aumentar o LTV dos clientes?',\r\n  ];\r\n\r\n  const suggestions = \r\n    mode === 'funnel' ? funnelSuggestions : \r\n    mode === 'copy' ? copySuggestions : \r\n    mode === 'social' ? socialSuggestions :\r\n    mode === 'ads' ? adsSuggestions :\r\n    mode === 'design' ? designSuggestions :\r\n    generalSuggestions;\r\n\r\n  const accentColor = \r\n    mode === 'funnel' ? 'indigo' : \r\n    mode === 'copy' ? 'amber' : \r\n    mode === 'social' ? 'rose' :\r\n    mode === 'ads' ? 'blue' :\r\n    mode === 'design' ? 'purple' :\r\n    'emerald';\r\n\r\n  return (\r\n    <div className=\"flex h-full flex-col items-center justify-center p-4 sm:p-8\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.9 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        transition={{ duration: 0.4 }}\r\n        className=\"text-center max-w-2xl\"\r\n      >\r\n        {/* Logo */}\r\n        <div className=\"relative mx-auto mb-4 sm:mb-8 scale-90 sm:scale-100\">\r\n          <div className={cn(\r\n            'absolute inset-0 rounded-3xl blur-2xl opacity-40',\r\n            accentColor === 'indigo' ? 'bg-indigo-500/20' : \r\n            accentColor === 'amber' ? 'bg-amber-500/20' : \r\n            accentColor === 'rose' ? 'bg-rose-500/20' :\r\n            accentColor === 'blue' ? 'bg-blue-500/20' :\r\n            accentColor === 'purple' ? 'bg-purple-500/20' :\r\n            'bg-emerald-500/20'\r\n          )} />\r\n          <div className={cn(\r\n            'relative flex h-16 w-16 sm:h-20 sm:w-20 items-center justify-center rounded-2xl sm:rounded-3xl shadow-xl mx-auto',\r\n            accentColor === 'indigo' \r\n              ? 'bg-gradient-to-br from-indigo-500 to-indigo-600 shadow-indigo-500/20' \r\n              : accentColor === 'amber'\r\n              ? 'bg-gradient-to-br from-amber-500 to-amber-600 shadow-amber-500/20'\r\n              : accentColor === 'rose'\r\n              ? 'bg-gradient-to-br from-rose-500 to-rose-600 shadow-rose-500/20'\r\n              : accentColor === 'blue'\r\n              ? 'bg-gradient-to-br from-blue-500 to-blue-600 shadow-blue-500/20'\r\n              : accentColor === 'purple'\r\n              ? 'bg-gradient-to-br from-purple-500 to-purple-600 shadow-purple-500/20'\r\n              : 'bg-gradient-to-br from-emerald-500 to-emerald-600 shadow-emerald-500/20'\r\n          )}>\r\n            <Bot className=\"h-8 w-8 sm:h-10 sm:w-10 text-white\" />\r\n          </div>\r\n        </div>\r\n\r\n        <h2 className=\"text-lg sm:text-2xl font-bold text-white mb-2 sm:mb-3\">\r\n          {CHAT_MODES[mode].title}\r\n        </h2>\r\n        <p className=\"text-xs sm:text-base text-zinc-500 mb-6 sm:mb-8 leading-relaxed px-6 sm:px-4\">\r\n          {mode === 'funnel' && `Consulte especialistas em arquitetura de funil, qualifica√ß√£o, LTV e monetiza√ß√£o.`}\r\n          {mode === 'copy' && `Consulte copywriters lend√°rios sobre headlines, persuas√£o, ofertas e estrutura.`}\r\n          {mode === 'social' && `Consulte especialistas em redes sociais e viraliza√ß√£o.`}\r\n          {mode === 'ads' && `Consulte especialistas em tr√°fego pago, escala e otimiza√ß√£o de campanhas.`}\r\n          {mode === 'design' && `Consulte o Diretor de Design para criar briefings visuais e prompts de alta convers√£o.`}\r\n          {mode === 'general' && `Pergunte sobre funis, ofertas, copy e estrat√©gias de growth.`}\r\n        </p>\r\n\r\n        {/* Suggestions */}\r\n        <div className=\"grid grid-cols-1 xs:grid-cols-2 gap-2 mb-8 px-4 sm:px-0 max-w-lg mx-auto\">\r\n          {suggestions.map((suggestion, index) => (\r\n            <motion.button\r\n              key={suggestion}\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.3, delay: 0.1 + index * 0.05 }}\r\n              onClick={() => onSuggestionClick(suggestion)}\r\n              className={cn(\r\n                'flex items-center gap-2 rounded-xl border px-3 py-2.5 sm:px-4 sm:py-3 text-[13px] sm:text-sm text-zinc-300 transition-all text-left',\r\n                accentColor === 'indigo'\r\n                  ? 'border-white/[0.04] bg-white/[0.01] hover:border-indigo-500/30 hover:bg-indigo-500/5'\r\n                  : accentColor === 'amber'\r\n                  ? 'border-white/[0.04] bg-white/[0.01] hover:border-amber-500/30 hover:bg-amber-500/5'\r\n                  : accentColor === 'rose'\r\n                  ? 'border-white/[0.04] bg-white/[0.01] hover:border-rose-500/30 hover:bg-rose-500/5'\r\n                  : 'border-white/[0.04] bg-white/[0.01] hover:border-emerald-500/30 hover:bg-emerald-500/5'\r\n              )}\r\n            >\r\n              <Sparkles className={cn(\r\n                'h-3.5 w-3.5 shrink-0 opacity-70',\r\n                accentColor === 'indigo' ? 'text-indigo-400' : accentColor === 'amber' ? 'text-amber-400' : accentColor === 'rose' ? 'text-rose-400' : 'text-emerald-400'\r\n              )} />\r\n              <span className=\"line-clamp-1\">{suggestion}</span>\r\n            </motion.button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Counselors - Hidden on very small screens or more compact */}\r\n        <div className=\"hidden sm:block space-y-4\">\r\n          {mode === 'funnel' && (\r\n            <div>\r\n              <p className=\"text-xs text-zinc-600 uppercase tracking-wider mb-2\">Conselho de Funil</p>\r\n              <div className=\"flex flex-wrap justify-center gap-2\">\r\n                {CHAT_MODES.funnel.counselors.map((id, index) => {\r\n                  const counselor = COUNSELORS_REGISTRY[id];\r\n                  if (!counselor) return null;\r\n                  return (\r\n                    <motion.div\r\n                      key={id}\r\n                      initial={{ opacity: 0, scale: 0.8 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      transition={{ duration: 0.2, delay: 0.5 + index * 0.05 }}\r\n                      className=\"flex items-center gap-1.5 rounded-full bg-zinc-800/50 px-3 py-1.5\"\r\n                      title={counselor.expertise}\r\n                    >\r\n                      <span className=\"text-sm\">{counselor.icon}</span>\r\n                      <span className=\"text-xs text-zinc-400\">\r\n                        {counselor.name.split(' ').slice(-1)[0]}\r\n                      </span>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {mode === 'copy' && (\r\n            <div>\r\n              <p className=\"text-xs text-zinc-600 uppercase tracking-wider mb-2\">Conselho de Copy</p>\r\n              <div className=\"flex flex-wrap justify-center gap-2\">\r\n                {CHAT_MODES.copy.counselors.map((id, index) => {\r\n                  const counselor = COUNSELORS_REGISTRY[id];\r\n                  if (!counselor) return null;\r\n                  return (\r\n                    <motion.div\r\n                      key={id}\r\n                      initial={{ opacity: 0, scale: 0.8 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      transition={{ duration: 0.2, delay: 0.7 + index * 0.05 }}\r\n                      className=\"flex items-center gap-1.5 rounded-full bg-zinc-800/50 px-3 py-1.5\"\r\n                      title={counselor.expertise}\r\n                    >\r\n                      <span className=\"text-sm\">{counselor.icon}</span>\r\n                      <span className=\"text-xs text-zinc-400\">\r\n                        {counselor.name.split(' ').slice(-1)[0]}\r\n                      </span>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {mode === 'social' && (\r\n            <div>\r\n              <p className=\"text-xs text-zinc-600 uppercase tracking-wider mb-2\">Conselho Social</p>\r\n              <div className=\"flex flex-wrap justify-center gap-2\">\r\n                {CHAT_MODES.social.counselors.map((id, index) => {\r\n                  const counselor = COUNSELORS_REGISTRY[id];\r\n                  if (!counselor) return null;\r\n                  return (\r\n                    <motion.div\r\n                      key={id}\r\n                      initial={{ opacity: 0, scale: 0.8 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      transition={{ duration: 0.2, delay: 0.5 + index * 0.05 }}\r\n                      className=\"flex items-center gap-1.5 rounded-full bg-zinc-800/50 px-3 py-1.5\"\r\n                      title={counselor.expertise}\r\n                    >\r\n                      <span className=\"text-sm\">{counselor.icon}</span>\r\n                      <span className=\"text-xs text-zinc-400\">\r\n                        {counselor.name.split(' ').slice(-1)[0]}\r\n                      </span>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {mode === 'ads' && (\r\n            <div>\r\n              <p className=\"text-xs text-zinc-600 uppercase tracking-wider mb-2\">Conselho de Ads</p>\r\n              <div className=\"flex flex-wrap justify-center gap-2\">\r\n                {CHAT_MODES.ads.counselors.map((id, index) => {\r\n                  const counselor = COUNSELORS_REGISTRY[id];\r\n                  if (!counselor) return null;\r\n                  return (\r\n                    <motion.div\r\n                      key={id}\r\n                      initial={{ opacity: 0, scale: 0.8 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      transition={{ duration: 0.2, delay: 0.5 + index * 0.05 }}\r\n                      className=\"flex items-center gap-1.5 rounded-full bg-zinc-800/50 px-3 py-1.5\"\r\n                      title={counselor.expertise}\r\n                    >\r\n                      <span className=\"text-sm\">{counselor.icon}</span>\r\n                      <span className=\"text-xs text-zinc-400\">\r\n                        {counselor.name.split(' ').slice(-1)[0]}\r\n                      </span>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {mode === 'design' && (\r\n            <div>\r\n              <p className=\"text-xs text-zinc-600 uppercase tracking-wider mb-2\">Diretor de Design</p>\r\n              <div className=\"flex flex-wrap justify-center gap-2\">\r\n                {CHAT_MODES.design.counselors.map((id, index) => {\r\n                  const counselor = COUNSELORS_REGISTRY[id];\r\n                  if (!counselor) return null;\r\n                  return (\r\n                    <motion.div\r\n                      key={id}\r\n                      initial={{ opacity: 0, scale: 0.8 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      transition={{ duration: 0.2, delay: 0.5 + index * 0.05 }}\r\n                      className=\"flex items-center gap-1.5 rounded-full bg-zinc-800/50 px-3 py-1.5\"\r\n                      title={counselor.expertise}\r\n                    >\r\n                      <span className=\"text-sm\">{counselor.icon}</span>\r\n                      <span className=\"text-xs text-zinc-400\">\r\n                        {counselor.name}\r\n                      </span>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {mode === 'general' && (\r\n            <div>\r\n              <p className=\"text-xs text-zinc-600 uppercase tracking-wider mb-2\">23 Especialistas do Conselho</p>\r\n              <div className=\"flex flex-wrap justify-center gap-2 px-12\">\r\n                {['russell_brunson', 'dan_kennedy', 'frank_kern', 'eugene_schwartz', 'gary_halbert', 'savannah_sanchez', 'design_director'].map((id, index) => {\r\n                  const counselor = COUNSELORS_REGISTRY[id as CounselorId];\r\n                  if (!counselor) return null;\r\n                  return (\r\n                    <motion.div\r\n                      key={id}\r\n                      initial={{ opacity: 0, scale: 0.8 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      transition={{ duration: 0.2, delay: 0.5 + index * 0.05 }}\r\n                      className=\"flex items-center gap-1.5 rounded-full bg-zinc-800/50 px-3 py-1.5\"\r\n                      title={counselor.expertise}\r\n                    >\r\n                      <span className=\"text-sm\">{counselor.icon}</span>\r\n                      <span className=\"text-xs text-zinc-400\">\r\n                        {id === 'design_director' ? 'Design' : counselor.name.split(' ').slice(-1)[0]}\r\n                      </span>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n                <div className=\"flex items-center gap-1.5 rounded-full bg-emerald-500/10 px-3 py-1.5 border border-emerald-500/20\">\r\n                  <span className=\"text-xs text-emerald-400\">+16 experts</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { Header } from '@/components/layout/header';\r\nimport { useConversations, useConversation } from '@/lib/hooks/use-conversations';\r\nimport { useActiveBrand } from '@/lib/hooks/use-active-brand';\r\nimport { useUser } from '@/lib/hooks/use-user';\r\nimport { ChatSidebar } from '@/components/chat/chat-sidebar';\r\nimport { ChatInputArea } from '@/components/chat/chat-input-area';\r\nimport { ChatMessageList } from '@/components/chat/chat-message-list';\r\nimport { ChatEmptyState } from '@/components/chat/chat-empty-state';\r\nimport { ChatMode } from '@/components/chat/chat-mode-selector';\r\nimport { MessageData } from '@/components/chat/chat-message-bubble';\r\nimport { ActiveContextIndicator } from '@/components/chat/active-context-indicator';\r\nimport { CHAT_MODES } from '@/lib/constants';\r\nimport { PaywallModal } from '@/components/modals/paywall-modal';\r\nimport { CONFIG } from '@/lib/config';\r\n\r\nexport default function ChatPage() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const conversationId = searchParams.get('id');\r\n  const funnelId = searchParams.get('funnelId');\r\n  const rawCampaignId = searchParams.get('campaignId');\r\n  \r\n  // Limpeza de campaignId \"undefined\" vindo da URL (ST-11.6)\r\n  const campaignId = (rawCampaignId === 'undefined' || !rawCampaignId) ? null : rawCampaignId;\r\n  const urlMode = searchParams.get('mode') as ChatMode | null;\r\n  const activeBrand = useActiveBrand(); // Marca ativa para vincular conversas\r\n  const { user } = useUser();\r\n  \r\n  const [chatMode, setChatMode] = useState<ChatMode>('general');\r\n\r\n  // US-20.2: Sincronizar modo da URL\r\n  useEffect(() => {\r\n    if (urlMode && ['general', 'funnel', 'copy', 'social', 'ads', 'design'].includes(urlMode)) {\r\n      setChatMode(urlMode);\r\n    }\r\n  }, [urlMode]);\r\n  const [isCreating, setIsCreating] = useState(false);\r\n  const [isPaywallOpen, setIsPaywallOpen] = useState(false);\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n  const modeConfig = CHAT_MODES[chatMode];\r\n  const accentColor = modeConfig.accentColor;\r\n\r\n  const isBlocked = CONFIG.ENABLE_CREDIT_LIMIT && user?.credits !== undefined && user.credits <= 0;\r\n\r\n  const {\r\n    conversations,\r\n    isLoading: conversationsLoading,\r\n    create: createConversation,\r\n    remove: removeConversation,\r\n  } = useConversations();\r\n  \r\n  const {\r\n    messages,\r\n    isSending,\r\n    sendMessage,\r\n    error: chatError,\r\n  } = useConversation(conversationId);\r\n\r\n  // Monitor chat error for insufficient credits\r\n  useEffect(() => {\r\n    if (chatError === 'Saldo de cr√©ditos insuficiente') {\r\n      setIsPaywallOpen(true);\r\n    }\r\n  }, [chatError]);\r\n\r\n  // Auto-scroll\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n    }\r\n  }, [messages, isSending]);\r\n\r\n  const handleNewConversation = async () => {\r\n    setIsCreating(true);\r\n    try {\r\n      const newId = await createConversation('Nova conversa', activeBrand?.id);\r\n      router.push(`/chat?id=${newId}`);\r\n    } finally {\r\n      setIsCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectConversation = (id: string) => {\r\n    router.push(`/chat?id=${id}`);\r\n  };\r\n\r\n  const handleDeleteConversation = async (id: string, e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    await removeConversation(id);\r\n    if (id === conversationId) {\r\n      router.push('/chat');\r\n    }\r\n  };\r\n\r\n  const handleSend = async (message: string, partyOptions?: { selectedAgents?: string[], intensity?: 'debate' | 'consensus' }) => {\r\n    const apiMode = \r\n      chatMode === 'funnel' ? 'funnel_creation' : \r\n      chatMode === 'copy' ? 'copy' : \r\n      chatMode === 'social' ? 'social' : \r\n      chatMode === 'ads' ? 'ads' : \r\n      chatMode === 'design' ? 'design' :\r\n      chatMode === 'party' ? 'party' :\r\n      'general';\r\n    \r\n    if (!conversationId) {\r\n      const newId = await createConversation('Nova conversa', activeBrand?.id);\r\n      let url = funnelId ? `/chat?id=${newId}&funnelId=${funnelId}` : `/chat?id=${newId}`;\r\n      if (campaignId) url += `&campaignId=${campaignId}`;\r\n      \r\n      router.push(url);\r\n      setTimeout(() => {\r\n        sendMessage(message, apiMode as any, funnelId || undefined, partyOptions, campaignId || undefined);\r\n      }, 500);\r\n      return;\r\n    }\r\n    await sendMessage(message, apiMode as any, funnelId || undefined, partyOptions, campaignId || undefined);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen flex-col\">\r\n      <Header \r\n        title={modeConfig.title} \r\n        subtitle={modeConfig.subtitle} \r\n        actions={<ActiveContextIndicator brandId={activeBrand?.id} />}\r\n      />\r\n\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        <ChatSidebar \r\n          conversations={conversations}\r\n          isLoading={conversationsLoading}\r\n          conversationId={conversationId}\r\n          isCreating={isCreating}\r\n          accentColor={accentColor}\r\n          onNewConversation={handleNewConversation}\r\n          onSelectConversation={handleSelectConversation}\r\n          onDeleteConversation={handleDeleteConversation}\r\n        />\r\n\r\n        <div className=\"flex flex-1 flex-col relative overflow-hidden\">\r\n          <div ref={scrollRef} className=\"flex-1 overflow-y-auto custom-scrollbar bg-[#09090b]\">\r\n            <div className=\"min-h-full flex flex-col justify-end\">\r\n              {!conversationId || messages.length === 0 ? (\r\n                <div className=\"flex-1 flex items-center justify-center\">\r\n                  <ChatEmptyState onSuggestionClick={handleSend} mode={chatMode} />\r\n                </div>\r\n              ) : (\r\n                <ChatMessageList \r\n                  messages={messages as MessageData[]} \r\n                  isSending={isSending} \r\n                  accentColor={accentColor} \r\n                  campaignId={campaignId}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <ChatInputArea \r\n            onSend={handleSend} \r\n            isLoading={isSending} \r\n            disabled={isBlocked}\r\n            disabledMessage=\"Saldo de cr√©ditos insuficiente\"\r\n            mode={chatMode}\r\n            onModeChange={setChatMode}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <PaywallModal \r\n        isOpen={isPaywallOpen} \r\n        onOpenChange={setIsPaywallOpen} \r\n      />\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { \r\n  FileText, \r\n  Link as LinkIcon, \r\n  Image as ImageIcon, \r\n  Sparkles, \r\n  Loader2, \r\n  CheckCircle2, \r\n  AlertCircle,\r\n  BookOpen,\r\n  Target,\r\n  FileSearch,\r\n  ChevronRight,\r\n  Eye,\r\n  FileDown\r\n} from 'lucide-react';\r\nimport { useBrandAssets } from '@/lib/hooks/use-brand-assets';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from '@/components/ui/dialog';\r\nimport { cn } from '@/lib/utils';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { MarkdownRenderer } from './markdown-renderer';\r\nimport { Button } from '@/components/ui/button';\r\nimport type { BrandAsset } from '@/types/database';\r\n\r\ninterface ActiveContextIndicatorProps {\r\n  brandId: string | undefined;\r\n  className?: string;\r\n}\r\n\r\nconst typeIconMap = {\r\n  guideline: BookOpen,\r\n  brand_book: BookOpen,\r\n  strategy: Target,\r\n  reference: FileSearch,\r\n  other: FileText,\r\n  url: LinkIcon,\r\n  image: ImageIcon,\r\n};\r\n\r\nexport function ActiveContextIndicator({ brandId, className }: ActiveContextIndicatorProps) {\r\n  const { assets, isLoading } = useBrandAssets(brandId);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [previewAsset, setPreviewAsset] = useState<BrandAsset | null>(null);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={cn(\"flex items-center gap-2 px-3 py-1.5\", className)}>\r\n        <Loader2 className=\"h-3 w-3 animate-spin text-zinc-500\" />\r\n        <span className=\"text-xs text-zinc-500 font-medium\">Carregando...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const activeCount = assets.length;\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n        <DialogTrigger asChild>\r\n          <button \r\n            className={cn(\r\n              \"group flex items-center gap-2 px-3 h-9 sm:h-8 rounded-full transition-all duration-300\",\r\n              activeCount > 0 \r\n                ? \"bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20\" \r\n                : \"bg-zinc-500/10 hover:bg-zinc-500/20 border border-zinc-500/10\",\r\n              className\r\n            )}\r\n          >\r\n            <div className=\"relative shrink-0\">\r\n              <Sparkles \r\n                className={cn(\r\n                  \"h-4 w-4 sm:h-3.5 sm:w-3.5 transition-transform duration-500 group-hover:rotate-12\",\r\n                  activeCount > 0 ? \"text-emerald-400\" : \"text-zinc-500\"\r\n                )} \r\n              />\r\n              {activeCount > 0 && (\r\n                <span className=\"absolute -top-1 -right-1 flex h-2 w-2\">\r\n                  <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\r\n                  <span className=\"relative inline-flex rounded-full h-2 w-2 bg-emerald-500\"></span>\r\n                </span>\r\n              )}\r\n            </div>\r\n            \r\n            <span className={cn(\r\n              \"text-xs font-medium tracking-tight transition-colors\",\r\n              activeCount > 0 ? \"text-emerald-400\" : \"text-zinc-500\"\r\n            )}>\r\n              {activeCount > 0 ? `${activeCount} Ativos` : \"Sem contexto\"}\r\n            </span>\r\n            \r\n            {activeCount > 0 && (\r\n              <ChevronRight className=\"h-3 w-3 text-emerald-500/50 group-hover:text-emerald-400 transition-colors\" />\r\n            )}\r\n          </button>\r\n        </DialogTrigger>\r\n\r\n        <DialogContent className=\"sm:max-w-[425px] bg-zinc-950 border-white/[0.04] p-0 overflow-hidden shadow-2xl\">\r\n          <DialogHeader className=\"p-6 pb-2\">\r\n            <DialogTitle className=\"flex items-center gap-2 text-white\">\r\n              <Sparkles className=\"h-4 w-4 text-emerald-400\" />\r\n              Contexto Ativo da Marca\r\n            </DialogTitle>\r\n            <p className=\"text-sm text-zinc-500\">\r\n              Documentos que personalizam as respostas da IA.\r\n            </p>\r\n          </DialogHeader>\r\n\r\n          <ScrollArea className=\"max-h-[60vh] px-6 pb-6\">\r\n            <div className=\"space-y-3 mt-4\">\r\n              {activeCount === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n                  <div className=\"h-12 w-12 rounded-full bg-zinc-900 flex items-center justify-center mb-3\">\r\n                    <FileText className=\"h-6 w-6 text-zinc-700\" />\r\n                  </div>\r\n                  <p className=\"text-sm text-zinc-400\">Nenhum asset encontrado.</p>\r\n                </div>\r\n              ) : (\r\n                assets.map((asset) => {\r\n                  const Icon = typeIconMap[asset.type] || FileText;\r\n                  const hasText = !!asset.extractedText?.trim();\r\n                  \r\n                  return (\r\n                    <div \r\n                      key={asset.id}\r\n                      className=\"flex items-center gap-3 p-3 rounded-xl bg-white/[0.02] border border-white/[0.04] hover:bg-white/[0.04] transition-colors group\"\r\n                    >\r\n                      <div className=\"h-10 w-10 rounded-lg bg-zinc-900 flex items-center justify-center border border-white/[0.04] text-zinc-400 group-hover:text-white transition-colors\">\r\n                        <Icon className=\"h-5 w-5\" />\r\n                      </div>\r\n                      \r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center justify-between gap-2\">\r\n                          <h4 className=\"text-sm font-medium text-white truncate\" title={asset.name}>\r\n                            {asset.name}\r\n                          </h4>\r\n                          {hasText && (\r\n                            <button\r\n                              onClick={() => setPreviewAsset(asset)}\r\n                              className=\"shrink-0 p-1.5 rounded-lg text-zinc-500 hover:text-emerald-400 hover:bg-emerald-500/10 transition-all\"\r\n                              title=\"Ver texto extra√≠do\"\r\n                            >\r\n                              <Eye className=\"h-4 w-4\" />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 mt-0.5\">\r\n                          <Badge variant=\"outline\" className=\"text-[10px] h-4 px-1.5 bg-white/[0.02] text-zinc-500 border-white/[0.04] capitalize\">\r\n                            {asset.type.replace('_', ' ')}\r\n                          </Badge>\r\n                          <div className=\"flex items-center gap-1\">\r\n                            {asset.status === 'ready' ? (\r\n                              <>\r\n                                <CheckCircle2 className=\"h-3 w-3 text-emerald-500\" />\r\n                                <span className=\"text-[10px] text-emerald-500/80\">Pronto</span>\r\n                              </>\r\n                            ) : asset.status === 'processing' ? (\r\n                              <>\r\n                                <Loader2 className=\"h-3 w-3 animate-spin text-amber-500\" />\r\n                                <span className=\"text-[10px] text-amber-500/80\">Processando</span>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <AlertCircle className=\"h-3 w-3 text-red-500\" />\r\n                                <span className=\"text-[10px] text-red-500/80\">Erro</span>\r\n                              </>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Preview Modal */}\r\n      <Dialog open={!!previewAsset} onOpenChange={(open) => !open && setPreviewAsset(null)}>\r\n        <DialogContent className=\"sm:max-w-2xl bg-zinc-950 border-white/[0.04] p-0 overflow-hidden shadow-2xl\">\r\n          <DialogHeader className=\"p-6 border-b border-white/[0.04]\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"h-10 w-10 rounded-lg bg-emerald-500/10 flex items-center justify-center text-emerald-400\">\r\n                  <FileText className=\"h-5 w-5\" />\r\n                </div>\r\n                <div>\r\n                  <DialogTitle className=\"text-white text-base\">\r\n                    Preview: {previewAsset?.name}\r\n                  </DialogTitle>\r\n                  <p className=\"text-xs text-zinc-500 mt-0.5\">\r\n                    Texto extra√≠do e processado para o RAG\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <a \r\n                href={previewAsset?.url} \r\n                target=\"_blank\" \r\n                rel=\"noopener noreferrer\"\r\n                className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/[0.03] border border-white/[0.04] text-xs text-zinc-400 hover:text-white hover:bg-white/[0.06] transition-all\"\r\n              >\r\n                <FileDown className=\"h-3.5 w-3.5\" />\r\n                Original\r\n              </a>\r\n            </div>\r\n          </DialogHeader>\r\n\r\n          <ScrollArea className=\"h-[60vh] p-6 bg-zinc-900/30\">\r\n            {previewAsset?.extractedText ? (\r\n              <MarkdownRenderer content={previewAsset.extractedText} />\r\n            ) : (\r\n              <div className=\"flex flex-col items-center justify-center h-full py-12 text-center\">\r\n                <AlertCircle className=\"h-8 w-8 text-zinc-700 mb-3\" />\r\n                <p className=\"text-sm text-zinc-500\">Nenhum texto extra√≠do dispon√≠vel.</p>\r\n              </div>\r\n            )}\r\n          </ScrollArea>\r\n          \r\n          <div className=\"p-4 border-t border-white/[0.04] bg-zinc-950/50 flex justify-end\">\r\n            <Button \r\n              variant=\"ghost\" \r\n              onClick={() => setPreviewAsset(null)}\r\n              className=\"text-zinc-400 hover:text-white hover:bg-white/[0.04]\"\r\n            >\r\n              Fechar Preview\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/context/src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719',\n      key: '1sd12s',\n    },\n  ],\n];\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi45OTIgMTYuMzQyYTIgMiAwIDAgMSAuMDk0IDEuMTY3bC0xLjA2NSAzLjI5YTEgMSAwIDAgMCAxLjIzNiAxLjE2OGwzLjQxMy0uOTk4YTIgMiAwIDAgMSAxLjA5OS4wOTIgMTAgMTAgMCAxIDAtNC43NzctNC43MTkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('message-circle', __iconNode);\n\nexport default MessageCircle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm11 19-6-6', key: 's7kpr' }],\n  ['path', { d: 'm5 21-2-2', key: '1kw20b' }],\n  ['path', { d: 'm8 16-4 4', key: '1oqv8h' }],\n  ['path', { d: 'M9.5 17.5 21 6V3h-3L6.5 14.5', key: 'pkxemp' }],\n];\n\n/**\n * @component @name Sword\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTEgMTktNi02IiAvPgogIDxwYXRoIGQ9Im01IDIxLTItMiIgLz4KICA8cGF0aCBkPSJtOCAxNi00IDQiIC8+CiAgPHBhdGggZD0iTTkuNSAxNy41IDIxIDZWM2gtM0w2LjUgMTQuNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/sword\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sword = createLucideIcon('sword', __iconNode);\n\nexport default Sword;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm11 17 2 2a1 1 0 1 0 3-3', key: 'efffak' }],\n  [\n    'path',\n    {\n      d: 'm14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4',\n      key: '9pr0kb',\n    },\n  ],\n  ['path', { d: 'm21 3 1 11h-2', key: '1tisrp' }],\n  ['path', { d: 'M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3', key: '1uvwmv' }],\n  ['path', { d: 'M3 4h8', key: '1ep09j' }],\n];\n\n/**\n * @component @name Handshake\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTEgMTcgMiAyYTEgMSAwIDEgMCAzLTMiIC8+CiAgPHBhdGggZD0ibTE0IDE0IDIuNSAyLjVhMSAxIDAgMSAwIDMtM2wtMy44OC0zLjg4YTMgMyAwIDAgMC00LjI0IDBsLS44OC44OGExIDEgMCAxIDEtMy0zbDIuODEtMi44MWE1Ljc5IDUuNzkgMCAwIDEgNy4wNi0uODdsLjQ3LjI4YTIgMiAwIDAgMCAxLjQyLjI1TDIxIDQiIC8+CiAgPHBhdGggZD0ibTIxIDMgMSAxMWgtMiIgLz4KICA8cGF0aCBkPSJNMyAzIDIgMTRsNi41IDYuNWExIDEgMCAxIDAgMy0zIiAvPgogIDxwYXRoIGQ9Ik0zIDRoOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/handshake\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Handshake = createLucideIcon('handshake', __iconNode);\n\nexport default Handshake;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 8V4H8', key: 'hb8ula' }],\n  ['rect', { width: '16', height: '12', x: '4', y: '8', rx: '2', key: 'enze0r' }],\n  ['path', { d: 'M2 14h2', key: 'vft8re' }],\n  ['path', { d: 'M20 14h2', key: '4cs60a' }],\n  ['path', { d: 'M15 13v2', key: '1xurst' }],\n  ['path', { d: 'M9 13v2', key: 'rq6x2g' }],\n];\n\n/**\n * @component @name Bot\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgOFY0SDgiIC8+CiAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjEyIiB4PSI0IiB5PSI4IiByeD0iMiIgLz4KICA8cGF0aCBkPSJNMiAxNGgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxNGgyIiAvPgogIDxwYXRoIGQ9Ik0xNSAxM3YyIiAvPgogIDxwYXRoIGQ9Ik05IDEzdjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bot\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bot = createLucideIcon('bot', __iconNode);\n\nexport default Bot;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381', key: 'pgg06f' }],\n  ['path', { d: 'm16 16 6-6', key: 'vzrcl6' }],\n  ['path', { d: 'm21.5 10.5-8-8', key: 'a17d9x' }],\n  ['path', { d: 'm8 8 6-6', key: '18bi4p' }],\n  ['path', { d: 'm8.5 7.5 8 8', key: '1oyaui' }],\n];\n\n/**\n * @component @name Gavel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTQgMTMtOC4zODEgOC4zOGExIDEgMCAwIDEtMy4wMDEtM2w4LjM4NC04LjM4MSIgLz4KICA8cGF0aCBkPSJtMTYgMTYgNi02IiAvPgogIDxwYXRoIGQ9Im0yMS41IDEwLjUtOC04IiAvPgogIDxwYXRoIGQ9Im04IDggNi02IiAvPgogIDxwYXRoIGQ9Im04LjUgNy41IDggOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/gavel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gavel = createLucideIcon('gavel', __iconNode);\n\nexport default Gavel;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551',\n      key: '1miecu',\n    },\n  ],\n];\n\n/**\n * @component @name Paperclip\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgNi04LjQxNCA4LjU4NmEyIDIgMCAwIDAgMi44MjkgMi44MjlsOC40MTQtOC41ODZhNCA0IDAgMSAwLTUuNjU3LTUuNjU3bC04LjM3OSA4LjU1MWE2IDYgMCAxIDAgOC40ODUgOC40ODVsOC4zNzktOC41NTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/paperclip\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Paperclip = createLucideIcon('paperclip', __iconNode);\n\nexport default Paperclip;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z',\n      key: '1oefj6',\n    },\n  ],\n  ['path', { d: 'M14 2v5a1 1 0 0 0 1 1h5', key: 'wfsgrz' }],\n  ['circle', { cx: '11.5', cy: '14.5', r: '2.5', key: '1bq0ko' }],\n  ['path', { d: 'M13.3 16.3 15 18', key: '2quom7' }],\n];\n\n/**\n * @component @name FileSearch\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMmEyIDIgMCAwIDEtMi0yVjRhMiAyIDAgMCAxIDItMmg4YTIuNCAyLjQgMCAwIDEgMS43MDQuNzA2bDMuNTg4IDMuNTg4QTIuNCAyLjQgMCAwIDEgMjAgOHYxMmEyIDIgMCAwIDEtMiAyeiIgLz4KICA8cGF0aCBkPSJNMTQgMnY1YTEgMSAwIDAgMCAxIDFoNSIgLz4KICA8Y2lyY2xlIGN4PSIxMS41IiBjeT0iMTQuNSIgcj0iMi41IiAvPgogIDxwYXRoIGQ9Ik0xMy4zIDE2LjMgMTUgMTgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileSearch = createLucideIcon('file-search', __iconNode);\n\nexport default FileSearch;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z',\n      key: '1vdc57',\n    },\n  ],\n  ['path', { d: 'M5 21h14', key: '11awu3' }],\n];\n\n/**\n * @component @name Crown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTYyIDMuMjY2YS41LjUgMCAwIDEgLjg3NiAwTDE1LjM5IDguODdhMSAxIDAgMCAwIDEuNTE2LjI5NEwyMS4xODMgNS41YS41LjUgMCAwIDEgLjc5OC41MTlsLTIuODM0IDEwLjI0NmExIDEgMCAwIDEtLjk1Ni43MzRINS44MWExIDEgMCAwIDEtLjk1Ny0uNzM0TDIuMDIgNi4wMmEuNS41IDAgMCAxIC43OTgtLjUxOWw0LjI3NiAzLjY2NGExIDEgMCAwIDAgMS41MTYtLjI5NHoiIC8+CiAgPHBhdGggZD0iTTUgMjFoMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/crown\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Crown = createLucideIcon('crown', __iconNode);\n\nexport default Crown;\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlot(ownerName: string) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n\n    if (slottable) {\n      // the new element to render is the one passed as a child of `Slottable`\n      const newElement = slottable.props.children;\n\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          // because the new element will be the one rendered, we are only interested\n          // in grabbing its children (`newElement.props.children`)\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement)\n            ? (newElement.props as { children: React.ReactNode }).children\n            : null;\n        } else {\n          return child;\n        }\n      });\n\n      return (\n        <SlotClone {...slotProps} ref={forwardedRef}>\n          {React.isValidElement(newElement)\n            ? React.cloneElement(newElement, undefined, newChildren)\n            : null}\n        </SlotClone>\n      );\n    }\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {children}\n      </SlotClone>\n    );\n  });\n\n  Slot.displayName = `${ownerName}.Slot`;\n  return Slot;\n}\n\nconst Slot = createSlot('Slot');\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ function createSlotClone(ownerName: string) {\n  const SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props = mergeProps(slotProps, children.props as AnyProps);\n      // do not pass ref to React.Fragment for React 19 compatibility\n      if (children.type !== React.Fragment) {\n        props.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props);\n    }\n\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLOTTABLE_IDENTIFIER = Symbol('radix.slottable');\n\ninterface SlottableProps {\n  children: React.ReactNode;\n}\n\ninterface SlottableComponent extends React.FC<SlottableProps> {\n  __radixId: symbol;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlottable(ownerName: string) {\n  const Slottable: SlottableComponent = ({ children }) => {\n    return <>{children}</>;\n  };\n  Slottable.displayName = `${ownerName}.Slottable`;\n  Slottable.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable;\n}\n\nconst Slottable = createSlottable('Slottable');\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(\n  child: React.ReactNode\n): child is React.ReactElement<SlottableProps, typeof Slottable> {\n  return (\n    React.isValidElement(child) &&\n    typeof child.type === 'function' &&\n    '__radixId' in child.type &&\n    child.type.__radixId === SLOTTABLE_IDENTIFIER\n  );\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element.props as { ref?: React.Ref<unknown> }).ref;\n  }\n\n  // Not DEV\n  return (element.props as { ref?: React.Ref<unknown> }).ref || (element as any).ref;\n}\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Slot as Root,\n};\nexport type { SlotProps };\n","import { COUNSELORS_REGISTRY } from '../constants';\r\nimport type { CounselorId } from '@/types';\r\n\r\nexport type PartySection = {\r\n  type: 'header' | 'agent' | 'verdict' | 'text';\r\n  agentId?: CounselorId;\r\n  agentName?: string;\r\n  content: string;\r\n  mentions?: CounselorId[];\r\n};\r\n\r\n/**\r\n * Detects mentions of counselors in a text.\r\n */\r\nfunction detectMentions(content: string, currentAgentId?: CounselorId): CounselorId[] {\r\n  const mentions = new Set<CounselorId>();\r\n  const counselors = Object.values(COUNSELORS_REGISTRY);\r\n\r\n  for (const counselor of counselors) {\r\n    if (counselor.id === currentAgentId) continue;\r\n\r\n    // Procura pelo nome completo ou sobrenome\r\n    const nameParts = counselor.name.split(' ');\r\n    const lastName = nameParts[nameParts.length - 1];\r\n    \r\n    // Regex para encontrar o nome como palavra inteira, case insensitive\r\n    const nameRegex = new RegExp(`\\\\b(${counselor.name}|${lastName})\\\\b`, 'gi');\r\n    \r\n    if (nameRegex.test(content)) {\r\n      mentions.add(counselor.id);\r\n    }\r\n  }\r\n\r\n  return Array.from(mentions);\r\n}\r\n\r\n/**\r\n * Parses a multi-persona response into structured sections.\r\n * \r\n * Expected format:\r\n * ### üéôÔ∏è Delibera√ß√£o do Conselho\r\n * \r\n * **[AGENT NAME]**: Content...\r\n * \r\n * ---\r\n * ### ‚öñÔ∏è Veredito do Moderador\r\n * Final content...\r\n */\r\nexport function parsePartyResponse(content: string): PartySection[] {\r\n  const sections: PartySection[] = [];\r\n  \r\n  // Split by agent headers or verdict header\r\n  // Using a negative lookahead to not consume the delimiter if we want to keep it, \r\n  // but here we want to identify the parts.\r\n  \r\n  const lines = content.split('\\n');\r\n  let currentSection: PartySection | null = null;\r\n\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const line = lines[i];\r\n    \r\n    // Check for Main Header\r\n    if (line.includes('### üéôÔ∏è Delibera√ß√£o do Conselho')) {\r\n      if (currentSection) sections.push(currentSection);\r\n      sections.push({\r\n        type: 'header',\r\n        content: line.trim()\r\n      });\r\n      currentSection = null;\r\n      continue;\r\n    }\r\n\r\n    // Check for Verdict Header\r\n    if (line.includes('### ‚öñÔ∏è Veredito do Moderador') || \r\n        line.includes('### ‚öñÔ∏è Veredito') || \r\n        line.includes('### ‚öñÔ∏è Veredito do Conselho') || \r\n        line.includes('[VEREDITO_DO_CONSELHO]') ||\r\n        line.includes('### ‚öñÔ∏è Veredito do Conselho')) {\r\n      if (currentSection) sections.push(currentSection);\r\n      currentSection = {\r\n        type: 'verdict',\r\n        content: ''\r\n      };\r\n      continue;\r\n    }\r\n\r\n    // Check for Agent Header: **[NAME]**:\r\n    const agentMatch = line.match(/\\*\\*\\[(.*?)\\]\\*\\*:\\s*(.*)/);\r\n    if (agentMatch) {\r\n      if (currentSection) sections.push(currentSection);\r\n      \r\n      const agentNameRaw = agentMatch[1];\r\n      const agentContent = agentMatch[2];\r\n      \r\n      // Find agentId by name (case insensitive)\r\n      const agentId = Object.keys(COUNSELORS_REGISTRY).find(id => \r\n        COUNSELORS_REGISTRY[id as CounselorId].name.toUpperCase() === agentNameRaw.toUpperCase()\r\n      ) as CounselorId | undefined;\r\n\r\n      currentSection = {\r\n        type: 'agent',\r\n        agentId,\r\n        agentName: agentNameRaw,\r\n        content: agentContent + '\\n'\r\n      };\r\n      continue;\r\n    }\r\n\r\n    // Check for separator\r\n    if (line.trim() === '---') {\r\n      // Separators usually precede the verdict, we can ignore them or use them to close current section\r\n      if (currentSection) sections.push(currentSection);\r\n      currentSection = null;\r\n      continue;\r\n    }\r\n\r\n    // Append to current section or start a new text section\r\n    if (currentSection) {\r\n      currentSection.content += line + '\\n';\r\n    } else if (line.trim() !== '') {\r\n      currentSection = {\r\n        type: 'text',\r\n        content: line + '\\n'\r\n      };\r\n    }\r\n  }\r\n\r\n  if (currentSection) {\r\n    sections.push(currentSection);\r\n  }\r\n\r\n  // Trim contents and detect mentions\r\n  const parsedSections = sections.map(s => {\r\n    const trimmedContent = s.content.trim();\r\n    return {\r\n      ...s,\r\n      content: trimmedContent,\r\n      mentions: s.type === 'agent' ? detectMentions(trimmedContent, s.agentId) : undefined\r\n    };\r\n  }).filter(s => s.content !== '' || s.type === 'header');\r\n\r\n  return parsedSections;\r\n}\r\n\r\n/**\r\n * Extracts a summary of interactions between agents.\r\n */\r\nexport function getInteractionSummary(sections: PartySection[]) {\r\n  const interactions: Array<{ from: CounselorId; to: CounselorId[] }> = [];\r\n  \r\n  sections.forEach(s => {\r\n    if (s.type === 'agent' && s.agentId && s.mentions && s.mentions.length > 0) {\r\n      interactions.push({\r\n        from: s.agentId,\r\n        to: s.mentions\r\n      });\r\n    }\r\n  });\r\n\r\n  return interactions;\r\n}\r\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Popover\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPOVER_NAME = 'Popover';\n\ntype ScopedProps<P> = P & { __scopePopover?: Scope };\nconst [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype PopoverContextValue = {\n  triggerRef: React.RefObject<HTMLButtonElement | null>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  hasCustomAnchor: boolean;\n  onCustomAnchorAdd(): void;\n  onCustomAnchorRemove(): void;\n  modal: boolean;\n};\n\nconst [PopoverProvider, usePopoverContext] =\n  createPopoverContext<PopoverContextValue>(POPOVER_NAME);\n\ninterface PopoverProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  modal?: boolean;\n}\n\nconst Popover: React.FC<PopoverProps> = (props: ScopedProps<PopoverProps>) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false,\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME,\n  });\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <PopoverProvider\n        scope={__scopePopover}\n        contentId={useId()}\n        triggerRef={triggerRef}\n        open={open}\n        onOpenChange={setOpen}\n        onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n        hasCustomAnchor={hasCustomAnchor}\n        onCustomAnchorAdd={React.useCallback(() => setHasCustomAnchor(true), [])}\n        onCustomAnchorRemove={React.useCallback(() => setHasCustomAnchor(false), [])}\n        modal={modal}\n      >\n        {children}\n      </PopoverProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nPopover.displayName = POPOVER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'PopoverAnchor';\n\ntype PopoverAnchorElement = React.ComponentRef<typeof PopperPrimitive.Anchor>;\ntype PopperAnchorProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Anchor>;\ninterface PopoverAnchorProps extends PopperAnchorProps {}\n\nconst PopoverAnchor = React.forwardRef<PopoverAnchorElement, PopoverAnchorProps>(\n  (props: ScopedProps<PopoverAnchorProps>, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n\n    return <PopperPrimitive.Anchor {...popperScope} {...anchorProps} ref={forwardedRef} />;\n  }\n);\n\nPopoverAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'PopoverTrigger';\n\ntype PopoverTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface PopoverTriggerProps extends PrimitiveButtonProps {}\n\nconst PopoverTrigger = React.forwardRef<PopoverTriggerElement, PopoverTriggerProps>(\n  (props: ScopedProps<PopoverTriggerProps>, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n\n    const trigger = (\n      <Primitive.button\n        type=\"button\"\n        aria-haspopup=\"dialog\"\n        aria-expanded={context.open}\n        aria-controls={context.contentId}\n        data-state={getState(context.open)}\n        {...triggerProps}\n        ref={composedTriggerRef}\n        onClick={composeEventHandlers(props.onClick, context.onOpenToggle)}\n      />\n    );\n\n    return context.hasCustomAnchor ? (\n      trigger\n    ) : (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        {trigger}\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nPopoverTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'PopoverPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createPopoverContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface PopoverPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst PopoverPortal: React.FC<PopoverPortalProps> = (props: ScopedProps<PopoverPortalProps>) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return (\n    <PortalProvider scope={__scopePopover} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nPopoverPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'PopoverContent';\n\ninterface PopoverContentProps extends PopoverContentTypeProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst PopoverContent = React.forwardRef<PopoverContentTypeElement, PopoverContentProps>(\n  (props: ScopedProps<PopoverContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return (\n      <Presence present={forceMount || context.open}>\n        {context.modal ? (\n          <PopoverContentModal {...contentProps} ref={forwardedRef} />\n        ) : (\n          <PopoverContentNonModal {...contentProps} ref={forwardedRef} />\n        )}\n      </Presence>\n    );\n  }\n);\n\nPopoverContent.displayName = CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Slot = createSlot('PopoverContent.RemoveScroll');\n\ntype PopoverContentTypeElement = PopoverContentImplElement;\ninterface PopoverContentTypeProps\n  extends Omit<PopoverContentImplProps, 'trapFocus' | 'disableOutsidePointerEvents'> {}\n\nconst PopoverContentModal = React.forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n\n    return (\n      <RemoveScroll as={Slot} allowPinchZoom>\n        <PopoverContentImpl\n          {...props}\n          ref={composedRefs}\n          // we make sure we're not trapping once it's been closed\n          // (closed !== unmounted when animating out)\n          trapFocus={context.open}\n          disableOutsidePointerEvents\n          onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n            event.preventDefault();\n            if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n          })}\n          onPointerDownOutside={composeEventHandlers(\n            props.onPointerDownOutside,\n            (event) => {\n              const originalEvent = event.detail.originalEvent;\n              const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n              const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\n              isRightClickOutsideRef.current = isRightClick;\n            },\n            { checkForDefaultPrevented: false }\n          )}\n          // When focus is trapped, a `focusout` event may still happen.\n          // We make sure we don't trigger our `onDismiss` in such case.\n          onFocusOutside={composeEventHandlers(\n            props.onFocusOutside,\n            (event) => event.preventDefault(),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </RemoveScroll>\n    );\n  }\n);\n\nconst PopoverContentNonModal = React.forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n\n    return (\n      <PopoverContentImpl\n        {...props}\n        ref={forwardedRef}\n        trapFocus={false}\n        disableOutsidePointerEvents={false}\n        onCloseAutoFocus={(event) => {\n          props.onCloseAutoFocus?.(event);\n\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            // Always prevent auto focus because we either focus manually or want user agent focus\n            event.preventDefault();\n          }\n\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        }}\n        onInteractOutside={(event) => {\n          props.onInteractOutside?.(event);\n\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === 'pointerdown') {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n\n          // Prevent dismissing when clicking the trigger.\n          // As the trigger is already setup to close, without doing so would\n          // cause it to close and immediately open.\n          const target = event.target as HTMLElement;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n\n          // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n          // we will get the pointer down outside event on the trigger, but then a subsequent\n          // focus outside event on the container, we ignore any focus outside event when we've\n          // already had a pointer down outside event.\n          if (event.detail.originalEvent.type === 'focusin' && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype PopoverContentImplElement = React.ComponentRef<typeof PopperPrimitive.Content>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface PopoverContentImplProps\n  extends Omit<PopperContentProps, 'onPlaced'>,\n    Omit<DismissableLayerProps, 'onDismiss'> {\n  /**\n   * Whether focus should be trapped within the `Popover`\n   * (default: false)\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n\n  /**\n   * Event handler called when auto-focusing on open.\n   * Can be prevented.\n   */\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n}\n\nconst PopoverContentImpl = React.forwardRef<PopoverContentImplElement, PopoverContentImplProps>(\n  (props: ScopedProps<PopoverContentImplProps>, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n\n    // Make sure the whole tree has focus guards as our `Popover` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    return (\n      <FocusScope\n        asChild\n        loop\n        trapped={trapFocus}\n        onMountAutoFocus={onOpenAutoFocus}\n        onUnmountAutoFocus={onCloseAutoFocus}\n      >\n        <DismissableLayer\n          asChild\n          disableOutsidePointerEvents={disableOutsidePointerEvents}\n          onInteractOutside={onInteractOutside}\n          onEscapeKeyDown={onEscapeKeyDown}\n          onPointerDownOutside={onPointerDownOutside}\n          onFocusOutside={onFocusOutside}\n          onDismiss={() => context.onOpenChange(false)}\n        >\n          <PopperPrimitive.Content\n            data-state={getState(context.open)}\n            role=\"dialog\"\n            id={context.contentId}\n            {...popperScope}\n            {...contentProps}\n            ref={forwardedRef}\n            style={{\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                '--radix-popover-content-transform-origin': 'var(--radix-popper-transform-origin)',\n                '--radix-popover-content-available-width': 'var(--radix-popper-available-width)',\n                '--radix-popover-content-available-height': 'var(--radix-popper-available-height)',\n                '--radix-popover-trigger-width': 'var(--radix-popper-anchor-width)',\n                '--radix-popover-trigger-height': 'var(--radix-popper-anchor-height)',\n              },\n            }}\n          />\n        </DismissableLayer>\n      </FocusScope>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverClose\n * -----------------------------------------------------------------------------------------------*/\n\nconst CLOSE_NAME = 'PopoverClose';\n\ntype PopoverCloseElement = React.ComponentRef<typeof Primitive.button>;\ninterface PopoverCloseProps extends PrimitiveButtonProps {}\n\nconst PopoverClose = React.forwardRef<PopoverCloseElement, PopoverCloseProps>(\n  (props: ScopedProps<PopoverCloseProps>, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return (\n      <Primitive.button\n        type=\"button\"\n        {...closeProps}\n        ref={forwardedRef}\n        onClick={composeEventHandlers(props.onClick, () => context.onOpenChange(false))}\n      />\n    );\n  }\n);\n\nPopoverClose.displayName = CLOSE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'PopoverArrow';\n\ntype PopoverArrowElement = React.ComponentRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface PopoverArrowProps extends PopperArrowProps {}\n\nconst PopoverArrow = React.forwardRef<PopoverArrowElement, PopoverArrowProps>(\n  (props: ScopedProps<PopoverArrowProps>, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nPopoverArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getState(open: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nconst Root = Popover;\nconst Anchor = PopoverAnchor;\nconst Trigger = PopoverTrigger;\nconst Portal = PopoverPortal;\nconst Content = PopoverContent;\nconst Close = PopoverClose;\nconst Arrow = PopoverArrow;\n\nexport {\n  createPopoverScope,\n  //\n  Popover,\n  PopoverAnchor,\n  PopoverTrigger,\n  PopoverPortal,\n  PopoverContent,\n  PopoverClose,\n  PopoverArrow,\n  //\n  Root,\n  Anchor,\n  Trigger,\n  Portal,\n  Content,\n  Close,\n  Arrow,\n};\nexport type {\n  PopoverProps,\n  PopoverAnchorProps,\n  PopoverTriggerProps,\n  PopoverPortalProps,\n  PopoverContentProps,\n  PopoverCloseProps,\n  PopoverArrowProps,\n};\n","import * as React from 'react';\n\nfunction createContext<ContextValueType extends object | null>(\n  rootComponentName: string,\n  defaultContext?: ContextValueType\n) {\n  const Context = React.createContext<ContextValueType | undefined>(defaultContext);\n\n  const Provider: React.FC<ContextValueType & { children: React.ReactNode }> = (props) => {\n    const { children, ...context } = props;\n    // Only re-memoize when prop values change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  };\n\n  Provider.displayName = rootComponentName + 'Provider';\n\n  function useContext(consumerName: string) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== undefined) return defaultContext;\n    // if a defaultContext wasn't specified, it's a required context.\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n\n  return [Provider, useContext] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/\n\ntype Scope<C = any> = { [scopeName: string]: React.Context<C>[] } | undefined;\ntype ScopeHook = (scope: Scope) => { [__scopeProp: string]: Scope };\ninterface CreateScope {\n  scopeName: string;\n  (): ScopeHook;\n}\n\nfunction createContextScope(scopeName: string, createContextScopeDeps: CreateScope[] = []) {\n  let defaultContexts: any[] = [];\n\n  /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/\n\n  function createContext<ContextValueType extends object | null>(\n    rootComponentName: string,\n    defaultContext?: ContextValueType\n  ) {\n    const BaseContext = React.createContext<ContextValueType | undefined>(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n\n    const Provider: React.FC<\n      ContextValueType & { scope: Scope<ContextValueType>; children: React.ReactNode }\n    > = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      // Only re-memoize when prop values change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n      return <Context.Provider value={value}>{children}</Context.Provider>;\n    };\n\n    Provider.displayName = rootComponentName + 'Provider';\n\n    function useContext(consumerName: string, scope: Scope<ContextValueType | undefined>) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== undefined) return defaultContext;\n      // if a defaultContext wasn't specified, it's a required context.\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n\n    return [Provider, useContext] as const;\n  }\n\n  /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/\n\n  const createScope: CreateScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope: Scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n\n  createScope.scopeName = scopeName;\n  return [createContext, composeContextScopes(createScope, ...createContextScopeDeps)] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/\n\nfunction composeContextScopes(...scopes: CreateScope[]) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n\n  const createScope: CreateScope = () => {\n    const scopeHooks = scopes.map((createScope) => ({\n      useScope: createScope(),\n      scopeName: createScope.scopeName,\n    }));\n\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes, { useScope, scopeName }) => {\n        // We are calling a hook inside a callback which React warns against to avoid inconsistent\n        // renders, however, scoping doesn't have render side effects so we ignore the rule.\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes, ...currentScope };\n      }, {});\n\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nexport { createContext, createContextScope };\nexport type { CreateScope, Scope };\n"],"names":[],"mappings":"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","ignoreList":[7,16,17,18,19,20,21,22,23,24,25,26,27,29,30]}