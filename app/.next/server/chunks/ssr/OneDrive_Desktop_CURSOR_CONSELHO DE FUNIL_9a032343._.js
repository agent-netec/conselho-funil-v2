module.exports=[377803,(a,b,c)=>{"use strict";var d=a.r(582583);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},544514,(a,b,c)=>{"use strict";b.exports=a.r(377803)},748871,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(502117),e=a.i(74552),f=a.i(811274),g=a.i(911048),h=a.i(106707),i=a.i(862783),j=a.i(544514);function k(){return()=>{}}var l="Avatar",[m,n]=(0,f.createContextScope)(l),[o,p]=m(l),q=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[g,h]=c.useState("idle");return(0,b.jsx)(o,{scope:e,imageLoadingStatus:g,onImageLoadingStatusChange:h,children:(0,b.jsx)(i.Primitive.span,{...f,ref:d})})});q.displayName=l;var r="AvatarImage",s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,src:f,onLoadingStatusChange:l=()=>{},...m}=a,n=p(r,e),o=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,j.useSyncExternalStore)(k,()=>!0,()=>!1),f=c.useRef(null),g=e?(f.current||(f.current=new window.Image),f.current):null,[i,l]=c.useState(()=>v(g,a));return(0,h.useLayoutEffect)(()=>{l(v(g,a))},[g,a]),(0,h.useLayoutEffect)(()=>{let a=a=>()=>{l(a)};if(!g)return;let c=a("loaded"),e=a("error");return g.addEventListener("load",c),g.addEventListener("error",e),b&&(g.referrerPolicy=b),"string"==typeof d&&(g.crossOrigin=d),()=>{g.removeEventListener("load",c),g.removeEventListener("error",e)}},[g,d,b]),i}(f,m),q=(0,g.useCallbackRef)(a=>{l(a),n.onImageLoadingStatusChange(a)});return(0,h.useLayoutEffect)(()=>{"idle"!==o&&q(o)},[o,q]),"loaded"===o?(0,b.jsx)(i.Primitive.img,{...m,ref:d,src:f}):null});s.displayName=r;var t="AvatarFallback",u=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...g}=a,h=p(t,e),[j,k]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==h.imageLoadingStatus?(0,b.jsx)(i.Primitive.span,{...g,ref:d}):null});function v(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}u.displayName=t;var w=a.i(810045);function x({className:a,...c}){return(0,b.jsx)(q,{"data-slot":"avatar",className:(0,w.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...c})}function y({className:a,...c}){return(0,b.jsx)(s,{"data-slot":"avatar-image",className:(0,w.cn)("aspect-square size-full",a),...c})}function z({className:a,...c}){return(0,b.jsx)(u,{"data-slot":"avatar-fallback",className:(0,w.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...c})}var A=a.i(434219),B=a.i(733532),C=a.i(999283),D=a.i(761925);let E=(0,a.i(47916).default)("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);var F=a.i(923776),G=a.i(698565);function H({interaction:a,isActive:c,onClick:f}){var g,h;let i={x:A.Twitter,linkedin:B.Linkedin,instagram:C.Instagram,whatsapp:F.Phone}[a.platform],j=(g=a.metadata.sentimentScore,h=a.metadata.sentimentLabel,g<.3?{color:"bg-red-500/10 text-red-500 border-red-500/20",icon:G.AlertCircle}:"positive"===h?{color:"bg-green-500/10 text-green-500 border-green-500/20",icon:null}:"negative"===h?{color:"bg-red-500/10 text-red-500 border-red-500/20",icon:G.AlertCircle}:{color:"bg-blue-500/10 text-blue-500 border-blue-500/20",icon:null}),k=j.icon;return(0,b.jsxs)(d.Card,{className:(0,w.cn)("p-4 cursor-pointer transition-all hover:border-primary/50 mb-2 relative overflow-hidden",c?"border-primary bg-primary/5 shadow-md":"border-border"),onClick:()=>f(a),children:[a.metadata.sentimentScore<.3&&(0,b.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-red-500"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)(x,{className:"h-10 w-10 border border-border",children:[(0,b.jsx)(y,{src:a.author.avatarUrl,alt:a.author.name}),(0,b.jsx)(z,{children:a.author.name.substring(0,2).toUpperCase()})]}),(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-0.5 border border-border",children:(0,b.jsx)(i,{className:"h-3 w-3 text-muted-foreground"})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"font-semibold text-sm truncate",children:a.author.name}),(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap",children:new Date(a.content.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:a.content.text}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(e.Badge,{variant:"outline",className:(0,w.cn)("text-[10px] px-1.5 py-0 flex items-center gap-1",j.color),children:[k&&(0,b.jsx)(k,{className:"h-2.5 w-2.5"}),Math.round(100*a.metadata.sentimentScore),"%"]}),"dm"===a.type&&(0,b.jsxs)(e.Badge,{variant:"secondary",className:"text-[10px] px-1.5 py-0 flex items-center gap-1",children:[(0,b.jsx)(D.MessageSquare,{className:"h-2.5 w-2.5"})," DM"]}),"mention"===a.type&&(0,b.jsxs)(e.Badge,{variant:"secondary",className:"text-[10px] px-1.5 py-0 flex items-center gap-1",children:[(0,b.jsx)(E,{className:"h-2.5 w-2.5"})," MENTION"]})]})]})]})]})}var I=a.i(248842),J=a.i(555476),K=a.i(822399),L=a.i(830307),M=a.i(527585),N=a.i(599959),O=a.i(300180),P=a.i(282840),Q=a.i(399385),R=a.i(532141),S=a.i(60728);function T({interaction:a,suggestions:f,onSend:g,onQuickAction:h,onEscalate:i,isLoadingSuggestions:j}){let[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),o=a.metadata.sentimentScore<.3;return(0,b.jsxs)("div",{className:"flex flex-col h-full gap-4",children:[(0,b.jsxs)(d.Card,{className:(0,w.cn)("p-4 border-dashed relative transition-colors",o?"bg-red-50/50 border-red-200":"bg-muted/30"),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(e.Badge,{variant:o?"destructive":"outline",className:"text-[10px]",children:o?"CRITICAL: BAIXO SENTIMENTO":"CONVERSA ORIGINAL"}),(0,b.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:["ID: ",a.externalId]})]}),(0,b.jsxs)("p",{className:(0,w.cn)("text-sm italic",o?"text-red-900 font-medium":"text-muted-foreground"),children:['"',a.content.text,'"']}),(0,b.jsx)("div",{className:"absolute top-4 right-4 flex gap-2",children:(0,b.jsxs)(I.Button,{variant:o?"destructive":"ghost",size:"sm",className:(0,w.cn)("h-8 text-[10px] gap-1",!o&&"text-orange-600 hover:text-orange-700 hover:bg-orange-50"),onClick:i,children:[(0,b.jsx)(R.UserCheck,{className:"h-3 w-3"})," ",o?"Escalar Imediatamente":"Escalar para Especialista"]})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(K.Sparkles,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("h3",{className:"text-sm font-semibold",children:'Sugestões "Brand-Aware"'})]}),j&&(0,b.jsx)(O.RefreshCw,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[f?.options.slice(0,3).map((a,c)=>(0,b.jsxs)(d.Card,{className:"p-3 cursor-pointer hover:border-primary/50 transition-colors border-primary/10 bg-primary/5 flex flex-col justify-between",onClick:()=>{l(a.text),n(!0)},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(e.Badge,{variant:"secondary",className:"text-[9px] uppercase",children:a.tone}),a.confidence>=.9&&(0,b.jsx)(Q.CheckCircle2,{className:"h-3 w-3 text-green-500",title:"Alta Fidelidade de Voz"})]}),(0,b.jsxs)("span",{className:(0,w.cn)("text-[9px] font-medium",a.confidence>=.9?"text-green-600":"text-muted-foreground"),children:[Math.round(100*a.confidence),"% match"]})]}),(0,b.jsx)("p",{className:"text-[11px] line-clamp-3 leading-relaxed mb-2",children:a.text})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(I.Button,{variant:"ghost",size:"sm",className:"h-6 text-[9px] p-0 px-2 gap-1",children:[(0,b.jsx)(S.Edit3,{className:"h-2.5 w-2.5"})," Usar e Editar"]})})]},c)),!f&&!j&&(0,b.jsx)("div",{className:"col-span-3 py-8 text-center border-2 border-dashed rounded-lg text-muted-foreground text-xs",children:"Gerando sugestões baseadas no BrandVoice..."})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col gap-3 min-h-[200px]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold",children:"Resposta Final"}),m&&(0,b.jsx)(e.Badge,{variant:"outline",className:"text-[9px] text-primary border-primary/20 bg-primary/5",children:"EDIÇÃO RÁPIDA ATIVA"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(I.Button,{variant:"outline",size:"sm",className:"h-7 text-[10px] gap-1",onClick:()=>h("like"),children:[(0,b.jsx)(M.ThumbsUp,{className:"h-3 w-3"})," Like"]}),(0,b.jsxs)(I.Button,{variant:"outline",size:"sm",className:"h-7 text-[10px] gap-1",onClick:()=>h("follow"),children:[(0,b.jsx)(N.UserPlus,{className:"h-3 w-3"})," Follow"]})]})]}),(0,b.jsx)(J.Textarea,{placeholder:"Escreva sua resposta ou selecione uma sugestão de IA acima...",className:"flex-1 resize-none text-sm p-4 focus-visible:ring-primary",value:k,onChange:a=>{l(a.target.value),m||n(!0)}}),o&&(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-[11px] text-red-600",children:[(0,b.jsx)(P.ShieldAlert,{className:"h-3.5 w-3.5"}),(0,b.jsxs)("span",{children:["Risco de Sentimento: Esta interação possui score baixo (",Math.round(100*a.metadata.sentimentScore),"%). Considere escalar para um especialista."]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(I.Button,{variant:"ghost",size:"sm",onClick:()=>{l(""),n(!1)},children:"Limpar"}),(0,b.jsxs)(I.Button,{className:"gap-2 px-8",disabled:!k,onClick:()=>g(k),children:[(0,b.jsx)(L.Send,{className:"h-4 w-4"})," Enviar Resposta"]})]})]})]})}var U=a.i(925981),V=a.i(661425),W=a.i(675982),X=a.i(979230),Y=a.i(742267),Z=a.i(462297),$=a.i(169405),_=a.i(525262);function aa(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(void 0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)("marketing digital"),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)("all"),s=async()=>{j(!0);try{let a=`/api/social-inbox?brandId=mock-brand-123&keyword=${m}`;o&&(a+=`&platform=${o}`);let b=await fetch(a),c=await b.json();c.sampleInteraction?d([c.sampleInteraction]):d([])}catch(a){$.notify.error("Erro ao carregar inbox","Não foi possível conectar ao agregador social.")}finally{j(!1)}},t=async a=>{l(!0);try{let a=await fetch(`/api/social-inbox?brandId=mock-brand-123&keyword=${m}`),b=await a.json();b.sampleSuggestions&&h(b.sampleSuggestions)}catch(a){console.error("Erro ao carregar sugestões:",a)}finally{l(!1)}},u=a.filter(a=>"pending"===q?"pending"===a.status:"mentions"!==q||"mention"===a.type);(0,c.useEffect)(()=>{s()},[o]);let v=a=>{f(a),h(void 0),t(a)},x=async a=>{if(e)try{if(e.metadata.sentimentScore<.3)return void $.notify.warning("Bloqueio de Segurança","Interações com sentimento baixo exigem revisão manual ou escala.");$.notify.success("Resposta enviada!","A mensagem foi publicada com sucesso."),d(a=>a.map(a=>a.id===e.id?{...a,status:"responded"}:a))}catch(a){$.notify.error("Erro ao enviar","Falha na comunicação com a rede social.")}};return(0,b.jsxs)("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden bg-background",children:[(0,b.jsxs)("header",{className:"flex items-center justify-between p-4 border-b",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(Z.LayoutDashboard,{className:"h-5 w-5 text-primary"}),(0,b.jsx)("h1",{className:"text-xl font-bold tracking-tight",children:"Social Command Center"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative w-64",children:[(0,b.jsx)(X.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(W.Input,{placeholder:"Buscar por keyword...",className:"pl-9 h-9 text-sm",value:m,onChange:a=>n(a.target.value),onKeyDown:a=>"Enter"===a.key&&s()})]}),(0,b.jsxs)(_.DropdownMenu,{children:[(0,b.jsx)(_.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(I.Button,{variant:"outline",size:"sm",className:"gap-2",children:[(0,b.jsx)(Y.Filter,{className:"h-4 w-4"}),o?o.toUpperCase():"Plataformas"]})}),(0,b.jsxs)(_.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(_.DropdownMenuItem,{onClick:()=>p(null),children:"Todas"}),(0,b.jsx)(_.DropdownMenuSeparator,{}),(0,b.jsxs)(_.DropdownMenuItem,{onClick:()=>p("instagram"),className:"gap-2",children:[(0,b.jsx)(C.Instagram,{className:"h-4 w-4"})," Instagram"]}),(0,b.jsxs)(_.DropdownMenuItem,{onClick:()=>p("whatsapp"),className:"gap-2",children:[(0,b.jsx)(F.Phone,{className:"h-4 w-4"})," WhatsApp"]}),(0,b.jsxs)(_.DropdownMenuItem,{onClick:()=>p("x"),className:"gap-2",children:[(0,b.jsx)(A.Twitter,{className:"h-4 w-4"})," X (Twitter)"]})]})]}),(0,b.jsxs)(I.Button,{variant:"outline",size:"sm",className:"gap-2",onClick:s,children:[(0,b.jsx)(O.RefreshCw,{className:(0,w.cn)("h-4 w-4",i&&"animate-spin")}),"Sincronizar"]})]})]}),(0,b.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,b.jsx)("aside",{className:"w-80 border-r bg-muted/10 flex flex-col",children:(0,b.jsxs)(V.Tabs,{defaultValue:"all",className:"w-full",onValueChange:r,children:[(0,b.jsx)("div",{className:"px-4 pt-4",children:(0,b.jsxs)(V.TabsList,{className:"grid grid-cols-3 w-full h-8",children:[(0,b.jsx)(V.TabsTrigger,{value:"all",className:"text-[10px]",children:"TUDO"}),(0,b.jsx)(V.TabsTrigger,{value:"pending",className:"text-[10px]",children:"PENDENTES"}),(0,b.jsx)(V.TabsTrigger,{value:"mentions",className:"text-[10px]",children:"MENÇÕES"})]})}),(0,b.jsx)(V.TabsContent,{value:q,className:"m-0",children:(0,b.jsx)(U.ScrollArea,{className:"h-[calc(100vh-12rem)] p-4",children:u.length>0?u.map(a=>(0,b.jsx)(H,{interaction:a,isActive:e?.id===a.id,onClick:v},a.id)):(0,b.jsx)("div",{className:"text-center py-12 text-muted-foreground text-xs",children:"Nenhuma interação encontrada."})})})]})}),(0,b.jsx)("main",{className:"flex-1 bg-background p-6 overflow-y-auto",children:e?(0,b.jsx)("div",{className:"max-w-4xl mx-auto h-full",children:(0,b.jsx)(T,{interaction:e,suggestions:g,onSend:x,onQuickAction:a=>{$.notify.info("Ação realizada",`Voc\xea deu ${"like"===a?"Like":"Follow"} nesta intera\xe7\xe3o.`)},onEscalate:()=>{$.notify.info("Escalado",`Intera\xe7\xe3o de ${e.author.name} enviada para especialista.`)},isLoadingSuggestions:k})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[(0,b.jsx)(D.MessageSquare,{className:"h-12 w-12 mb-4 opacity-20"}),(0,b.jsx)("p",{className:"text-sm",children:"Selecione uma interação na lista ao lado para começar."})]})})]})]})}a.s(["default",()=>aa],748871)}];

//# sourceMappingURL=OneDrive_Desktop_CURSOR_CONSELHO%20DE%20FUNIL_9a032343._.js.map