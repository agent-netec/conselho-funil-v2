module.exports=[116058,a=>{"use strict";var b=a.i(194327),c=a.i(582583),d=a.i(126236);a.i(543317);var e=a.i(134034),f=a.i(860342),g=a.i(459966),h=a.i(289036),i=a.i(343583),j=a.i(168565),k=a.i(977519),l=a.i(789241),m=a.i(463963),n=a.i(612852),o=a.i(810045);let p=[{id:"funnel",title:"Funil",icon:j.Target,status:"pending"},{id:"copy",title:"Copy",icon:k.PenTool,status:"pending"},{id:"social",title:"Social",icon:l.Share2,status:"pending"},{id:"design",title:"Design",icon:m.Palette,status:"pending"},{id:"ads",title:"Ads",icon:n.BarChart3,status:"pending"}];function q({currentStageId:a,completedStages:c}){return(0,b.jsx)("div",{className:"w-full py-4 sm:py-6 overflow-x-auto scrollbar-none",children:(0,b.jsx)("div",{className:"flex items-center justify-between min-w-[340px] max-w-4xl mx-auto px-4 gap-2",children:p.map((d,e)=>{let f=c.includes(d.id),g=a===d.id;return(0,b.jsxs)("div",{className:"flex items-center flex-1 last:flex-none",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center relative group",children:[(0,b.jsx)(h.motion.div,{initial:!1,animate:{backgroundColor:f?"rgb(16, 185, 129)":g?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.04)",borderColor:f||g?"rgb(16, 185, 129)":"rgba(255, 255, 255, 0.1)"},className:(0,o.cn)("flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl sm:rounded-2xl border-2 transition-all shadow-lg",f?"text-white":g?"text-emerald-400":"text-zinc-600"),children:f?(0,b.jsx)(i.Check,{className:"h-5 w-5 sm:h-6 sm:w-6"}):(0,b.jsx)(d.icon,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),(0,b.jsx)("div",{className:(0,o.cn)("absolute -bottom-6 sm:-bottom-8 flex flex-col items-center transition-all duration-300",g?"opacity-100 translate-y-0":"opacity-0 sm:opacity-60 translate-y-1"),children:(0,b.jsx)("span",{className:(0,o.cn)("text-[8px] sm:text-xs font-bold uppercase tracking-wider whitespace-nowrap",g?"text-emerald-400":"text-zinc-500"),children:d.title})})]}),e<p.length-1&&(0,b.jsx)("div",{className:"flex-1 mx-2 sm:mx-4 h-[2px] bg-zinc-800 rounded-full relative overflow-hidden",children:(0,b.jsx)(h.motion.div,{initial:{width:"0%"},animate:{width:f?"100%":"0%"},className:"absolute inset-0 bg-emerald-500",transition:{duration:.5}})})]},d.id)})})})}var r=a.i(26e3),s=a.i(822399),t=a.i(698565),u=a.i(248842);function v({title:a,description:c,icon:d,status:e,summary:f,onAction:g,actionLabel:i,isActive:j}){return(0,b.jsxs)(h.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:(0,o.cn)("card-premium p-6 transition-all duration-300 border-l-4",j?"border-emerald-500 bg-emerald-500/[0.02]":"border-transparent opacity-80","ready"===e&&!j&&"border-blue-500/50"),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:(0,o.cn)("p-3 rounded-xl",j?"bg-emerald-500/10 text-emerald-400":"bg-zinc-800 text-zinc-500"),children:(0,b.jsx)(d,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white uppercase tracking-tight",children:a}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:c})]})]}),(0,b.jsx)("div",{className:(0,o.cn)("px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest","approved"===e?"bg-emerald-500/10 text-emerald-400":"ready"===e?"bg-blue-500/10 text-blue-400":"generating"===e?"bg-amber-500/10 text-amber-400 animate-pulse":"bg-zinc-800 text-zinc-500"),children:"approved"===e?"Aprovado":"ready"===e?"Pronto":"generating"===e?"Gerando...":"Pendente"})]}),(0,b.jsx)("div",{className:"min-h-[100px] mb-6",children:f&&f.length>0?(0,b.jsx)("ul",{className:"space-y-2",children:f.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm text-zinc-300",children:[(0,b.jsx)(r.ChevronRight,{className:"h-4 w-4 text-emerald-500 shrink-0 mt-0.5"}),(0,b.jsx)("span",{children:a})]},c))}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-4 text-center",children:[(0,b.jsx)(t.AlertCircle,{className:"h-8 w-8 text-zinc-700 mb-2"}),(0,b.jsx)("p",{className:"text-xs text-zinc-600 italic",children:"Aguardando conclusão da etapa anterior"})]})}),(0,b.jsx)(u.Button,{onClick:g,disabled:"generating"===e||!j&&"empty"===e,className:(0,o.cn)("w-full font-bold uppercase tracking-wider text-xs h-10 transition-all",j?"bg-emerald-600 hover:bg-emerald-500 text-white shadow-[0_0_20px_rgba(16,185,129,0.2)]":"btn-ghost border-zinc-800 text-zinc-500"),children:"generating"===e?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,b.jsx)(s.Sparkles,{className:"h-4 w-4"})}),"Consultando Conselho..."]}):(0,b.jsxs)(b.Fragment,{children:[i,(0,b.jsx)(r.ChevronRight,{className:"h-4 w-4 ml-2"})]})})]})}var w=a.i(880925),x=a.i(529238),y=a.i(169405),z=a.i(270509),A=a.i(430413),B=a.i(176173),C=a.i(351584),D=a.i(76537),E=a.i(145075);function F({metrics:a,anomalies:c,onRefresh:d}){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.Activity,{className:"h-5 w-5 text-emerald-400"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-white uppercase tracking-tight",children:"Real-Time Performance"})]}),(0,b.jsxs)(u.Button,{variant:"ghost",size:"sm",onClick:d,className:"text-zinc-500 hover:text-white",children:[(0,b.jsx)(C.RefreshCcw,{className:"h-4 w-4 mr-2"}),"Atualizar Dados"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map((a,c)=>(0,b.jsxs)(h.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"card-premium p-4 border-t-2 border-t-zinc-800",children:[(0,b.jsx)("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-1",children:a.label}),(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsxs)("div",{className:"text-2xl font-black text-white",children:["currency"===a.unit?`R$ ${a.value}`:a.value,"%"===a.unit?"%":""]}),void 0!==a.change&&(0,b.jsxs)("div",{className:(0,o.cn)("flex items-center text-xs font-bold",a.change>=0?"text-emerald-400":"text-red-400"),children:[a.change>=0?(0,b.jsx)(z.TrendingUp,{className:"h-3 w-3 mr-1"}):(0,b.jsx)(A.TrendingDown,{className:"h-3 w-3 mr-1"}),Math.abs(a.change),"%"]})]}),a.target&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/[0.03]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-[9px] mb-1",children:[(0,b.jsxs)("span",{className:"text-zinc-600 font-bold uppercase",children:["Meta: ",a.target,"%"===a.unit?"%":""]}),(0,b.jsx)("span",{className:(0,o.cn)("font-bold","success"===a.status?"text-emerald-500":"danger"===a.status?"text-red-500":"text-amber-500"),children:"success"===a.status?"No Alvo":"Desvio"})]}),(0,b.jsx)("div",{className:"h-1 bg-zinc-900 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:(0,o.cn)("h-full rounded-full transition-all duration-1000","success"===a.status?"bg-emerald-500":"danger"===a.status?"bg-red-500":"bg-amber-500"),style:{width:`${Math.min(Number(a.value)/a.target*100,100)}%`}})})]})]},a.label))}),c&&c.length>0&&(0,b.jsxs)(h.motion.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"card-premium p-5 border-l-4 border-l-amber-500 bg-amber-500/[0.02]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(D.AlertTriangle,{className:"h-5 w-5 text-amber-500"}),(0,b.jsx)("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Detecção de Anomalia Estratégica"})]}),(0,b.jsx)("div",{className:"space-y-4",children:c.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-amber-500/10 flex items-center justify-center shrink-0",children:(0,b.jsx)(E.Lightbulb,{className:"h-4 w-4 text-amber-500"})}),(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-sm text-zinc-300 leading-relaxed",children:a})})]},c))}),(0,b.jsx)("div",{className:"mt-6 pt-4 border-t border-white/[0.05] flex justify-end",children:(0,b.jsx)(u.Button,{size:"sm",className:"btn-accent h-8 text-[10px] uppercase font-bold tracking-widest",children:"Aplicar Ajustes no Funil"})})]})]})}function G(){let a=(0,d.useParams)(),i=(0,d.useRouter)(),[o,p]=(0,c.useState)(null),[r,t]=(0,c.useState)(!0),[u,z]=(0,c.useState)([]),[A,B]=(0,c.useState)("funnel"),[C]=(0,c.useState)([{label:"CTR Médio",value:.65,target:1.2,unit:"%",status:"danger",change:-12},{label:"CPC Médio",value:2.45,target:1.5,unit:"currency",status:"warning",change:8},{label:"Conversão",value:3.2,target:5,unit:"%",status:"warning",change:-5},{label:"ROAS",value:2.1,target:4,unit:"ratio",status:"danger",change:-15}]),[D]=(0,c.useState)(["CTR < 0.8%: O Design não está parando o scroll no Meta Ads. O framework C.H.A.P.E.U sugere aumentar o Contraste e a Hierarquia Visual nos primeiros 3 segundos.","CPC acima do benchmark: A segmentação de audiência pode estar muito ampla ou a Big Idea da copy não está ressonando com o público 'Inconsciente'."]);(0,c.useEffect)(()=>{if(!a.id)return;let b=a.id,c=(0,e.onSnapshot)((0,e.doc)(f.db,"campaigns",b),a=>{a.exists()?g(a.data()):d()});async function d(){try{let a=await (0,e.getDoc)((0,e.doc)(f.db,"funnels",b));if(a.exists()){let c=a.data(),d=(0,e.collection)(f.db,"funnels",b,"copyProposals"),h=await (0,e.getDocs)((0,e.query)(d,(0,e.where)("status","==","approved"),(0,e.limit)(1))),i=h.docs.length>0?h.docs[0].data():null,j={id:b,funnelId:b,brandId:c.brandId||"",userId:c.userId||"",name:c.name||"Nova Campanha",status:"active",funnel:{type:c.type||"Funnel",architecture:c.architecture||"",targetAudience:c.targetAudience||c.context?.audience?.who||"",mainGoal:c.mainGoal||c.context?.objective||"",stages:c.stages||[],summary:c.summary||""},copywriting:i?{bigIdea:i.content.primary?.slice(0,500)||"Big Idea aprovada",headlines:i.content.headlines||[],mainScript:i.content.primary||"",tone:i.awarenessStage||"problem_aware",keyBenefits:[],counselor_reference:i.copywriterInsights?.[0]?.copywriterName||"Conselho de Copy"}:void 0,createdAt:c.createdAt,updatedAt:c.updatedAt};g(j)}}catch(a){console.error("Erro no scanner de fallback:",a)}}function g(a){a.funnel||(a.funnel={type:"Funnel",architecture:"",targetAudience:"",mainGoal:"",stages:[],summary:""}),p(a);let b=[];a.funnel&&b.push("funnel"),a.copywriting&&b.push("copy"),a.social&&b.push("social"),a.design&&b.push("design"),a.ads&&b.push("ads"),z(b),a.copywriting?a.social?a.design?(a.ads,B("ads")):B("design"):B("social"):B("copy"),t(!1)}return()=>c()},[a.id]);let E=async a=>{o&&(y.notify.info(`Iniciando ${a}`,`O Conselho est\xe1 sendo convocado...`),"funnel"===a?i.push(`/funnels/${o.funnelId}?campaignId=${o.id}`):"copy"===a?i.push(`/funnels/${o.funnelId}/copy?campaignId=${o.id}`):"social"===a?i.push(`/funnels/${o.funnelId}/social?campaignId=${o.id}`):"design"===a?i.push(`/chat?mode=design&funnelId=${o.funnelId}&campaignId=${o.id}`):"ads"===a?i.push(`/chat?mode=ads&funnelId=${o.funnelId}&campaignId=${o.id}`):y.notify.warning("Em desenvolvimento",`A etapa de ${a} est\xe1 sendo preparada.`))};return r?(0,b.jsxs)("div",{className:"flex min-h-screen flex-col bg-black",children:[(0,b.jsx)(g.Header,{title:"Carregando Comando...",showBack:!0}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,b.jsx)(h.motion.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:(0,b.jsx)(s.Sparkles,{className:"h-12 w-12 text-emerald-500 opacity-20"})})})]}):o?(0,b.jsxs)("div",{className:"flex min-h-screen flex-col bg-black overflow-x-hidden",children:[(0,b.jsx)(g.Header,{title:o.name||"Campanha Sem Nome",showBack:!0,subtitle:"Campaign Command Center"}),(0,b.jsxs)("div",{className:"flex-1 max-w-7xl mx-auto w-full px-4 py-6 sm:px-6 sm:py-8",children:[(0,b.jsxs)("section",{className:"mb-8 sm:mb-12",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[(0,b.jsx)(w.Zap,{className:"h-4 w-4 sm:h-5 sm:w-5 text-amber-400"}),(0,b.jsx)("h2",{className:"text-[10px] sm:text-sm font-bold uppercase tracking-[0.2em] text-zinc-400",children:"The Golden Thread"})]}),(0,b.jsx)(q,{currentStageId:A,completedStages:u})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-12",children:[(0,b.jsx)(v,{title:"O Cérebro",description:"Arquitetura & Estratégia de Funil",icon:j.Target,status:o.funnel?"approved":"empty",summary:o.funnel?[`Tipo: ${o.funnel.type}`,`Objetivo: ${o.funnel.mainGoal}`,`P\xfablico: ${o.funnel.targetAudience}`]:[],onAction:()=>E("funnel"),actionLabel:o.funnel?"Ver Estratégia":"Definir Funil",isActive:"funnel"===A}),(0,b.jsx)(v,{title:"A Voz",description:"Copywriting Persuasivo",icon:k.PenTool,status:o.copywriting?"approved":(o.funnel,"empty"),summary:o.copywriting?[`Big Idea: ${o.copywriting.bigIdea.slice(0,60)}...`,`Tom: ${o.copywriting.tone}`,`Base: ${o.copywriting.counselor_reference||"Conselho"}`]:[],onAction:()=>E("copy"),actionLabel:o.copywriting?"Ver Copy":"Gerar Copy",isActive:"copy"===A}),(0,b.jsx)(v,{title:"A Atenção",description:"Social Media & Hooks",icon:l.Share2,status:o.social?"approved":(o.copywriting,"empty"),summary:o.social?[`${o.social.hooks?.length||0} Hooks estrat\xe9gicos`,`Plataformas: ${o.social.platforms?.join(", ")||"Todas"}`]:[],onAction:()=>E("social"),actionLabel:o.social?"Ver Hooks":"Gerar Hooks",isActive:"social"===A}),(0,b.jsx)(v,{title:"O Visual",description:"Design Intelligence (C.H.A.P.E.U)",icon:m.Palette,status:o.design?"approved":o.social?"ready":"empty",summary:o.design?[`Estilo: ${o.design.visualStyle}`,`${o.design.assetsUrl?.length||0} Criativo(s) na Linha de Ouro`,"Engine: NanoBanana Pro"]:o.social?["Aguardando definição visual"]:[],onAction:()=>E("design"),actionLabel:o.design?"Ver Design":"Gerar Visuais",isActive:"design"===A}),(0,b.jsx)(v,{title:"A Escala",description:"Conselho de Ads & Tráfego",icon:n.BarChart3,status:o.ads?"approved":o.design?"ready":"empty",summary:o.ads?[`Canais: ${o.ads.channels.join(", ")}`,`Budget Sugerido: ${o.ads.suggestedBudget}`]:o.design?["Design & Copy sincronizados","Pronto para definir canais e budget"]:[],onAction:()=>E("ads"),actionLabel:o.ads?"Ver Campanha":"Gerar Estrutura Ads",isActive:"ads"===A})]}),(0,b.jsx)("section",{className:"mt-12",children:(0,b.jsx)(F,{metrics:C,anomalies:D,onRefresh:()=>y.notify.info("Sincronizando","Buscando métricas da Meta Ads API...")})})]})]}):(0,b.jsxs)("div",{className:"flex min-h-screen flex-col bg-black",children:[(0,b.jsx)(g.Header,{title:"Campanha não encontrada",showBack:!0}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(x.ShieldCheck,{className:"h-16 w-16 text-zinc-800 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Campanha Extraviada"}),(0,b.jsx)("p",{className:"text-zinc-500 max-w-xs mx-auto",children:"Não conseguimos localizar este manifesto estratégico no nosso banco de dados."})]})})]})}a.s(["default",()=>G],116058)}];

//# sourceMappingURL=13466_Desktop_CURSOR_CONSELHO%20DE%20FUNIL_app_src_app_campaigns_%5Bid%5D_page_tsx_184704c8._.js.map