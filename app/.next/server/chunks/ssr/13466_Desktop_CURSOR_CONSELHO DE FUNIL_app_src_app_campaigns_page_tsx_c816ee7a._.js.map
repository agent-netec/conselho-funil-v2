{"version":3,"sources":["../../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/app/campaigns/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { collection, query, where, getDocs, orderBy } from 'firebase/firestore';\r\nimport { db } from '@/lib/firebase/config';\r\nimport { Header } from '@/components/layout/header';\r\nimport { Zap, Target, ChevronRight, Clock, BarChart3, Search, Plus } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { motion } from 'framer-motion';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport default function CampaignsPage() {\r\n  const [campaigns, setCampaigns] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function loadCampaigns() {\r\n      try {\r\n        const q = query(\r\n          collection(db, 'funnels'),\r\n          where('status', 'in', ['approved', 'executing', 'completed', 'review'])\r\n        );\r\n        \r\n        const snapshot = await getDocs(q);\r\n        const data = snapshot.docs.map(doc => ({\r\n          id: doc.id,\r\n          ...doc.data()\r\n        })) as any[];\r\n\r\n        data.sort((a, b) => {\r\n          const dateA = a.updatedAt?.seconds || 0;\r\n          const dateB = b.updatedAt?.seconds || 0;\r\n          return dateB - dateA;\r\n        });\r\n\r\n        setCampaigns(data);\r\n      } catch (error) {\r\n        console.error('Error loading campaigns:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    loadCampaigns();\r\n  }, []);\r\n\r\n  const filteredCampaigns = campaigns.filter(c => \r\n    c.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col\">\r\n      <Header title=\"Golden Thread Center\" subtitle=\"Governança de Campanhas\" />\r\n      \r\n      <div className=\"flex-1 p-4 sm:p-8 max-w-7xl mx-auto w-full\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10\">\r\n          <div>\r\n            <h2 className=\"text-3xl font-bold text-white flex items-center gap-3\">\r\n              <div className=\"p-2 rounded-xl bg-amber-500/10 border border-amber-500/20\">\r\n                <Zap className=\"h-6 w-6 text-amber-400\" />\r\n              </div>\r\n              Suas Campanhas\r\n            </h2>\r\n            <p className=\"text-zinc-500 text-sm mt-2 max-w-md\">\r\n              Acompanhe a evolução estratégica dos seus funis aprovados para a Linha de Ouro.\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-3 w-full md:w-auto\">\r\n            <div className=\"relative flex-1 md:w-64\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500\" />\r\n              <input \r\n                type=\"text\"\r\n                placeholder=\"Buscar campanha...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"w-full h-10 pl-10 pr-4 rounded-xl bg-zinc-900 border border-white/[0.05] text-sm text-white placeholder:text-zinc-600 focus:outline-none focus:ring-1 focus:ring-amber-500/50\"\r\n              />\r\n            </div>\r\n            <Link href=\"/funnels/new\">\r\n              <button className=\"btn-accent bg-amber-600 hover:bg-amber-500 border-amber-500/20 whitespace-nowrap\">\r\n                <Plus className=\"mr-2 h-4 w-4\" />\r\n                Nova Campanha\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\r\n            {[1, 2, 3].map(i => (\r\n              <div key={i} className=\"h-56 rounded-2xl bg-zinc-900/50 animate-pulse border border-white/[0.03]\" />\r\n            ))}\r\n          </div>\r\n        ) : filteredCampaigns.length === 0 ? (\r\n          <motion.div \r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"card-premium p-16 text-center border-dashed border-zinc-800\"\r\n          >\r\n            <div className=\"h-20 w-20 rounded-2xl bg-zinc-900 flex items-center justify-center mx-auto mb-6\">\r\n              <Zap className=\"h-10 w-10 text-zinc-700\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-white mb-2\">\r\n              {searchQuery ? 'Nenhuma campanha encontrada' : 'O Manifesto está aguardando'}\r\n            </h3>\r\n            <p className=\"text-zinc-500 max-w-sm mx-auto mb-8 leading-relaxed\">\r\n              {searchQuery \r\n                ? `Não encontramos campanhas para \"${searchQuery}\".`\r\n                : 'Aprove um funil estratégico para ativar a Linha de Ouro e começar sua jornada rumo ao Ads de alta performance.'}\r\n            </p>\r\n            <Link href=\"/funnels\">\r\n              <button className=\"btn-accent bg-zinc-800 hover:bg-zinc-700 text-zinc-300 border-white/[0.05] px-8\">\r\n                Ir para Pipeline de Funis\r\n              </button>\r\n            </Link>\r\n          </motion.div>\r\n        ) : (\r\n          <div className=\"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\r\n            {filteredCampaigns.map((campaign, index) => (\r\n              <motion.div\r\n                key={campaign.id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: index * 0.05 }}\r\n              >\r\n                <Link href={`/campaigns/${campaign.id}`}>\r\n                  <div className=\"card-premium group hover:border-amber-500/30 transition-all cursor-pointer h-full flex flex-col p-0 overflow-hidden\">\r\n                    <div className=\"p-6 flex-1\">\r\n                      <div className=\"flex items-center justify-between mb-6\">\r\n                        <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-500/10 border border-amber-500/20 text-amber-400 group-hover:bg-amber-500/20 transition-colors\">\r\n                          <Zap className=\"h-5 w-5\" />\r\n                        </div>\r\n                        <div className={cn(\r\n                          \"px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border border-white/[0.02]\",\r\n                          campaign.status === 'approved' ? \"bg-emerald-500/10 text-emerald-400\" : \"bg-blue-500/10 text-blue-400\"\r\n                        )}>\r\n                          {campaign.status}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <h3 className=\"text-xl font-bold text-white group-hover:text-amber-400 transition-colors mb-3\">\r\n                        {campaign.name}\r\n                      </h3>\r\n                      <p className=\"text-sm text-zinc-500 line-clamp-2 leading-relaxed\">\r\n                        {campaign.context?.objective || 'Estratégia multicanal'} • {campaign.context?.market || 'Global'}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div className=\"px-6 py-5 bg-white/[0.01] border-t border-white/[0.04]\">\r\n                      <div className=\"space-y-3\">\r\n                        <div className=\"flex items-center justify-between text-[10px] uppercase font-bold tracking-wider\">\r\n                          <span className=\"text-zinc-500\">Congruência Estratégica</span>\r\n                          <span className=\"text-amber-400\">40%</span>\r\n                        </div>\r\n                        <div className=\"h-1.5 w-full bg-zinc-900 rounded-full overflow-hidden\">\r\n                          <div className=\"h-full bg-gradient-to-r from-amber-600 to-amber-400 rounded-full shadow-[0_0_10px_rgba(245,158,11,0.3)]\" style={{ width: '40%' }} />\r\n                        </div>\r\n                        \r\n                        <div className=\"flex items-center justify-between pt-3\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"flex -space-x-2\">\r\n                              {[1, 2].map(i => (\r\n                                <div key={i} className=\"h-6 w-6 rounded-full border-2 border-zinc-950 bg-zinc-800 flex items-center justify-center\">\r\n                                  <div className=\"h-1 w-1 rounded-full bg-emerald-500 shadow-[0_0_5px_rgba(16,185,129,0.5)]\" />\r\n                                </div>\r\n                              ))}\r\n                              <div className=\"h-6 w-6 rounded-full border-2 border-zinc-950 bg-zinc-900 flex items-center justify-center text-[8px] font-bold text-zinc-600\">\r\n                                +3\r\n                              </div>\r\n                            </div>\r\n                            <span className=\"text-[10px] font-bold text-zinc-500 uppercase tracking-tighter\">Etapas Prontas</span>\r\n                          </div>\r\n                          <ChevronRight className=\"h-4 w-4 text-amber-500 group-hover:translate-x-1 transition-transform\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}