{"version":3,"sources":["../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-env/dist-es/fromEnv.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-node/dist-es/defaultProvider.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-node/dist-es/remoteProvider.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-node/dist-es/runtime/memoize-chain.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/fromHttp.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/checkUrl.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/requestHelpers.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/retry-wrapper.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-sso/dist-es/fromSSO.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/loadSsoSessionData.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getSsoSessionData.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-sso/dist-es/isSsoProfile.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-sso/dist-es/resolveSSOCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/property-provider/dist-es/TokenProviderError.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/token-providers/dist-es/fromSso.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/token-providers/dist-es/constants.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/token-providers/dist-es/getSsoOidcClient.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/token-providers/dist-es/getNewSsoOidcToken.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/token-providers/dist-es/validateTokenExpiry.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/token-providers/dist-es/validateTokenKey.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/token-providers/dist-es/writeSSOTokenToFile.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-sso/dist-es/validateSsoProfile.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/fromContainerMetadata.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/remoteProvider/httpRequest.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/remoteProvider/ImdsCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/remoteProvider/RemoteProviderInit.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/remoteProvider/retry.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/fromInstanceMetadata.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/error/InstanceMetadataV1FallbackError.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/utils/getInstanceMetadataEndpoint.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/config/Endpoint.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/config/EndpointConfigOptions.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/config/EndpointMode.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/config/EndpointModeConfigOptions.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/utils/getExtendedInstanceMetadataCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/credential-provider-imds/dist-es/utils/staticStabilityProvider.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/property-provider/dist-es/ProviderError.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/property-provider/dist-es/CredentialsProviderError.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/core/dist-es/submodules/client/setCredentialFeature.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getHomeDir.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/readFile.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getProfileName.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/types/dist-es/profile.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/constants.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getConfigData.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getConfigFilepath.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getCredentialsFilepath.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/parseIni.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/loadSharedConfigFiles.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/property-provider/dist-es/chain.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/is-array-buffer/dist-es/index.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/util-buffer-from/dist-es/index.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/protocol-http/dist-es/httpRequest.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/node-config-provider/dist-es/configLoader.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/property-provider/dist-es/memoize.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/node-config-provider/dist-es/fromEnv.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/node-config-provider/dist-es/getSelectorName.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/node-config-provider/dist-es/fromSharedConfigFiles.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/property-provider/dist-es/fromStatic.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/node-config-provider/dist-es/fromStatic.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/querystring-parser/dist-es/index.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/url-parser/dist-es/index.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/util-stream/dist-es/sdk-stream-mixin.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/fetch-http-handler/dist-es/stream-collector.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/util-stream/dist-es/sdk-stream-mixin.browser.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/util-stream/dist-es/stream-type-check.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-web-identity/dist-es/fromTokenFile.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-web-identity/dist-es/fromWebToken.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/externalDataInterceptor.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/parseKnownFiles.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/mergeConfigFiles.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getSSOTokenFromFile.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40smithy/shared-ini-file-loader/dist-es/getSSOTokenFilepath.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-process/dist-es/fromProcess.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-process/dist-es/resolveProcessCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-process/dist-es/getValidatedProcessCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/fromIni.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveProfileData.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveAssumeRoleCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveCredentialSource.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-login/dist-es/LoginCredentialsFetcher.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-login/dist-es/fromLoginCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveLoginCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveProcessCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveSsoCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveStaticCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/node_modules/%40aws-sdk/credential-provider-ini/dist-es/resolveWebIdentityCredentials.js","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/constants.ts","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/ai/prompts/ads-generation.ts","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/ai/embeddings.ts"],"sourcesContent":["import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nexport const ENV_KEY = \"AWS_ACCESS_KEY_ID\";\nexport const ENV_SECRET = \"AWS_SECRET_ACCESS_KEY\";\nexport const ENV_SESSION = \"AWS_SESSION_TOKEN\";\nexport const ENV_EXPIRATION = \"AWS_CREDENTIAL_EXPIRATION\";\nexport const ENV_CREDENTIAL_SCOPE = \"AWS_CREDENTIAL_SCOPE\";\nexport const ENV_ACCOUNT_ID = \"AWS_ACCOUNT_ID\";\nexport const fromEnv = (init) => async () => {\n    init?.logger?.debug(\"@aws-sdk/credential-provider-env - fromEnv\");\n    const accessKeyId = process.env[ENV_KEY];\n    const secretAccessKey = process.env[ENV_SECRET];\n    const sessionToken = process.env[ENV_SESSION];\n    const expiry = process.env[ENV_EXPIRATION];\n    const credentialScope = process.env[ENV_CREDENTIAL_SCOPE];\n    const accountId = process.env[ENV_ACCOUNT_ID];\n    if (accessKeyId && secretAccessKey) {\n        const credentials = {\n            accessKeyId,\n            secretAccessKey,\n            ...(sessionToken && { sessionToken }),\n            ...(expiry && { expiration: new Date(expiry) }),\n            ...(credentialScope && { credentialScope }),\n            ...(accountId && { accountId }),\n        };\n        setCredentialFeature(credentials, \"CREDENTIALS_ENV_VARS\", \"g\");\n        return credentials;\n    }\n    throw new CredentialsProviderError(\"Unable to find environment variable credentials.\", { logger: init?.logger });\n};\n","import { ENV_KEY, ENV_SECRET, fromEnv } from \"@aws-sdk/credential-provider-env\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { ENV_PROFILE } from \"@smithy/shared-ini-file-loader\";\nimport { remoteProvider } from \"./remoteProvider\";\nimport { memoizeChain } from \"./runtime/memoize-chain\";\nlet multipleCredentialSourceWarningEmitted = false;\nexport const defaultProvider = (init = {}) => memoizeChain([\n    async () => {\n        const profile = init.profile ?? process.env[ENV_PROFILE];\n        if (profile) {\n            const envStaticCredentialsAreSet = process.env[ENV_KEY] && process.env[ENV_SECRET];\n            if (envStaticCredentialsAreSet) {\n                if (!multipleCredentialSourceWarningEmitted) {\n                    const warnFn = init.logger?.warn && init.logger?.constructor?.name !== \"NoOpLogger\"\n                        ? init.logger.warn.bind(init.logger)\n                        : console.warn;\n                    warnFn(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:\n    Multiple credential sources detected: \n    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.\n    This SDK will proceed with the AWS_PROFILE value.\n    \n    However, a future version may change this behavior to prefer the ENV static credentials.\n    Please ensure that your environment only sets either the AWS_PROFILE or the\n    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.\n`);\n                    multipleCredentialSourceWarningEmitted = true;\n                }\n            }\n            throw new CredentialsProviderError(\"AWS_PROFILE is set, skipping fromEnv provider.\", {\n                logger: init.logger,\n                tryNextLink: true,\n            });\n        }\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromEnv\");\n        return fromEnv(init)();\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromSSO\");\n        const { ssoStartUrl, ssoAccountId, ssoRegion, ssoRoleName, ssoSession } = init;\n        if (!ssoStartUrl && !ssoAccountId && !ssoRegion && !ssoRoleName && !ssoSession) {\n            throw new CredentialsProviderError(\"Skipping SSO provider in default chain (inputs do not include SSO fields).\", { logger: init.logger });\n        }\n        const { fromSSO } = await import(\"@aws-sdk/credential-provider-sso\");\n        return fromSSO(init)(awsIdentityProperties);\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromIni\");\n        const { fromIni } = await import(\"@aws-sdk/credential-provider-ini\");\n        return fromIni(init)(awsIdentityProperties);\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromProcess\");\n        const { fromProcess } = await import(\"@aws-sdk/credential-provider-process\");\n        return fromProcess(init)(awsIdentityProperties);\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile\");\n        const { fromTokenFile } = await import(\"@aws-sdk/credential-provider-web-identity\");\n        return fromTokenFile(init)(awsIdentityProperties);\n    },\n    async () => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::remoteProvider\");\n        return (await remoteProvider(init))();\n    },\n    async () => {\n        throw new CredentialsProviderError(\"Could not load credentials from any providers\", {\n            tryNextLink: false,\n            logger: init.logger,\n        });\n    },\n], credentialsTreatedAsExpired);\nexport const credentialsWillNeedRefresh = (credentials) => credentials?.expiration !== undefined;\nexport const credentialsTreatedAsExpired = (credentials) => credentials?.expiration !== undefined && credentials.expiration.getTime() - Date.now() < 300000;\n","import { chain, CredentialsProviderError } from \"@smithy/property-provider\";\nexport const ENV_IMDS_DISABLED = \"AWS_EC2_METADATA_DISABLED\";\nexport const remoteProvider = async (init) => {\n    const { ENV_CMDS_FULL_URI, ENV_CMDS_RELATIVE_URI, fromContainerMetadata, fromInstanceMetadata } = await import(\"@smithy/credential-provider-imds\");\n    if (process.env[ENV_CMDS_RELATIVE_URI] || process.env[ENV_CMDS_FULL_URI]) {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata\");\n        const { fromHttp } = await import(\"@aws-sdk/credential-provider-http\");\n        return chain(fromHttp(init), fromContainerMetadata(init));\n    }\n    if (process.env[ENV_IMDS_DISABLED] && process.env[ENV_IMDS_DISABLED] !== \"false\") {\n        return async () => {\n            throw new CredentialsProviderError(\"EC2 Instance Metadata Service access disabled\", { logger: init.logger });\n        };\n    }\n    init.logger?.debug(\"@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata\");\n    return fromInstanceMetadata(init);\n};\n","export function memoizeChain(providers, treatAsExpired) {\n    const chain = internalCreateChain(providers);\n    let activeLock;\n    let passiveLock;\n    let credentials;\n    const provider = async (options) => {\n        if (options?.forceRefresh) {\n            return await chain(options);\n        }\n        if (credentials?.expiration) {\n            if (credentials?.expiration?.getTime() < Date.now()) {\n                credentials = undefined;\n            }\n        }\n        if (activeLock) {\n            await activeLock;\n        }\n        else if (!credentials || treatAsExpired?.(credentials)) {\n            if (credentials) {\n                if (!passiveLock) {\n                    passiveLock = chain(options).then((c) => {\n                        credentials = c;\n                        passiveLock = undefined;\n                    });\n                }\n            }\n            else {\n                activeLock = chain(options).then((c) => {\n                    credentials = c;\n                    activeLock = undefined;\n                });\n                return provider(options);\n            }\n        }\n        return credentials;\n    };\n    return provider;\n}\nexport const internalCreateChain = (providers) => async (awsIdentityProperties) => {\n    let lastProviderError;\n    for (const provider of providers) {\n        try {\n            return await provider(awsIdentityProperties);\n        }\n        catch (err) {\n            lastProviderError = err;\n            if (err?.tryNextLink) {\n                continue;\n            }\n            throw err;\n        }\n    }\n    throw lastProviderError;\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { NodeHttpHandler } from \"@smithy/node-http-handler\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport fs from \"fs/promises\";\nimport { checkUrl } from \"./checkUrl\";\nimport { createGetRequest, getCredentials } from \"./requestHelpers\";\nimport { retryWrapper } from \"./retry-wrapper\";\nconst AWS_CONTAINER_CREDENTIALS_RELATIVE_URI = \"AWS_CONTAINER_CREDENTIALS_RELATIVE_URI\";\nconst DEFAULT_LINK_LOCAL_HOST = \"http://169.254.170.2\";\nconst AWS_CONTAINER_CREDENTIALS_FULL_URI = \"AWS_CONTAINER_CREDENTIALS_FULL_URI\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE = \"AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN = \"AWS_CONTAINER_AUTHORIZATION_TOKEN\";\nexport const fromHttp = (options = {}) => {\n    options.logger?.debug(\"@aws-sdk/credential-provider-http - fromHttp\");\n    let host;\n    const relative = options.awsContainerCredentialsRelativeUri ?? process.env[AWS_CONTAINER_CREDENTIALS_RELATIVE_URI];\n    const full = options.awsContainerCredentialsFullUri ?? process.env[AWS_CONTAINER_CREDENTIALS_FULL_URI];\n    const token = options.awsContainerAuthorizationToken ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN];\n    const tokenFile = options.awsContainerAuthorizationTokenFile ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE];\n    const warn = options.logger?.constructor?.name === \"NoOpLogger\" || !options.logger?.warn\n        ? console.warn\n        : options.logger.warn.bind(options.logger);\n    if (relative && full) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri.\");\n        warn(\"awsContainerCredentialsFullUri will take precedence.\");\n    }\n    if (token && tokenFile) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile.\");\n        warn(\"awsContainerAuthorizationToken will take precedence.\");\n    }\n    if (full) {\n        host = full;\n    }\n    else if (relative) {\n        host = `${DEFAULT_LINK_LOCAL_HOST}${relative}`;\n    }\n    else {\n        throw new CredentialsProviderError(`No HTTP credential provider host provided.\nSet AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`, { logger: options.logger });\n    }\n    const url = new URL(host);\n    checkUrl(url, options.logger);\n    const requestHandler = NodeHttpHandler.create({\n        requestTimeout: options.timeout ?? 1000,\n        connectionTimeout: options.timeout ?? 1000,\n    });\n    return retryWrapper(async () => {\n        const request = createGetRequest(url);\n        if (token) {\n            request.headers.Authorization = token;\n        }\n        else if (tokenFile) {\n            request.headers.Authorization = (await fs.readFile(tokenFile)).toString();\n        }\n        try {\n            const result = await requestHandler.handle(request);\n            return getCredentials(result.response).then((creds) => setCredentialFeature(creds, \"CREDENTIALS_HTTP\", \"z\"));\n        }\n        catch (e) {\n            throw new CredentialsProviderError(String(e), { logger: options.logger });\n        }\n    }, options.maxRetries ?? 3, options.timeout ?? 1000);\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nconst LOOPBACK_CIDR_IPv4 = \"127.0.0.0/8\";\nconst LOOPBACK_CIDR_IPv6 = \"::1/128\";\nconst ECS_CONTAINER_HOST = \"169.254.170.2\";\nconst EKS_CONTAINER_HOST_IPv4 = \"169.254.170.23\";\nconst EKS_CONTAINER_HOST_IPv6 = \"[fd00:ec2::23]\";\nexport const checkUrl = (url, logger) => {\n    if (url.protocol === \"https:\") {\n        return;\n    }\n    if (url.hostname === ECS_CONTAINER_HOST ||\n        url.hostname === EKS_CONTAINER_HOST_IPv4 ||\n        url.hostname === EKS_CONTAINER_HOST_IPv6) {\n        return;\n    }\n    if (url.hostname.includes(\"[\")) {\n        if (url.hostname === \"[::1]\" || url.hostname === \"[0000:0000:0000:0000:0000:0000:0000:0001]\") {\n            return;\n        }\n    }\n    else {\n        if (url.hostname === \"localhost\") {\n            return;\n        }\n        const ipComponents = url.hostname.split(\".\");\n        const inRange = (component) => {\n            const num = parseInt(component, 10);\n            return 0 <= num && num <= 255;\n        };\n        if (ipComponents[0] === \"127\" &&\n            inRange(ipComponents[1]) &&\n            inRange(ipComponents[2]) &&\n            inRange(ipComponents[3]) &&\n            ipComponents.length === 4) {\n            return;\n        }\n    }\n    throw new CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]`, { logger });\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { HttpRequest } from \"@smithy/protocol-http\";\nimport { parseRfc3339DateTime } from \"@smithy/smithy-client\";\nimport { sdkStreamMixin } from \"@smithy/util-stream\";\nexport function createGetRequest(url) {\n    return new HttpRequest({\n        protocol: url.protocol,\n        hostname: url.hostname,\n        port: Number(url.port),\n        path: url.pathname,\n        query: Array.from(url.searchParams.entries()).reduce((acc, [k, v]) => {\n            acc[k] = v;\n            return acc;\n        }, {}),\n        fragment: url.hash,\n    });\n}\nexport async function getCredentials(response, logger) {\n    const stream = sdkStreamMixin(response.body);\n    const str = await stream.transformToString();\n    if (response.statusCode === 200) {\n        const parsed = JSON.parse(str);\n        if (typeof parsed.AccessKeyId !== \"string\" ||\n            typeof parsed.SecretAccessKey !== \"string\" ||\n            typeof parsed.Token !== \"string\" ||\n            typeof parsed.Expiration !== \"string\") {\n            throw new CredentialsProviderError(\"HTTP credential provider response not of the required format, an object matching: \" +\n                \"{ AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }\", { logger });\n        }\n        return {\n            accessKeyId: parsed.AccessKeyId,\n            secretAccessKey: parsed.SecretAccessKey,\n            sessionToken: parsed.Token,\n            expiration: parseRfc3339DateTime(parsed.Expiration),\n        };\n    }\n    if (response.statusCode >= 400 && response.statusCode < 500) {\n        let parsedBody = {};\n        try {\n            parsedBody = JSON.parse(str);\n        }\n        catch (e) { }\n        throw Object.assign(new CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger }), {\n            Code: parsedBody.Code,\n            Message: parsedBody.Message,\n        });\n    }\n    throw new CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger });\n}\n","export const retryWrapper = (toRetry, maxRetries, delayMs) => {\n    return async () => {\n        for (let i = 0; i < maxRetries; ++i) {\n            try {\n                return await toRetry();\n            }\n            catch (e) {\n                await new Promise((resolve) => setTimeout(resolve, delayMs));\n            }\n        }\n        return await toRetry();\n    };\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getProfileName, loadSsoSessionData, parseKnownFiles } from \"@smithy/shared-ini-file-loader\";\nimport { isSsoProfile } from \"./isSsoProfile\";\nimport { resolveSSOCredentials } from \"./resolveSSOCredentials\";\nimport { validateSsoProfile } from \"./validateSsoProfile\";\nexport const fromSSO = (init = {}) => async ({ callerClientConfig } = {}) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-sso - fromSSO\");\n    const { ssoStartUrl, ssoAccountId, ssoRegion, ssoRoleName, ssoSession } = init;\n    const { ssoClient } = init;\n    const profileName = getProfileName({\n        profile: init.profile ?? callerClientConfig?.profile,\n    });\n    if (!ssoStartUrl && !ssoAccountId && !ssoRegion && !ssoRoleName && !ssoSession) {\n        const profiles = await parseKnownFiles(init);\n        const profile = profiles[profileName];\n        if (!profile) {\n            throw new CredentialsProviderError(`Profile ${profileName} was not found.`, { logger: init.logger });\n        }\n        if (!isSsoProfile(profile)) {\n            throw new CredentialsProviderError(`Profile ${profileName} is not configured with SSO credentials.`, {\n                logger: init.logger,\n            });\n        }\n        if (profile?.sso_session) {\n            const ssoSessions = await loadSsoSessionData(init);\n            const session = ssoSessions[profile.sso_session];\n            const conflictMsg = ` configurations in profile ${profileName} and sso-session ${profile.sso_session}`;\n            if (ssoRegion && ssoRegion !== session.sso_region) {\n                throw new CredentialsProviderError(`Conflicting SSO region` + conflictMsg, {\n                    tryNextLink: false,\n                    logger: init.logger,\n                });\n            }\n            if (ssoStartUrl && ssoStartUrl !== session.sso_start_url) {\n                throw new CredentialsProviderError(`Conflicting SSO start_url` + conflictMsg, {\n                    tryNextLink: false,\n                    logger: init.logger,\n                });\n            }\n            profile.sso_region = session.sso_region;\n            profile.sso_start_url = session.sso_start_url;\n        }\n        const { sso_start_url, sso_account_id, sso_region, sso_role_name, sso_session } = validateSsoProfile(profile, init.logger);\n        return resolveSSOCredentials({\n            ssoStartUrl: sso_start_url,\n            ssoSession: sso_session,\n            ssoAccountId: sso_account_id,\n            ssoRegion: sso_region,\n            ssoRoleName: sso_role_name,\n            ssoClient: ssoClient,\n            clientConfig: init.clientConfig,\n            parentClientConfig: init.parentClientConfig,\n            callerClientConfig: init.callerClientConfig,\n            profile: profileName,\n            filepath: init.filepath,\n            configFilepath: init.configFilepath,\n            ignoreCache: init.ignoreCache,\n            logger: init.logger,\n        });\n    }\n    else if (!ssoStartUrl || !ssoAccountId || !ssoRegion || !ssoRoleName) {\n        throw new CredentialsProviderError(\"Incomplete configuration. The fromSSO() argument hash must include \" +\n            '\"ssoStartUrl\", \"ssoAccountId\", \"ssoRegion\", \"ssoRoleName\"', { tryNextLink: false, logger: init.logger });\n    }\n    else {\n        return resolveSSOCredentials({\n            ssoStartUrl,\n            ssoSession,\n            ssoAccountId,\n            ssoRegion,\n            ssoRoleName,\n            ssoClient,\n            clientConfig: init.clientConfig,\n            parentClientConfig: init.parentClientConfig,\n            callerClientConfig: init.callerClientConfig,\n            profile: profileName,\n            filepath: init.filepath,\n            configFilepath: init.configFilepath,\n            ignoreCache: init.ignoreCache,\n            logger: init.logger,\n        });\n    }\n};\n","import { getConfigFilepath } from \"./getConfigFilepath\";\nimport { getSsoSessionData } from \"./getSsoSessionData\";\nimport { parseIni } from \"./parseIni\";\nimport { readFile } from \"./readFile\";\nconst swallowError = () => ({});\nexport const loadSsoSessionData = async (init = {}) => readFile(init.configFilepath ?? getConfigFilepath())\n    .then(parseIni)\n    .then(getSsoSessionData)\n    .catch(swallowError);\n","import { IniSectionType } from \"@smithy/types\";\nimport { CONFIG_PREFIX_SEPARATOR } from \"./loadSharedConfigFiles\";\nexport const getSsoSessionData = (data) => Object.entries(data)\n    .filter(([key]) => key.startsWith(IniSectionType.SSO_SESSION + CONFIG_PREFIX_SEPARATOR))\n    .reduce((acc, [key, value]) => ({ ...acc, [key.substring(key.indexOf(CONFIG_PREFIX_SEPARATOR) + 1)]: value }), {});\n","export const isSsoProfile = (arg) => arg &&\n    (typeof arg.sso_start_url === \"string\" ||\n        typeof arg.sso_account_id === \"string\" ||\n        typeof arg.sso_session === \"string\" ||\n        typeof arg.sso_region === \"string\" ||\n        typeof arg.sso_role_name === \"string\");\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { fromSso as getSsoTokenProvider } from \"@aws-sdk/token-providers\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getSSOTokenFromFile } from \"@smithy/shared-ini-file-loader\";\nconst SHOULD_FAIL_CREDENTIAL_CHAIN = false;\nexport const resolveSSOCredentials = async ({ ssoStartUrl, ssoSession, ssoAccountId, ssoRegion, ssoRoleName, ssoClient, clientConfig, parentClientConfig, callerClientConfig, profile, filepath, configFilepath, ignoreCache, logger, }) => {\n    let token;\n    const refreshMessage = `To refresh this SSO session run aws sso login with the corresponding profile.`;\n    if (ssoSession) {\n        try {\n            const _token = await getSsoTokenProvider({\n                profile,\n                filepath,\n                configFilepath,\n                ignoreCache,\n            })();\n            token = {\n                accessToken: _token.token,\n                expiresAt: new Date(_token.expiration).toISOString(),\n            };\n        }\n        catch (e) {\n            throw new CredentialsProviderError(e.message, {\n                tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n                logger,\n            });\n        }\n    }\n    else {\n        try {\n            token = await getSSOTokenFromFile(ssoStartUrl);\n        }\n        catch (e) {\n            throw new CredentialsProviderError(`The SSO session associated with this profile is invalid. ${refreshMessage}`, {\n                tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n                logger,\n            });\n        }\n    }\n    if (new Date(token.expiresAt).getTime() - Date.now() <= 0) {\n        throw new CredentialsProviderError(`The SSO session associated with this profile has expired. ${refreshMessage}`, {\n            tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n            logger,\n        });\n    }\n    const { accessToken } = token;\n    const { SSOClient, GetRoleCredentialsCommand } = await import(\"./loadSso\");\n    const sso = ssoClient ||\n        new SSOClient(Object.assign({}, clientConfig ?? {}, {\n            logger: clientConfig?.logger ?? callerClientConfig?.logger ?? parentClientConfig?.logger,\n            region: clientConfig?.region ?? ssoRegion,\n            userAgentAppId: clientConfig?.userAgentAppId ?? callerClientConfig?.userAgentAppId ?? parentClientConfig?.userAgentAppId,\n        }));\n    let ssoResp;\n    try {\n        ssoResp = await sso.send(new GetRoleCredentialsCommand({\n            accountId: ssoAccountId,\n            roleName: ssoRoleName,\n            accessToken,\n        }));\n    }\n    catch (e) {\n        throw new CredentialsProviderError(e, {\n            tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n            logger,\n        });\n    }\n    const { roleCredentials: { accessKeyId, secretAccessKey, sessionToken, expiration, credentialScope, accountId } = {}, } = ssoResp;\n    if (!accessKeyId || !secretAccessKey || !sessionToken || !expiration) {\n        throw new CredentialsProviderError(\"SSO returns an invalid temporary credential.\", {\n            tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n            logger,\n        });\n    }\n    const credentials = {\n        accessKeyId,\n        secretAccessKey,\n        sessionToken,\n        expiration: new Date(expiration),\n        ...(credentialScope && { credentialScope }),\n        ...(accountId && { accountId }),\n    };\n    if (ssoSession) {\n        setCredentialFeature(credentials, \"CREDENTIALS_SSO\", \"s\");\n    }\n    else {\n        setCredentialFeature(credentials, \"CREDENTIALS_SSO_LEGACY\", \"u\");\n    }\n    return credentials;\n};\n","import { ProviderError } from \"./ProviderError\";\nexport class TokenProviderError extends ProviderError {\n    name = \"TokenProviderError\";\n    constructor(message, options = true) {\n        super(message, options);\n        Object.setPrototypeOf(this, TokenProviderError.prototype);\n    }\n}\n","import { TokenProviderError } from \"@smithy/property-provider\";\nimport { getProfileName, getSSOTokenFromFile, loadSsoSessionData, parseKnownFiles, } from \"@smithy/shared-ini-file-loader\";\nimport { EXPIRE_WINDOW_MS, REFRESH_MESSAGE } from \"./constants\";\nimport { getNewSsoOidcToken } from \"./getNewSsoOidcToken\";\nimport { validateTokenExpiry } from \"./validateTokenExpiry\";\nimport { validateTokenKey } from \"./validateTokenKey\";\nimport { writeSSOTokenToFile } from \"./writeSSOTokenToFile\";\nconst lastRefreshAttemptTime = new Date(0);\nexport const fromSso = (init = {}) => async ({ callerClientConfig } = {}) => {\n    init.logger?.debug(\"@aws-sdk/token-providers - fromSso\");\n    const profiles = await parseKnownFiles(init);\n    const profileName = getProfileName({\n        profile: init.profile ?? callerClientConfig?.profile,\n    });\n    const profile = profiles[profileName];\n    if (!profile) {\n        throw new TokenProviderError(`Profile '${profileName}' could not be found in shared credentials file.`, false);\n    }\n    else if (!profile[\"sso_session\"]) {\n        throw new TokenProviderError(`Profile '${profileName}' is missing required property 'sso_session'.`);\n    }\n    const ssoSessionName = profile[\"sso_session\"];\n    const ssoSessions = await loadSsoSessionData(init);\n    const ssoSession = ssoSessions[ssoSessionName];\n    if (!ssoSession) {\n        throw new TokenProviderError(`Sso session '${ssoSessionName}' could not be found in shared credentials file.`, false);\n    }\n    for (const ssoSessionRequiredKey of [\"sso_start_url\", \"sso_region\"]) {\n        if (!ssoSession[ssoSessionRequiredKey]) {\n            throw new TokenProviderError(`Sso session '${ssoSessionName}' is missing required property '${ssoSessionRequiredKey}'.`, false);\n        }\n    }\n    const ssoStartUrl = ssoSession[\"sso_start_url\"];\n    const ssoRegion = ssoSession[\"sso_region\"];\n    let ssoToken;\n    try {\n        ssoToken = await getSSOTokenFromFile(ssoSessionName);\n    }\n    catch (e) {\n        throw new TokenProviderError(`The SSO session token associated with profile=${profileName} was not found or is invalid. ${REFRESH_MESSAGE}`, false);\n    }\n    validateTokenKey(\"accessToken\", ssoToken.accessToken);\n    validateTokenKey(\"expiresAt\", ssoToken.expiresAt);\n    const { accessToken, expiresAt } = ssoToken;\n    const existingToken = { token: accessToken, expiration: new Date(expiresAt) };\n    if (existingToken.expiration.getTime() - Date.now() > EXPIRE_WINDOW_MS) {\n        return existingToken;\n    }\n    if (Date.now() - lastRefreshAttemptTime.getTime() < 30 * 1000) {\n        validateTokenExpiry(existingToken);\n        return existingToken;\n    }\n    validateTokenKey(\"clientId\", ssoToken.clientId, true);\n    validateTokenKey(\"clientSecret\", ssoToken.clientSecret, true);\n    validateTokenKey(\"refreshToken\", ssoToken.refreshToken, true);\n    try {\n        lastRefreshAttemptTime.setTime(Date.now());\n        const newSsoOidcToken = await getNewSsoOidcToken(ssoToken, ssoRegion, init, callerClientConfig);\n        validateTokenKey(\"accessToken\", newSsoOidcToken.accessToken);\n        validateTokenKey(\"expiresIn\", newSsoOidcToken.expiresIn);\n        const newTokenExpiration = new Date(Date.now() + newSsoOidcToken.expiresIn * 1000);\n        try {\n            await writeSSOTokenToFile(ssoSessionName, {\n                ...ssoToken,\n                accessToken: newSsoOidcToken.accessToken,\n                expiresAt: newTokenExpiration.toISOString(),\n                refreshToken: newSsoOidcToken.refreshToken,\n            });\n        }\n        catch (error) {\n        }\n        return {\n            token: newSsoOidcToken.accessToken,\n            expiration: newTokenExpiration,\n        };\n    }\n    catch (error) {\n        validateTokenExpiry(existingToken);\n        return existingToken;\n    }\n};\n","export const EXPIRE_WINDOW_MS = 5 * 60 * 1000;\nexport const REFRESH_MESSAGE = `To refresh this SSO session run 'aws sso login' with the corresponding profile.`;\n","export const getSsoOidcClient = async (ssoRegion, init = {}, callerClientConfig) => {\n    const { SSOOIDCClient } = await import(\"@aws-sdk/nested-clients/sso-oidc\");\n    const coalesce = (prop) => init.clientConfig?.[prop] ?? init.parentClientConfig?.[prop] ?? callerClientConfig?.[prop];\n    const ssoOidcClient = new SSOOIDCClient(Object.assign({}, init.clientConfig ?? {}, {\n        region: ssoRegion ?? init.clientConfig?.region,\n        logger: coalesce(\"logger\"),\n        userAgentAppId: coalesce(\"userAgentAppId\"),\n    }));\n    return ssoOidcClient;\n};\n","import { getSsoOidcClient } from \"./getSsoOidcClient\";\nexport const getNewSsoOidcToken = async (ssoToken, ssoRegion, init = {}, callerClientConfig) => {\n    const { CreateTokenCommand } = await import(\"@aws-sdk/nested-clients/sso-oidc\");\n    const ssoOidcClient = await getSsoOidcClient(ssoRegion, init, callerClientConfig);\n    return ssoOidcClient.send(new CreateTokenCommand({\n        clientId: ssoToken.clientId,\n        clientSecret: ssoToken.clientSecret,\n        refreshToken: ssoToken.refreshToken,\n        grantType: \"refresh_token\",\n    }));\n};\n","import { TokenProviderError } from \"@smithy/property-provider\";\nimport { REFRESH_MESSAGE } from \"./constants\";\nexport const validateTokenExpiry = (token) => {\n    if (token.expiration && token.expiration.getTime() < Date.now()) {\n        throw new TokenProviderError(`Token is expired. ${REFRESH_MESSAGE}`, false);\n    }\n};\n","import { TokenProviderError } from \"@smithy/property-provider\";\nimport { REFRESH_MESSAGE } from \"./constants\";\nexport const validateTokenKey = (key, value, forRefresh = false) => {\n    if (typeof value === \"undefined\") {\n        throw new TokenProviderError(`Value not present for '${key}' in SSO Token${forRefresh ? \". Cannot refresh\" : \"\"}. ${REFRESH_MESSAGE}`, false);\n    }\n};\n","import { getSSOTokenFilepath } from \"@smithy/shared-ini-file-loader\";\nimport { promises as fsPromises } from \"fs\";\nconst { writeFile } = fsPromises;\nexport const writeSSOTokenToFile = (id, ssoToken) => {\n    const tokenFilepath = getSSOTokenFilepath(id);\n    const tokenString = JSON.stringify(ssoToken, null, 2);\n    return writeFile(tokenFilepath, tokenString);\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nexport const validateSsoProfile = (profile, logger) => {\n    const { sso_start_url, sso_account_id, sso_region, sso_role_name } = profile;\n    if (!sso_start_url || !sso_account_id || !sso_region || !sso_role_name) {\n        throw new CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters \"sso_account_id\", ` +\n            `\"sso_region\", \"sso_role_name\", \"sso_start_url\". Got ${Object.keys(profile).join(\", \")}\\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`, { tryNextLink: false, logger });\n    }\n    return profile;\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { parse } from \"url\";\nimport { httpRequest } from \"./remoteProvider/httpRequest\";\nimport { fromImdsCredentials, isImdsCredentials } from \"./remoteProvider/ImdsCredentials\";\nimport { providerConfigFromInit } from \"./remoteProvider/RemoteProviderInit\";\nimport { retry } from \"./remoteProvider/retry\";\nexport const ENV_CMDS_FULL_URI = \"AWS_CONTAINER_CREDENTIALS_FULL_URI\";\nexport const ENV_CMDS_RELATIVE_URI = \"AWS_CONTAINER_CREDENTIALS_RELATIVE_URI\";\nexport const ENV_CMDS_AUTH_TOKEN = \"AWS_CONTAINER_AUTHORIZATION_TOKEN\";\nexport const fromContainerMetadata = (init = {}) => {\n    const { timeout, maxRetries } = providerConfigFromInit(init);\n    return () => retry(async () => {\n        const requestOptions = await getCmdsUri({ logger: init.logger });\n        const credsResponse = JSON.parse(await requestFromEcsImds(timeout, requestOptions));\n        if (!isImdsCredentials(credsResponse)) {\n            throw new CredentialsProviderError(\"Invalid response received from instance metadata service.\", {\n                logger: init.logger,\n            });\n        }\n        return fromImdsCredentials(credsResponse);\n    }, maxRetries);\n};\nconst requestFromEcsImds = async (timeout, options) => {\n    if (process.env[ENV_CMDS_AUTH_TOKEN]) {\n        options.headers = {\n            ...options.headers,\n            Authorization: process.env[ENV_CMDS_AUTH_TOKEN],\n        };\n    }\n    const buffer = await httpRequest({\n        ...options,\n        timeout,\n    });\n    return buffer.toString();\n};\nconst CMDS_IP = \"169.254.170.2\";\nconst GREENGRASS_HOSTS = {\n    localhost: true,\n    \"127.0.0.1\": true,\n};\nconst GREENGRASS_PROTOCOLS = {\n    \"http:\": true,\n    \"https:\": true,\n};\nconst getCmdsUri = async ({ logger }) => {\n    if (process.env[ENV_CMDS_RELATIVE_URI]) {\n        return {\n            hostname: CMDS_IP,\n            path: process.env[ENV_CMDS_RELATIVE_URI],\n        };\n    }\n    if (process.env[ENV_CMDS_FULL_URI]) {\n        const parsed = parse(process.env[ENV_CMDS_FULL_URI]);\n        if (!parsed.hostname || !(parsed.hostname in GREENGRASS_HOSTS)) {\n            throw new CredentialsProviderError(`${parsed.hostname} is not a valid container metadata service hostname`, {\n                tryNextLink: false,\n                logger,\n            });\n        }\n        if (!parsed.protocol || !(parsed.protocol in GREENGRASS_PROTOCOLS)) {\n            throw new CredentialsProviderError(`${parsed.protocol} is not a valid container metadata service protocol`, {\n                tryNextLink: false,\n                logger,\n            });\n        }\n        return {\n            ...parsed,\n            port: parsed.port ? parseInt(parsed.port, 10) : undefined,\n        };\n    }\n    throw new CredentialsProviderError(\"The container metadata credential provider cannot be used unless\" +\n        ` the ${ENV_CMDS_RELATIVE_URI} or ${ENV_CMDS_FULL_URI} environment` +\n        \" variable is set\", {\n        tryNextLink: false,\n        logger,\n    });\n};\n","import { ProviderError } from \"@smithy/property-provider\";\nimport { Buffer } from \"buffer\";\nimport { request } from \"http\";\nexport function httpRequest(options) {\n    return new Promise((resolve, reject) => {\n        const req = request({\n            method: \"GET\",\n            ...options,\n            hostname: options.hostname?.replace(/^\\[(.+)\\]$/, \"$1\"),\n        });\n        req.on(\"error\", (err) => {\n            reject(Object.assign(new ProviderError(\"Unable to connect to instance metadata service\"), err));\n            req.destroy();\n        });\n        req.on(\"timeout\", () => {\n            reject(new ProviderError(\"TimeoutError from instance metadata service\"));\n            req.destroy();\n        });\n        req.on(\"response\", (res) => {\n            const { statusCode = 400 } = res;\n            if (statusCode < 200 || 300 <= statusCode) {\n                reject(Object.assign(new ProviderError(\"Error response received from instance metadata service\"), { statusCode }));\n                req.destroy();\n            }\n            const chunks = [];\n            res.on(\"data\", (chunk) => {\n                chunks.push(chunk);\n            });\n            res.on(\"end\", () => {\n                resolve(Buffer.concat(chunks));\n                req.destroy();\n            });\n        });\n        req.end();\n    });\n}\n","export const isImdsCredentials = (arg) => Boolean(arg) &&\n    typeof arg === \"object\" &&\n    typeof arg.AccessKeyId === \"string\" &&\n    typeof arg.SecretAccessKey === \"string\" &&\n    typeof arg.Token === \"string\" &&\n    typeof arg.Expiration === \"string\";\nexport const fromImdsCredentials = (creds) => ({\n    accessKeyId: creds.AccessKeyId,\n    secretAccessKey: creds.SecretAccessKey,\n    sessionToken: creds.Token,\n    expiration: new Date(creds.Expiration),\n    ...(creds.AccountId && { accountId: creds.AccountId }),\n});\n","export const DEFAULT_TIMEOUT = 1000;\nexport const DEFAULT_MAX_RETRIES = 0;\nexport const providerConfigFromInit = ({ maxRetries = DEFAULT_MAX_RETRIES, timeout = DEFAULT_TIMEOUT, }) => ({ maxRetries, timeout });\n","export const retry = (toRetry, maxRetries) => {\n    let promise = toRetry();\n    for (let i = 0; i < maxRetries; i++) {\n        promise = promise.catch(toRetry);\n    }\n    return promise;\n};\n","import { loadConfig } from \"@smithy/node-config-provider\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { InstanceMetadataV1FallbackError } from \"./error/InstanceMetadataV1FallbackError\";\nimport { httpRequest } from \"./remoteProvider/httpRequest\";\nimport { fromImdsCredentials, isImdsCredentials } from \"./remoteProvider/ImdsCredentials\";\nimport { providerConfigFromInit } from \"./remoteProvider/RemoteProviderInit\";\nimport { retry } from \"./remoteProvider/retry\";\nimport { getInstanceMetadataEndpoint } from \"./utils/getInstanceMetadataEndpoint\";\nimport { staticStabilityProvider } from \"./utils/staticStabilityProvider\";\nconst IMDS_PATH = \"/latest/meta-data/iam/security-credentials/\";\nconst IMDS_TOKEN_PATH = \"/latest/api/token\";\nconst AWS_EC2_METADATA_V1_DISABLED = \"AWS_EC2_METADATA_V1_DISABLED\";\nconst PROFILE_AWS_EC2_METADATA_V1_DISABLED = \"ec2_metadata_v1_disabled\";\nconst X_AWS_EC2_METADATA_TOKEN = \"x-aws-ec2-metadata-token\";\nexport const fromInstanceMetadata = (init = {}) => staticStabilityProvider(getInstanceMetadataProvider(init), { logger: init.logger });\nconst getInstanceMetadataProvider = (init = {}) => {\n    let disableFetchToken = false;\n    const { logger, profile } = init;\n    const { timeout, maxRetries } = providerConfigFromInit(init);\n    const getCredentials = async (maxRetries, options) => {\n        const isImdsV1Fallback = disableFetchToken || options.headers?.[X_AWS_EC2_METADATA_TOKEN] == null;\n        if (isImdsV1Fallback) {\n            let fallbackBlockedFromProfile = false;\n            let fallbackBlockedFromProcessEnv = false;\n            const configValue = await loadConfig({\n                environmentVariableSelector: (env) => {\n                    const envValue = env[AWS_EC2_METADATA_V1_DISABLED];\n                    fallbackBlockedFromProcessEnv = !!envValue && envValue !== \"false\";\n                    if (envValue === undefined) {\n                        throw new CredentialsProviderError(`${AWS_EC2_METADATA_V1_DISABLED} not set in env, checking config file next.`, { logger: init.logger });\n                    }\n                    return fallbackBlockedFromProcessEnv;\n                },\n                configFileSelector: (profile) => {\n                    const profileValue = profile[PROFILE_AWS_EC2_METADATA_V1_DISABLED];\n                    fallbackBlockedFromProfile = !!profileValue && profileValue !== \"false\";\n                    return fallbackBlockedFromProfile;\n                },\n                default: false,\n            }, {\n                profile,\n            })();\n            if (init.ec2MetadataV1Disabled || configValue) {\n                const causes = [];\n                if (init.ec2MetadataV1Disabled)\n                    causes.push(\"credential provider initialization (runtime option ec2MetadataV1Disabled)\");\n                if (fallbackBlockedFromProfile)\n                    causes.push(`config file profile (${PROFILE_AWS_EC2_METADATA_V1_DISABLED})`);\n                if (fallbackBlockedFromProcessEnv)\n                    causes.push(`process environment variable (${AWS_EC2_METADATA_V1_DISABLED})`);\n                throw new InstanceMetadataV1FallbackError(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${causes.join(\", \")}].`);\n            }\n        }\n        const imdsProfile = (await retry(async () => {\n            let profile;\n            try {\n                profile = await getProfile(options);\n            }\n            catch (err) {\n                if (err.statusCode === 401) {\n                    disableFetchToken = false;\n                }\n                throw err;\n            }\n            return profile;\n        }, maxRetries)).trim();\n        return retry(async () => {\n            let creds;\n            try {\n                creds = await getCredentialsFromProfile(imdsProfile, options, init);\n            }\n            catch (err) {\n                if (err.statusCode === 401) {\n                    disableFetchToken = false;\n                }\n                throw err;\n            }\n            return creds;\n        }, maxRetries);\n    };\n    return async () => {\n        const endpoint = await getInstanceMetadataEndpoint();\n        if (disableFetchToken) {\n            logger?.debug(\"AWS SDK Instance Metadata\", \"using v1 fallback (no token fetch)\");\n            return getCredentials(maxRetries, { ...endpoint, timeout });\n        }\n        else {\n            let token;\n            try {\n                token = (await getMetadataToken({ ...endpoint, timeout })).toString();\n            }\n            catch (error) {\n                if (error?.statusCode === 400) {\n                    throw Object.assign(error, {\n                        message: \"EC2 Metadata token request returned error\",\n                    });\n                }\n                else if (error.message === \"TimeoutError\" || [403, 404, 405].includes(error.statusCode)) {\n                    disableFetchToken = true;\n                }\n                logger?.debug(\"AWS SDK Instance Metadata\", \"using v1 fallback (initial)\");\n                return getCredentials(maxRetries, { ...endpoint, timeout });\n            }\n            return getCredentials(maxRetries, {\n                ...endpoint,\n                headers: {\n                    [X_AWS_EC2_METADATA_TOKEN]: token,\n                },\n                timeout,\n            });\n        }\n    };\n};\nconst getMetadataToken = async (options) => httpRequest({\n    ...options,\n    path: IMDS_TOKEN_PATH,\n    method: \"PUT\",\n    headers: {\n        \"x-aws-ec2-metadata-token-ttl-seconds\": \"21600\",\n    },\n});\nconst getProfile = async (options) => (await httpRequest({ ...options, path: IMDS_PATH })).toString();\nconst getCredentialsFromProfile = async (profile, options, init) => {\n    const credentialsResponse = JSON.parse((await httpRequest({\n        ...options,\n        path: IMDS_PATH + profile,\n    })).toString());\n    if (!isImdsCredentials(credentialsResponse)) {\n        throw new CredentialsProviderError(\"Invalid response received from instance metadata service.\", {\n            logger: init.logger,\n        });\n    }\n    return fromImdsCredentials(credentialsResponse);\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nexport class InstanceMetadataV1FallbackError extends CredentialsProviderError {\n    tryNextLink;\n    name = \"InstanceMetadataV1FallbackError\";\n    constructor(message, tryNextLink = true) {\n        super(message, tryNextLink);\n        this.tryNextLink = tryNextLink;\n        Object.setPrototypeOf(this, InstanceMetadataV1FallbackError.prototype);\n    }\n}\n","import { loadConfig } from \"@smithy/node-config-provider\";\nimport { parseUrl } from \"@smithy/url-parser\";\nimport { Endpoint as InstanceMetadataEndpoint } from \"../config/Endpoint\";\nimport { ENDPOINT_CONFIG_OPTIONS } from \"../config/EndpointConfigOptions\";\nimport { EndpointMode } from \"../config/EndpointMode\";\nimport { ENDPOINT_MODE_CONFIG_OPTIONS, } from \"../config/EndpointModeConfigOptions\";\nexport const getInstanceMetadataEndpoint = async () => parseUrl((await getFromEndpointConfig()) || (await getFromEndpointModeConfig()));\nconst getFromEndpointConfig = async () => loadConfig(ENDPOINT_CONFIG_OPTIONS)();\nconst getFromEndpointModeConfig = async () => {\n    const endpointMode = await loadConfig(ENDPOINT_MODE_CONFIG_OPTIONS)();\n    switch (endpointMode) {\n        case EndpointMode.IPv4:\n            return InstanceMetadataEndpoint.IPv4;\n        case EndpointMode.IPv6:\n            return InstanceMetadataEndpoint.IPv6;\n        default:\n            throw new Error(`Unsupported endpoint mode: ${endpointMode}.` + ` Select from ${Object.values(EndpointMode)}`);\n    }\n};\n","export var Endpoint;\n(function (Endpoint) {\n    Endpoint[\"IPv4\"] = \"http://169.254.169.254\";\n    Endpoint[\"IPv6\"] = \"http://[fd00:ec2::254]\";\n})(Endpoint || (Endpoint = {}));\n","export const ENV_ENDPOINT_NAME = \"AWS_EC2_METADATA_SERVICE_ENDPOINT\";\nexport const CONFIG_ENDPOINT_NAME = \"ec2_metadata_service_endpoint\";\nexport const ENDPOINT_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[ENV_ENDPOINT_NAME],\n    configFileSelector: (profile) => profile[CONFIG_ENDPOINT_NAME],\n    default: undefined,\n};\n","export var EndpointMode;\n(function (EndpointMode) {\n    EndpointMode[\"IPv4\"] = \"IPv4\";\n    EndpointMode[\"IPv6\"] = \"IPv6\";\n})(EndpointMode || (EndpointMode = {}));\n","import { EndpointMode } from \"./EndpointMode\";\nexport const ENV_ENDPOINT_MODE_NAME = \"AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE\";\nexport const CONFIG_ENDPOINT_MODE_NAME = \"ec2_metadata_service_endpoint_mode\";\nexport const ENDPOINT_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[ENV_ENDPOINT_MODE_NAME],\n    configFileSelector: (profile) => profile[CONFIG_ENDPOINT_MODE_NAME],\n    default: EndpointMode.IPv4,\n};\n","const STATIC_STABILITY_REFRESH_INTERVAL_SECONDS = 5 * 60;\nconst STATIC_STABILITY_REFRESH_INTERVAL_JITTER_WINDOW_SECONDS = 5 * 60;\nconst STATIC_STABILITY_DOC_URL = \"https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html\";\nexport const getExtendedInstanceMetadataCredentials = (credentials, logger) => {\n    const refreshInterval = STATIC_STABILITY_REFRESH_INTERVAL_SECONDS +\n        Math.floor(Math.random() * STATIC_STABILITY_REFRESH_INTERVAL_JITTER_WINDOW_SECONDS);\n    const newExpiration = new Date(Date.now() + refreshInterval * 1000);\n    logger.warn(\"Attempting credential expiration extension due to a credential service availability issue. A refresh of these \" +\n        `credentials will be attempted after ${new Date(newExpiration)}.\\nFor more information, please visit: ` +\n        STATIC_STABILITY_DOC_URL);\n    const originalExpiration = credentials.originalExpiration ?? credentials.expiration;\n    return {\n        ...credentials,\n        ...(originalExpiration ? { originalExpiration } : {}),\n        expiration: newExpiration,\n    };\n};\n","import { getExtendedInstanceMetadataCredentials } from \"./getExtendedInstanceMetadataCredentials\";\nexport const staticStabilityProvider = (provider, options = {}) => {\n    const logger = options?.logger || console;\n    let pastCredentials;\n    return async () => {\n        let credentials;\n        try {\n            credentials = await provider();\n            if (credentials.expiration && credentials.expiration.getTime() < Date.now()) {\n                credentials = getExtendedInstanceMetadataCredentials(credentials, logger);\n            }\n        }\n        catch (e) {\n            if (pastCredentials) {\n                logger.warn(\"Credential renew failed: \", e);\n                credentials = getExtendedInstanceMetadataCredentials(pastCredentials, logger);\n            }\n            else {\n                throw e;\n            }\n        }\n        pastCredentials = credentials;\n        return credentials;\n    };\n};\n","export class ProviderError extends Error {\n    name = \"ProviderError\";\n    tryNextLink;\n    constructor(message, options = true) {\n        let logger;\n        let tryNextLink = true;\n        if (typeof options === \"boolean\") {\n            logger = undefined;\n            tryNextLink = options;\n        }\n        else if (options != null && typeof options === \"object\") {\n            logger = options.logger;\n            tryNextLink = options.tryNextLink ?? true;\n        }\n        super(message);\n        this.tryNextLink = tryNextLink;\n        Object.setPrototypeOf(this, ProviderError.prototype);\n        logger?.debug?.(`@smithy/property-provider ${tryNextLink ? \"->\" : \"(!)\"} ${message}`);\n    }\n    static from(error, options = true) {\n        return Object.assign(new this(error.message, options), error);\n    }\n}\n","import { ProviderError } from \"./ProviderError\";\nexport class CredentialsProviderError extends ProviderError {\n    name = \"CredentialsProviderError\";\n    constructor(message, options = true) {\n        super(message, options);\n        Object.setPrototypeOf(this, CredentialsProviderError.prototype);\n    }\n}\n","export function setCredentialFeature(credentials, feature, value) {\n    if (!credentials.$source) {\n        credentials.$source = {};\n    }\n    credentials.$source[feature] = value;\n    return credentials;\n}\n","import { homedir } from \"os\";\nimport { sep } from \"path\";\nconst homeDirCache = {};\nconst getHomeDirCacheKey = () => {\n    if (process && process.geteuid) {\n        return `${process.geteuid()}`;\n    }\n    return \"DEFAULT\";\n};\nexport const getHomeDir = () => {\n    const { HOME, USERPROFILE, HOMEPATH, HOMEDRIVE = `C:${sep}` } = process.env;\n    if (HOME)\n        return HOME;\n    if (USERPROFILE)\n        return USERPROFILE;\n    if (HOMEPATH)\n        return `${HOMEDRIVE}${HOMEPATH}`;\n    const homeDirCacheKey = getHomeDirCacheKey();\n    if (!homeDirCache[homeDirCacheKey])\n        homeDirCache[homeDirCacheKey] = homedir();\n    return homeDirCache[homeDirCacheKey];\n};\n","import { readFile as fsReadFile } from \"node:fs/promises\";\nexport const filePromises = {};\nexport const fileIntercept = {};\nexport const readFile = (path, options) => {\n    if (fileIntercept[path] !== undefined) {\n        return fileIntercept[path];\n    }\n    if (!filePromises[path] || options?.ignoreCache) {\n        filePromises[path] = fsReadFile(path, \"utf8\");\n    }\n    return filePromises[path];\n};\n","export const ENV_PROFILE = \"AWS_PROFILE\";\nexport const DEFAULT_PROFILE = \"default\";\nexport const getProfileName = (init) => init.profile || process.env[ENV_PROFILE] || DEFAULT_PROFILE;\n","export var IniSectionType;\n(function (IniSectionType) {\n    IniSectionType[\"PROFILE\"] = \"profile\";\n    IniSectionType[\"SSO_SESSION\"] = \"sso-session\";\n    IniSectionType[\"SERVICES\"] = \"services\";\n})(IniSectionType || (IniSectionType = {}));\n","export const CONFIG_PREFIX_SEPARATOR = \".\";\n","import { IniSectionType } from \"@smithy/types\";\nimport { CONFIG_PREFIX_SEPARATOR } from \"./constants\";\nexport const getConfigData = (data) => Object.entries(data)\n    .filter(([key]) => {\n    const indexOfSeparator = key.indexOf(CONFIG_PREFIX_SEPARATOR);\n    if (indexOfSeparator === -1) {\n        return false;\n    }\n    return Object.values(IniSectionType).includes(key.substring(0, indexOfSeparator));\n})\n    .reduce((acc, [key, value]) => {\n    const indexOfSeparator = key.indexOf(CONFIG_PREFIX_SEPARATOR);\n    const updatedKey = key.substring(0, indexOfSeparator) === IniSectionType.PROFILE ? key.substring(indexOfSeparator + 1) : key;\n    acc[updatedKey] = value;\n    return acc;\n}, {\n    ...(data.default && { default: data.default }),\n});\n","import { join } from \"path\";\nimport { getHomeDir } from \"./getHomeDir\";\nexport const ENV_CONFIG_PATH = \"AWS_CONFIG_FILE\";\nexport const getConfigFilepath = () => process.env[ENV_CONFIG_PATH] || join(getHomeDir(), \".aws\", \"config\");\n","import { join } from \"path\";\nimport { getHomeDir } from \"./getHomeDir\";\nexport const ENV_CREDENTIALS_PATH = \"AWS_SHARED_CREDENTIALS_FILE\";\nexport const getCredentialsFilepath = () => process.env[ENV_CREDENTIALS_PATH] || join(getHomeDir(), \".aws\", \"credentials\");\n","import { IniSectionType } from \"@smithy/types\";\nimport { CONFIG_PREFIX_SEPARATOR } from \"./constants\";\nconst prefixKeyRegex = /^([\\w-]+)\\s([\"'])?([\\w-@\\+\\.%:/]+)\\2$/;\nconst profileNameBlockList = [\"__proto__\", \"profile __proto__\"];\nexport const parseIni = (iniData) => {\n    const map = {};\n    let currentSection;\n    let currentSubSection;\n    for (const iniLine of iniData.split(/\\r?\\n/)) {\n        const trimmedLine = iniLine.split(/(^|\\s)[;#]/)[0].trim();\n        const isSection = trimmedLine[0] === \"[\" && trimmedLine[trimmedLine.length - 1] === \"]\";\n        if (isSection) {\n            currentSection = undefined;\n            currentSubSection = undefined;\n            const sectionName = trimmedLine.substring(1, trimmedLine.length - 1);\n            const matches = prefixKeyRegex.exec(sectionName);\n            if (matches) {\n                const [, prefix, , name] = matches;\n                if (Object.values(IniSectionType).includes(prefix)) {\n                    currentSection = [prefix, name].join(CONFIG_PREFIX_SEPARATOR);\n                }\n            }\n            else {\n                currentSection = sectionName;\n            }\n            if (profileNameBlockList.includes(sectionName)) {\n                throw new Error(`Found invalid profile name \"${sectionName}\"`);\n            }\n        }\n        else if (currentSection) {\n            const indexOfEqualsSign = trimmedLine.indexOf(\"=\");\n            if (![0, -1].includes(indexOfEqualsSign)) {\n                const [name, value] = [\n                    trimmedLine.substring(0, indexOfEqualsSign).trim(),\n                    trimmedLine.substring(indexOfEqualsSign + 1).trim(),\n                ];\n                if (value === \"\") {\n                    currentSubSection = name;\n                }\n                else {\n                    if (currentSubSection && iniLine.trimStart() === iniLine) {\n                        currentSubSection = undefined;\n                    }\n                    map[currentSection] = map[currentSection] || {};\n                    const key = currentSubSection ? [currentSubSection, name].join(CONFIG_PREFIX_SEPARATOR) : name;\n                    map[currentSection][key] = value;\n                }\n            }\n        }\n    }\n    return map;\n};\n","import { join } from \"path\";\nimport { getConfigData } from \"./getConfigData\";\nimport { getConfigFilepath } from \"./getConfigFilepath\";\nimport { getCredentialsFilepath } from \"./getCredentialsFilepath\";\nimport { getHomeDir } from \"./getHomeDir\";\nimport { parseIni } from \"./parseIni\";\nimport { readFile } from \"./readFile\";\nconst swallowError = () => ({});\nexport { CONFIG_PREFIX_SEPARATOR } from \"./constants\";\nexport const loadSharedConfigFiles = async (init = {}) => {\n    const { filepath = getCredentialsFilepath(), configFilepath = getConfigFilepath() } = init;\n    const homeDir = getHomeDir();\n    const relativeHomeDirPrefix = \"~/\";\n    let resolvedFilepath = filepath;\n    if (filepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedFilepath = join(homeDir, filepath.slice(2));\n    }\n    let resolvedConfigFilepath = configFilepath;\n    if (configFilepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedConfigFilepath = join(homeDir, configFilepath.slice(2));\n    }\n    const parsedFiles = await Promise.all([\n        readFile(resolvedConfigFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .then(getConfigData)\n            .catch(swallowError),\n        readFile(resolvedFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .catch(swallowError),\n    ]);\n    return {\n        configFile: parsedFiles[0],\n        credentialsFile: parsedFiles[1],\n    };\n};\n","import { ProviderError } from \"./ProviderError\";\nexport const chain = (...providers) => async () => {\n    if (providers.length === 0) {\n        throw new ProviderError(\"No providers in chain\");\n    }\n    let lastProviderError;\n    for (const provider of providers) {\n        try {\n            const credentials = await provider();\n            return credentials;\n        }\n        catch (err) {\n            lastProviderError = err;\n            if (err?.tryNextLink) {\n                continue;\n            }\n            throw err;\n        }\n    }\n    throw lastProviderError;\n};\n","export const isArrayBuffer = (arg) => (typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n    Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";\n","import { isArrayBuffer } from \"@smithy/is-array-buffer\";\nimport { Buffer } from \"buffer\";\nexport const fromArrayBuffer = (input, offset = 0, length = input.byteLength - offset) => {\n    if (!isArrayBuffer(input)) {\n        throw new TypeError(`The \"input\" argument must be ArrayBuffer. Received type ${typeof input} (${input})`);\n    }\n    return Buffer.from(input, offset, length);\n};\nexport const fromString = (input, encoding) => {\n    if (typeof input !== \"string\") {\n        throw new TypeError(`The \"input\" argument must be of type string. Received type ${typeof input} (${input})`);\n    }\n    return encoding ? Buffer.from(input, encoding) : Buffer.from(input);\n};\n","export class HttpRequest {\n    method;\n    protocol;\n    hostname;\n    port;\n    path;\n    query;\n    headers;\n    username;\n    password;\n    fragment;\n    body;\n    constructor(options) {\n        this.method = options.method || \"GET\";\n        this.hostname = options.hostname || \"localhost\";\n        this.port = options.port;\n        this.query = options.query || {};\n        this.headers = options.headers || {};\n        this.body = options.body;\n        this.protocol = options.protocol\n            ? options.protocol.slice(-1) !== \":\"\n                ? `${options.protocol}:`\n                : options.protocol\n            : \"https:\";\n        this.path = options.path ? (options.path.charAt(0) !== \"/\" ? `/${options.path}` : options.path) : \"/\";\n        this.username = options.username;\n        this.password = options.password;\n        this.fragment = options.fragment;\n    }\n    static clone(request) {\n        const cloned = new HttpRequest({\n            ...request,\n            headers: { ...request.headers },\n        });\n        if (cloned.query) {\n            cloned.query = cloneQuery(cloned.query);\n        }\n        return cloned;\n    }\n    static isInstance(request) {\n        if (!request) {\n            return false;\n        }\n        const req = request;\n        return (\"method\" in req &&\n            \"protocol\" in req &&\n            \"hostname\" in req &&\n            \"path\" in req &&\n            typeof req[\"query\"] === \"object\" &&\n            typeof req[\"headers\"] === \"object\");\n    }\n    clone() {\n        return HttpRequest.clone(this);\n    }\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce((carry, paramName) => {\n        const param = query[paramName];\n        return {\n            ...carry,\n            [paramName]: Array.isArray(param) ? [...param] : param,\n        };\n    }, {});\n}\n","import { chain, memoize } from \"@smithy/property-provider\";\nimport { fromEnv } from \"./fromEnv\";\nimport { fromSharedConfigFiles } from \"./fromSharedConfigFiles\";\nimport { fromStatic } from \"./fromStatic\";\nexport const loadConfig = ({ environmentVariableSelector, configFileSelector, default: defaultValue }, configuration = {}) => {\n    const { signingName, logger } = configuration;\n    const envOptions = { signingName, logger };\n    return memoize(chain(fromEnv(environmentVariableSelector, envOptions), fromSharedConfigFiles(configFileSelector, configuration), fromStatic(defaultValue)));\n};\n","export const memoize = (provider, isExpired, requiresRefresh) => {\n    let resolved;\n    let pending;\n    let hasResult;\n    let isConstant = false;\n    const coalesceProvider = async () => {\n        if (!pending) {\n            pending = provider();\n        }\n        try {\n            resolved = await pending;\n            hasResult = true;\n            isConstant = false;\n        }\n        finally {\n            pending = undefined;\n        }\n        return resolved;\n    };\n    if (isExpired === undefined) {\n        return async (options) => {\n            if (!hasResult || options?.forceRefresh) {\n                resolved = await coalesceProvider();\n            }\n            return resolved;\n        };\n    }\n    return async (options) => {\n        if (!hasResult || options?.forceRefresh) {\n            resolved = await coalesceProvider();\n        }\n        if (isConstant) {\n            return resolved;\n        }\n        if (requiresRefresh && !requiresRefresh(resolved)) {\n            isConstant = true;\n            return resolved;\n        }\n        if (isExpired(resolved)) {\n            await coalesceProvider();\n            return resolved;\n        }\n        return resolved;\n    };\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getSelectorName } from \"./getSelectorName\";\nexport const fromEnv = (envVarSelector, options) => async () => {\n    try {\n        const config = envVarSelector(process.env, options);\n        if (config === undefined) {\n            throw new Error();\n        }\n        return config;\n    }\n    catch (e) {\n        throw new CredentialsProviderError(e.message || `Not found in ENV: ${getSelectorName(envVarSelector.toString())}`, { logger: options?.logger });\n    }\n};\n","export function getSelectorName(functionString) {\n    try {\n        const constants = new Set(Array.from(functionString.match(/([A-Z_]){3,}/g) ?? []));\n        constants.delete(\"CONFIG\");\n        constants.delete(\"CONFIG_PREFIX_SEPARATOR\");\n        constants.delete(\"ENV\");\n        return [...constants].join(\", \");\n    }\n    catch (e) {\n        return functionString;\n    }\n}\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getProfileName, loadSharedConfigFiles } from \"@smithy/shared-ini-file-loader\";\nimport { getSelectorName } from \"./getSelectorName\";\nexport const fromSharedConfigFiles = (configSelector, { preferredFile = \"config\", ...init } = {}) => async () => {\n    const profile = getProfileName(init);\n    const { configFile, credentialsFile } = await loadSharedConfigFiles(init);\n    const profileFromCredentials = credentialsFile[profile] || {};\n    const profileFromConfig = configFile[profile] || {};\n    const mergedProfile = preferredFile === \"config\"\n        ? { ...profileFromCredentials, ...profileFromConfig }\n        : { ...profileFromConfig, ...profileFromCredentials };\n    try {\n        const cfgFile = preferredFile === \"config\" ? configFile : credentialsFile;\n        const configValue = configSelector(mergedProfile, cfgFile);\n        if (configValue === undefined) {\n            throw new Error();\n        }\n        return configValue;\n    }\n    catch (e) {\n        throw new CredentialsProviderError(e.message || `Not found in config files w/ profile [${profile}]: ${getSelectorName(configSelector.toString())}`, { logger: init.logger });\n    }\n};\n","export const fromStatic = (staticValue) => () => Promise.resolve(staticValue);\n","import { fromStatic as convertToProvider } from \"@smithy/property-provider\";\nconst isFunction = (func) => typeof func === \"function\";\nexport const fromStatic = (defaultValue) => isFunction(defaultValue) ? async () => await defaultValue() : convertToProvider(defaultValue);\n","export function parseQueryString(querystring) {\n    const query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        for (const pair of querystring.split(\"&\")) {\n            let [key, value = null] = pair.split(\"=\");\n            key = decodeURIComponent(key);\n            if (value) {\n                value = decodeURIComponent(value);\n            }\n            if (!(key in query)) {\n                query[key] = value;\n            }\n            else if (Array.isArray(query[key])) {\n                query[key].push(value);\n            }\n            else {\n                query[key] = [query[key], value];\n            }\n        }\n    }\n    return query;\n}\n","import { parseQueryString } from \"@smithy/querystring-parser\";\nexport const parseUrl = (url) => {\n    if (typeof url === \"string\") {\n        return parseUrl(new URL(url));\n    }\n    const { hostname, pathname, port, protocol, search } = url;\n    let query;\n    if (search) {\n        query = parseQueryString(search);\n    }\n    return {\n        hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol,\n        path: pathname,\n        query,\n    };\n};\n","import { streamCollector } from \"@smithy/node-http-handler\";\nimport { fromArrayBuffer } from \"@smithy/util-buffer-from\";\nimport { Readable } from \"stream\";\nimport { sdkStreamMixin as sdkStreamMixinReadableStream } from \"./sdk-stream-mixin.browser\";\nconst ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED = \"The stream has already been transformed.\";\nexport const sdkStreamMixin = (stream) => {\n    if (!(stream instanceof Readable)) {\n        try {\n            return sdkStreamMixinReadableStream(stream);\n        }\n        catch (e) {\n            const name = stream?.__proto__?.constructor?.name || stream;\n            throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${name}`);\n        }\n    }\n    let transformed = false;\n    const transformToByteArray = async () => {\n        if (transformed) {\n            throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n        }\n        transformed = true;\n        return await streamCollector(stream);\n    };\n    return Object.assign(stream, {\n        transformToByteArray,\n        transformToString: async (encoding) => {\n            const buf = await transformToByteArray();\n            if (encoding === undefined || Buffer.isEncoding(encoding)) {\n                return fromArrayBuffer(buf.buffer, buf.byteOffset, buf.byteLength).toString(encoding);\n            }\n            else {\n                const decoder = new TextDecoder(encoding);\n                return decoder.decode(buf);\n            }\n        },\n        transformToWebStream: () => {\n            if (transformed) {\n                throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n            }\n            if (stream.readableFlowing !== null) {\n                throw new Error(\"The stream has been consumed by other callbacks.\");\n            }\n            if (typeof Readable.toWeb !== \"function\") {\n                throw new Error(\"Readable.toWeb() is not supported. Please ensure a polyfill is available.\");\n            }\n            transformed = true;\n            return Readable.toWeb(stream);\n        },\n    });\n};\n","import { fromBase64 } from \"@smithy/util-base64\";\nexport const streamCollector = async (stream) => {\n    if ((typeof Blob === \"function\" && stream instanceof Blob) || stream.constructor?.name === \"Blob\") {\n        if (Blob.prototype.arrayBuffer !== undefined) {\n            return new Uint8Array(await stream.arrayBuffer());\n        }\n        return collectBlob(stream);\n    }\n    return collectStream(stream);\n};\nasync function collectBlob(blob) {\n    const base64 = await readToBase64(blob);\n    const arrayBuffer = fromBase64(base64);\n    return new Uint8Array(arrayBuffer);\n}\nasync function collectStream(stream) {\n    const chunks = [];\n    const reader = stream.getReader();\n    let isDone = false;\n    let length = 0;\n    while (!isDone) {\n        const { done, value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            length += value.length;\n        }\n        isDone = done;\n    }\n    const collected = new Uint8Array(length);\n    let offset = 0;\n    for (const chunk of chunks) {\n        collected.set(chunk, offset);\n        offset += chunk.length;\n    }\n    return collected;\n}\nfunction readToBase64(blob) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            if (reader.readyState !== 2) {\n                return reject(new Error(\"Reader aborted too early\"));\n            }\n            const result = (reader.result ?? \"\");\n            const commaIndex = result.indexOf(\",\");\n            const dataOffset = commaIndex > -1 ? commaIndex + 1 : result.length;\n            resolve(result.substring(dataOffset));\n        };\n        reader.onabort = () => reject(new Error(\"Read aborted\"));\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(blob);\n    });\n}\n","import { streamCollector } from \"@smithy/fetch-http-handler\";\nimport { toBase64 } from \"@smithy/util-base64\";\nimport { toHex } from \"@smithy/util-hex-encoding\";\nimport { toUtf8 } from \"@smithy/util-utf8\";\nimport { isReadableStream } from \"./stream-type-check\";\nconst ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED = \"The stream has already been transformed.\";\nexport const sdkStreamMixin = (stream) => {\n    if (!isBlobInstance(stream) && !isReadableStream(stream)) {\n        const name = stream?.__proto__?.constructor?.name || stream;\n        throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${name}`);\n    }\n    let transformed = false;\n    const transformToByteArray = async () => {\n        if (transformed) {\n            throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n        }\n        transformed = true;\n        return await streamCollector(stream);\n    };\n    const blobToWebStream = (blob) => {\n        if (typeof blob.stream !== \"function\") {\n            throw new Error(\"Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\\n\" +\n                \"If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body\");\n        }\n        return blob.stream();\n    };\n    return Object.assign(stream, {\n        transformToByteArray: transformToByteArray,\n        transformToString: async (encoding) => {\n            const buf = await transformToByteArray();\n            if (encoding === \"base64\") {\n                return toBase64(buf);\n            }\n            else if (encoding === \"hex\") {\n                return toHex(buf);\n            }\n            else if (encoding === undefined || encoding === \"utf8\" || encoding === \"utf-8\") {\n                return toUtf8(buf);\n            }\n            else if (typeof TextDecoder === \"function\") {\n                return new TextDecoder(encoding).decode(buf);\n            }\n            else {\n                throw new Error(\"TextDecoder is not available, please make sure polyfill is provided.\");\n            }\n        },\n        transformToWebStream: () => {\n            if (transformed) {\n                throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n            }\n            transformed = true;\n            if (isBlobInstance(stream)) {\n                return blobToWebStream(stream);\n            }\n            else if (isReadableStream(stream)) {\n                return stream;\n            }\n            else {\n                throw new Error(`Cannot transform payload to web stream, got ${stream}`);\n            }\n        },\n    });\n};\nconst isBlobInstance = (stream) => typeof Blob === \"function\" && stream instanceof Blob;\n","export const isReadableStream = (stream) => typeof ReadableStream === \"function\" &&\n    (stream?.constructor?.name === ReadableStream.name || stream instanceof ReadableStream);\nexport const isBlob = (blob) => {\n    return typeof Blob === \"function\" && (blob?.constructor?.name === Blob.name || blob instanceof Blob);\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { externalDataInterceptor } from \"@smithy/shared-ini-file-loader\";\nimport { readFileSync } from \"fs\";\nimport { fromWebToken } from \"./fromWebToken\";\nconst ENV_TOKEN_FILE = \"AWS_WEB_IDENTITY_TOKEN_FILE\";\nconst ENV_ROLE_ARN = \"AWS_ROLE_ARN\";\nconst ENV_ROLE_SESSION_NAME = \"AWS_ROLE_SESSION_NAME\";\nexport const fromTokenFile = (init = {}) => async (awsIdentityProperties) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-web-identity - fromTokenFile\");\n    const webIdentityTokenFile = init?.webIdentityTokenFile ?? process.env[ENV_TOKEN_FILE];\n    const roleArn = init?.roleArn ?? process.env[ENV_ROLE_ARN];\n    const roleSessionName = init?.roleSessionName ?? process.env[ENV_ROLE_SESSION_NAME];\n    if (!webIdentityTokenFile || !roleArn) {\n        throw new CredentialsProviderError(\"Web identity configuration not specified\", {\n            logger: init.logger,\n        });\n    }\n    const credentials = await fromWebToken({\n        ...init,\n        webIdentityToken: externalDataInterceptor?.getTokenRecord?.()[webIdentityTokenFile] ??\n            readFileSync(webIdentityTokenFile, { encoding: \"ascii\" }),\n        roleArn,\n        roleSessionName,\n    })(awsIdentityProperties);\n    if (webIdentityTokenFile === process.env[ENV_TOKEN_FILE]) {\n        setCredentialFeature(credentials, \"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN\", \"h\");\n    }\n    return credentials;\n};\n","export const fromWebToken = (init) => async (awsIdentityProperties) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-web-identity - fromWebToken\");\n    const { roleArn, roleSessionName, webIdentityToken, providerId, policyArns, policy, durationSeconds } = init;\n    let { roleAssumerWithWebIdentity } = init;\n    if (!roleAssumerWithWebIdentity) {\n        const { getDefaultRoleAssumerWithWebIdentity } = await import(\"@aws-sdk/nested-clients/sts\");\n        roleAssumerWithWebIdentity = getDefaultRoleAssumerWithWebIdentity({\n            ...init.clientConfig,\n            credentialProviderLogger: init.logger,\n            parentClientConfig: {\n                ...awsIdentityProperties?.callerClientConfig,\n                ...init.parentClientConfig,\n            },\n        }, init.clientPlugins);\n    }\n    return roleAssumerWithWebIdentity({\n        RoleArn: roleArn,\n        RoleSessionName: roleSessionName ?? `aws-sdk-js-session-${Date.now()}`,\n        WebIdentityToken: webIdentityToken,\n        ProviderId: providerId,\n        PolicyArns: policyArns,\n        Policy: policy,\n        DurationSeconds: durationSeconds,\n    });\n};\n","import { tokenIntercept } from \"./getSSOTokenFromFile\";\nimport { fileIntercept } from \"./readFile\";\nexport const externalDataInterceptor = {\n    getFileRecord() {\n        return fileIntercept;\n    },\n    interceptFile(path, contents) {\n        fileIntercept[path] = Promise.resolve(contents);\n    },\n    getTokenRecord() {\n        return tokenIntercept;\n    },\n    interceptToken(id, contents) {\n        tokenIntercept[id] = contents;\n    },\n};\n","import { loadSharedConfigFiles } from \"./loadSharedConfigFiles\";\nimport { mergeConfigFiles } from \"./mergeConfigFiles\";\nexport const parseKnownFiles = async (init) => {\n    const parsedFiles = await loadSharedConfigFiles(init);\n    return mergeConfigFiles(parsedFiles.configFile, parsedFiles.credentialsFile);\n};\n","export const mergeConfigFiles = (...files) => {\n    const merged = {};\n    for (const file of files) {\n        for (const [key, values] of Object.entries(file)) {\n            if (merged[key] !== undefined) {\n                Object.assign(merged[key], values);\n            }\n            else {\n                merged[key] = values;\n            }\n        }\n    }\n    return merged;\n};\n","import { readFile } from \"fs/promises\";\nimport { getSSOTokenFilepath } from \"./getSSOTokenFilepath\";\nexport const tokenIntercept = {};\nexport const getSSOTokenFromFile = async (id) => {\n    if (tokenIntercept[id]) {\n        return tokenIntercept[id];\n    }\n    const ssoTokenFilepath = getSSOTokenFilepath(id);\n    const ssoTokenText = await readFile(ssoTokenFilepath, \"utf8\");\n    return JSON.parse(ssoTokenText);\n};\n","import { createHash } from \"crypto\";\nimport { join } from \"path\";\nimport { getHomeDir } from \"./getHomeDir\";\nexport const getSSOTokenFilepath = (id) => {\n    const hasher = createHash(\"sha1\");\n    const cacheName = hasher.update(id).digest(\"hex\");\n    return join(getHomeDir(), \".aws\", \"sso\", \"cache\", `${cacheName}.json`);\n};\n","import { getProfileName, parseKnownFiles } from \"@smithy/shared-ini-file-loader\";\nimport { resolveProcessCredentials } from \"./resolveProcessCredentials\";\nexport const fromProcess = (init = {}) => async ({ callerClientConfig } = {}) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-process - fromProcess\");\n    const profiles = await parseKnownFiles(init);\n    return resolveProcessCredentials(getProfileName({\n        profile: init.profile ?? callerClientConfig?.profile,\n    }), profiles, init.logger);\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { externalDataInterceptor } from \"@smithy/shared-ini-file-loader\";\nimport { exec } from \"child_process\";\nimport { promisify } from \"util\";\nimport { getValidatedProcessCredentials } from \"./getValidatedProcessCredentials\";\nexport const resolveProcessCredentials = async (profileName, profiles, logger) => {\n    const profile = profiles[profileName];\n    if (profiles[profileName]) {\n        const credentialProcess = profile[\"credential_process\"];\n        if (credentialProcess !== undefined) {\n            const execPromise = promisify(externalDataInterceptor?.getTokenRecord?.().exec ?? exec);\n            try {\n                const { stdout } = await execPromise(credentialProcess);\n                let data;\n                try {\n                    data = JSON.parse(stdout.trim());\n                }\n                catch {\n                    throw Error(`Profile ${profileName} credential_process returned invalid JSON.`);\n                }\n                return getValidatedProcessCredentials(profileName, data, profiles);\n            }\n            catch (error) {\n                throw new CredentialsProviderError(error.message, { logger });\n            }\n        }\n        else {\n            throw new CredentialsProviderError(`Profile ${profileName} did not contain credential_process.`, { logger });\n        }\n    }\n    else {\n        throw new CredentialsProviderError(`Profile ${profileName} could not be found in shared credentials file.`, {\n            logger,\n        });\n    }\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nexport const getValidatedProcessCredentials = (profileName, data, profiles) => {\n    if (data.Version !== 1) {\n        throw Error(`Profile ${profileName} credential_process did not return Version 1.`);\n    }\n    if (data.AccessKeyId === undefined || data.SecretAccessKey === undefined) {\n        throw Error(`Profile ${profileName} credential_process returned invalid credentials.`);\n    }\n    if (data.Expiration) {\n        const currentTime = new Date();\n        const expireTime = new Date(data.Expiration);\n        if (expireTime < currentTime) {\n            throw Error(`Profile ${profileName} credential_process returned expired credentials.`);\n        }\n    }\n    let accountId = data.AccountId;\n    if (!accountId && profiles?.[profileName]?.aws_account_id) {\n        accountId = profiles[profileName].aws_account_id;\n    }\n    const credentials = {\n        accessKeyId: data.AccessKeyId,\n        secretAccessKey: data.SecretAccessKey,\n        ...(data.SessionToken && { sessionToken: data.SessionToken }),\n        ...(data.Expiration && { expiration: new Date(data.Expiration) }),\n        ...(data.CredentialScope && { credentialScope: data.CredentialScope }),\n        ...(accountId && { accountId }),\n    };\n    setCredentialFeature(credentials, \"CREDENTIALS_PROCESS\", \"w\");\n    return credentials;\n};\n","import { getProfileName, parseKnownFiles } from \"@smithy/shared-ini-file-loader\";\nimport { resolveProfileData } from \"./resolveProfileData\";\nexport const fromIni = (init = {}) => async ({ callerClientConfig } = {}) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-ini - fromIni\");\n    const profiles = await parseKnownFiles(init);\n    return resolveProfileData(getProfileName({\n        profile: init.profile ?? callerClientConfig?.profile,\n    }), profiles, init, callerClientConfig);\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { isAssumeRoleProfile, resolveAssumeRoleCredentials } from \"./resolveAssumeRoleCredentials\";\nimport { isLoginProfile, resolveLoginCredentials } from \"./resolveLoginCredentials\";\nimport { isProcessProfile, resolveProcessCredentials } from \"./resolveProcessCredentials\";\nimport { isSsoProfile, resolveSsoCredentials } from \"./resolveSsoCredentials\";\nimport { isStaticCredsProfile, resolveStaticCredentials } from \"./resolveStaticCredentials\";\nimport { isWebIdentityProfile, resolveWebIdentityCredentials } from \"./resolveWebIdentityCredentials\";\nexport const resolveProfileData = async (profileName, profiles, options, callerClientConfig, visitedProfiles = {}, isAssumeRoleRecursiveCall = false) => {\n    const data = profiles[profileName];\n    if (Object.keys(visitedProfiles).length > 0 && isStaticCredsProfile(data)) {\n        return resolveStaticCredentials(data, options);\n    }\n    if (isAssumeRoleRecursiveCall || isAssumeRoleProfile(data, { profile: profileName, logger: options.logger })) {\n        return resolveAssumeRoleCredentials(profileName, profiles, options, callerClientConfig, visitedProfiles, resolveProfileData);\n    }\n    if (isStaticCredsProfile(data)) {\n        return resolveStaticCredentials(data, options);\n    }\n    if (isWebIdentityProfile(data)) {\n        return resolveWebIdentityCredentials(data, options, callerClientConfig);\n    }\n    if (isProcessProfile(data)) {\n        return resolveProcessCredentials(options, profileName);\n    }\n    if (isSsoProfile(data)) {\n        return await resolveSsoCredentials(profileName, data, options, callerClientConfig);\n    }\n    if (isLoginProfile(data)) {\n        return resolveLoginCredentials(profileName, options, callerClientConfig);\n    }\n    throw new CredentialsProviderError(`Could not resolve credentials using profile: [${profileName}] in configuration/credentials file(s).`, { logger: options.logger });\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getProfileName } from \"@smithy/shared-ini-file-loader\";\nimport { resolveCredentialSource } from \"./resolveCredentialSource\";\nexport const isAssumeRoleProfile = (arg, { profile = \"default\", logger } = {}) => {\n    return (Boolean(arg) &&\n        typeof arg === \"object\" &&\n        typeof arg.role_arn === \"string\" &&\n        [\"undefined\", \"string\"].indexOf(typeof arg.role_session_name) > -1 &&\n        [\"undefined\", \"string\"].indexOf(typeof arg.external_id) > -1 &&\n        [\"undefined\", \"string\"].indexOf(typeof arg.mfa_serial) > -1 &&\n        (isAssumeRoleWithSourceProfile(arg, { profile, logger }) || isCredentialSourceProfile(arg, { profile, logger })));\n};\nconst isAssumeRoleWithSourceProfile = (arg, { profile, logger }) => {\n    const withSourceProfile = typeof arg.source_profile === \"string\" && typeof arg.credential_source === \"undefined\";\n    if (withSourceProfile) {\n        logger?.debug?.(`    ${profile} isAssumeRoleWithSourceProfile source_profile=${arg.source_profile}`);\n    }\n    return withSourceProfile;\n};\nconst isCredentialSourceProfile = (arg, { profile, logger }) => {\n    const withProviderProfile = typeof arg.credential_source === \"string\" && typeof arg.source_profile === \"undefined\";\n    if (withProviderProfile) {\n        logger?.debug?.(`    ${profile} isCredentialSourceProfile credential_source=${arg.credential_source}`);\n    }\n    return withProviderProfile;\n};\nexport const resolveAssumeRoleCredentials = async (profileName, profiles, options, callerClientConfig, visitedProfiles = {}, resolveProfileData) => {\n    options.logger?.debug(\"@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)\");\n    const profileData = profiles[profileName];\n    const { source_profile, region } = profileData;\n    if (!options.roleAssumer) {\n        const { getDefaultRoleAssumer } = await import(\"@aws-sdk/nested-clients/sts\");\n        options.roleAssumer = getDefaultRoleAssumer({\n            ...options.clientConfig,\n            credentialProviderLogger: options.logger,\n            parentClientConfig: {\n                ...callerClientConfig,\n                ...options?.parentClientConfig,\n                region: region ?? options?.parentClientConfig?.region ?? callerClientConfig?.region,\n            },\n        }, options.clientPlugins);\n    }\n    if (source_profile && source_profile in visitedProfiles) {\n        throw new CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile` +\n            ` ${getProfileName(options)}. Profiles visited: ` +\n            Object.keys(visitedProfiles).join(\", \"), { logger: options.logger });\n    }\n    options.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${source_profile ? `source_profile=[${source_profile}]` : `profile=[${profileName}]`}`);\n    const sourceCredsProvider = source_profile\n        ? resolveProfileData(source_profile, profiles, options, callerClientConfig, {\n            ...visitedProfiles,\n            [source_profile]: true,\n        }, isCredentialSourceWithoutRoleArn(profiles[source_profile] ?? {}))\n        : (await resolveCredentialSource(profileData.credential_source, profileName, options.logger)(options))();\n    if (isCredentialSourceWithoutRoleArn(profileData)) {\n        return sourceCredsProvider.then((creds) => setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SOURCE_PROFILE\", \"o\"));\n    }\n    else {\n        const params = {\n            RoleArn: profileData.role_arn,\n            RoleSessionName: profileData.role_session_name || `aws-sdk-js-${Date.now()}`,\n            ExternalId: profileData.external_id,\n            DurationSeconds: parseInt(profileData.duration_seconds || \"3600\", 10),\n        };\n        const { mfa_serial } = profileData;\n        if (mfa_serial) {\n            if (!options.mfaCodeProvider) {\n                throw new CredentialsProviderError(`Profile ${profileName} requires multi-factor authentication, but no MFA code callback was provided.`, { logger: options.logger, tryNextLink: false });\n            }\n            params.SerialNumber = mfa_serial;\n            params.TokenCode = await options.mfaCodeProvider(mfa_serial);\n        }\n        const sourceCreds = await sourceCredsProvider;\n        return options.roleAssumer(sourceCreds, params).then((creds) => setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SOURCE_PROFILE\", \"o\"));\n    }\n};\nconst isCredentialSourceWithoutRoleArn = (section) => {\n    return !section.role_arn && !!section.credential_source;\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { chain, CredentialsProviderError } from \"@smithy/property-provider\";\nexport const resolveCredentialSource = (credentialSource, profileName, logger) => {\n    const sourceProvidersMap = {\n        EcsContainer: async (options) => {\n            const { fromHttp } = await import(\"@aws-sdk/credential-provider-http\");\n            const { fromContainerMetadata } = await import(\"@smithy/credential-provider-imds\");\n            logger?.debug(\"@aws-sdk/credential-provider-ini - credential_source is EcsContainer\");\n            return async () => chain(fromHttp(options ?? {}), fromContainerMetadata(options))().then(setNamedProvider);\n        },\n        Ec2InstanceMetadata: async (options) => {\n            logger?.debug(\"@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata\");\n            const { fromInstanceMetadata } = await import(\"@smithy/credential-provider-imds\");\n            return async () => fromInstanceMetadata(options)().then(setNamedProvider);\n        },\n        Environment: async (options) => {\n            logger?.debug(\"@aws-sdk/credential-provider-ini - credential_source is Environment\");\n            const { fromEnv } = await import(\"@aws-sdk/credential-provider-env\");\n            return async () => fromEnv(options)().then(setNamedProvider);\n        },\n    };\n    if (credentialSource in sourceProvidersMap) {\n        return sourceProvidersMap[credentialSource];\n    }\n    else {\n        throw new CredentialsProviderError(`Unsupported credential source in profile ${profileName}. Got ${credentialSource}, ` +\n            `expected EcsContainer or Ec2InstanceMetadata or Environment.`, { logger });\n    }\n};\nconst setNamedProvider = (creds) => setCredentialFeature(creds, \"CREDENTIALS_PROFILE_NAMED_PROVIDER\", \"p\");\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { HttpRequest } from \"@smithy/protocol-http\";\nimport { readFile } from \"@smithy/shared-ini-file-loader\";\nimport { createHash, createPrivateKey, createPublicKey, sign } from \"node:crypto\";\nimport { promises as fs } from \"node:fs\";\nimport { homedir } from \"node:os\";\nimport { dirname, join } from \"node:path\";\nexport class LoginCredentialsFetcher {\n    profileData;\n    init;\n    callerClientConfig;\n    static REFRESH_THRESHOLD = 5 * 60 * 1000;\n    constructor(profileData, init, callerClientConfig) {\n        this.profileData = profileData;\n        this.init = init;\n        this.callerClientConfig = callerClientConfig;\n    }\n    async loadCredentials() {\n        const token = await this.loadToken();\n        if (!token) {\n            throw new CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`, { tryNextLink: false, logger: this.logger });\n        }\n        const accessToken = token.accessToken;\n        const now = Date.now();\n        const expiryTime = new Date(accessToken.expiresAt).getTime();\n        const timeUntilExpiry = expiryTime - now;\n        if (timeUntilExpiry <= LoginCredentialsFetcher.REFRESH_THRESHOLD) {\n            return this.refresh(token);\n        }\n        return {\n            accessKeyId: accessToken.accessKeyId,\n            secretAccessKey: accessToken.secretAccessKey,\n            sessionToken: accessToken.sessionToken,\n            accountId: accessToken.accountId,\n            expiration: new Date(accessToken.expiresAt),\n        };\n    }\n    get logger() {\n        return this.init?.logger;\n    }\n    get loginSession() {\n        return this.profileData.login_session;\n    }\n    async refresh(token) {\n        const { SigninClient, CreateOAuth2TokenCommand } = await import(\"@aws-sdk/nested-clients/signin\");\n        const { logger, userAgentAppId } = this.callerClientConfig ?? {};\n        const isH2 = (requestHandler) => {\n            return requestHandler?.metadata?.handlerProtocol === \"h2\";\n        };\n        const requestHandler = isH2(this.callerClientConfig?.requestHandler)\n            ? undefined\n            : this.callerClientConfig?.requestHandler;\n        const region = this.profileData.region ?? (await this.callerClientConfig?.region?.()) ?? process.env.AWS_REGION;\n        const client = new SigninClient({\n            credentials: {\n                accessKeyId: \"\",\n                secretAccessKey: \"\",\n            },\n            region,\n            requestHandler,\n            logger,\n            userAgentAppId,\n            ...this.init?.clientConfig,\n        });\n        this.createDPoPInterceptor(client.middlewareStack);\n        const commandInput = {\n            tokenInput: {\n                clientId: token.clientId,\n                refreshToken: token.refreshToken,\n                grantType: \"refresh_token\",\n            },\n        };\n        try {\n            const response = await client.send(new CreateOAuth2TokenCommand(commandInput));\n            const { accessKeyId, secretAccessKey, sessionToken } = response.tokenOutput?.accessToken ?? {};\n            const { refreshToken, expiresIn } = response.tokenOutput ?? {};\n            if (!accessKeyId || !secretAccessKey || !sessionToken || !refreshToken) {\n                throw new CredentialsProviderError(\"Token refresh response missing required fields\", {\n                    logger: this.logger,\n                    tryNextLink: false,\n                });\n            }\n            const expiresInMs = (expiresIn ?? 900) * 1000;\n            const expiration = new Date(Date.now() + expiresInMs);\n            const updatedToken = {\n                ...token,\n                accessToken: {\n                    ...token.accessToken,\n                    accessKeyId: accessKeyId,\n                    secretAccessKey: secretAccessKey,\n                    sessionToken: sessionToken,\n                    expiresAt: expiration.toISOString(),\n                },\n                refreshToken: refreshToken,\n            };\n            await this.saveToken(updatedToken);\n            const newAccessToken = updatedToken.accessToken;\n            return {\n                accessKeyId: newAccessToken.accessKeyId,\n                secretAccessKey: newAccessToken.secretAccessKey,\n                sessionToken: newAccessToken.sessionToken,\n                accountId: newAccessToken.accountId,\n                expiration,\n            };\n        }\n        catch (error) {\n            if (error.name === \"AccessDeniedException\") {\n                const errorType = error.error;\n                let message;\n                switch (errorType) {\n                    case \"TOKEN_EXPIRED\":\n                        message = \"Your session has expired. Please reauthenticate.\";\n                        break;\n                    case \"USER_CREDENTIALS_CHANGED\":\n                        message =\n                            \"Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.\";\n                        break;\n                    case \"INSUFFICIENT_PERMISSIONS\":\n                        message =\n                            \"Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.\";\n                        break;\n                    default:\n                        message = `Failed to refresh token: ${String(error)}. Please re-authenticate using \\`aws login\\``;\n                }\n                throw new CredentialsProviderError(message, { logger: this.logger, tryNextLink: false });\n            }\n            throw new CredentialsProviderError(`Failed to refresh token: ${String(error)}. Please re-authenticate using aws login`, { logger: this.logger });\n        }\n    }\n    async loadToken() {\n        const tokenFilePath = this.getTokenFilePath();\n        try {\n            let tokenData;\n            try {\n                tokenData = await readFile(tokenFilePath, { ignoreCache: this.init?.ignoreCache });\n            }\n            catch {\n                tokenData = await fs.readFile(tokenFilePath, \"utf8\");\n            }\n            const token = JSON.parse(tokenData);\n            const missingFields = [\"accessToken\", \"clientId\", \"refreshToken\", \"dpopKey\"].filter((k) => !token[k]);\n            if (!token.accessToken?.accountId) {\n                missingFields.push(\"accountId\");\n            }\n            if (missingFields.length > 0) {\n                throw new CredentialsProviderError(`Token validation failed, missing fields: ${missingFields.join(\", \")}`, {\n                    logger: this.logger,\n                    tryNextLink: false,\n                });\n            }\n            return token;\n        }\n        catch (error) {\n            throw new CredentialsProviderError(`Failed to load token from ${tokenFilePath}: ${String(error)}`, {\n                logger: this.logger,\n                tryNextLink: false,\n            });\n        }\n    }\n    async saveToken(token) {\n        const tokenFilePath = this.getTokenFilePath();\n        const directory = dirname(tokenFilePath);\n        try {\n            await fs.mkdir(directory, { recursive: true });\n        }\n        catch (error) {\n        }\n        await fs.writeFile(tokenFilePath, JSON.stringify(token, null, 2), \"utf8\");\n    }\n    getTokenFilePath() {\n        const directory = process.env.AWS_LOGIN_CACHE_DIRECTORY ?? join(homedir(), \".aws\", \"login\", \"cache\");\n        const loginSessionBytes = Buffer.from(this.loginSession, \"utf8\");\n        const loginSessionSha256 = createHash(\"sha256\").update(loginSessionBytes).digest(\"hex\");\n        return join(directory, `${loginSessionSha256}.json`);\n    }\n    derToRawSignature(derSignature) {\n        let offset = 2;\n        if (derSignature[offset] !== 0x02) {\n            throw new Error(\"Invalid DER signature\");\n        }\n        offset++;\n        const rLength = derSignature[offset++];\n        let r = derSignature.subarray(offset, offset + rLength);\n        offset += rLength;\n        if (derSignature[offset] !== 0x02) {\n            throw new Error(\"Invalid DER signature\");\n        }\n        offset++;\n        const sLength = derSignature[offset++];\n        let s = derSignature.subarray(offset, offset + sLength);\n        r = r[0] === 0x00 ? r.subarray(1) : r;\n        s = s[0] === 0x00 ? s.subarray(1) : s;\n        const rPadded = Buffer.concat([Buffer.alloc(32 - r.length), r]);\n        const sPadded = Buffer.concat([Buffer.alloc(32 - s.length), s]);\n        return Buffer.concat([rPadded, sPadded]);\n    }\n    createDPoPInterceptor(middlewareStack) {\n        middlewareStack.add((next) => async (args) => {\n            if (HttpRequest.isInstance(args.request)) {\n                const request = args.request;\n                const actualEndpoint = `${request.protocol}//${request.hostname}${request.port ? `:${request.port}` : \"\"}${request.path}`;\n                const dpop = await this.generateDpop(request.method, actualEndpoint);\n                request.headers = {\n                    ...request.headers,\n                    DPoP: dpop,\n                };\n            }\n            return next(args);\n        }, {\n            step: \"finalizeRequest\",\n            name: \"dpopInterceptor\",\n            override: true,\n        });\n    }\n    async generateDpop(method = \"POST\", endpoint) {\n        const token = await this.loadToken();\n        try {\n            const privateKey = createPrivateKey({\n                key: token.dpopKey,\n                format: \"pem\",\n                type: \"sec1\",\n            });\n            const publicKey = createPublicKey(privateKey);\n            const publicDer = publicKey.export({ format: \"der\", type: \"spki\" });\n            let pointStart = -1;\n            for (let i = 0; i < publicDer.length; i++) {\n                if (publicDer[i] === 0x04) {\n                    pointStart = i;\n                    break;\n                }\n            }\n            const x = publicDer.slice(pointStart + 1, pointStart + 33);\n            const y = publicDer.slice(pointStart + 33, pointStart + 65);\n            const header = {\n                alg: \"ES256\",\n                typ: \"dpop+jwt\",\n                jwk: {\n                    kty: \"EC\",\n                    crv: \"P-256\",\n                    x: x.toString(\"base64url\"),\n                    y: y.toString(\"base64url\"),\n                },\n            };\n            const payload = {\n                jti: crypto.randomUUID(),\n                htm: method,\n                htu: endpoint,\n                iat: Math.floor(Date.now() / 1000),\n            };\n            const headerB64 = Buffer.from(JSON.stringify(header)).toString(\"base64url\");\n            const payloadB64 = Buffer.from(JSON.stringify(payload)).toString(\"base64url\");\n            const message = `${headerB64}.${payloadB64}`;\n            const asn1Signature = sign(\"sha256\", Buffer.from(message), privateKey);\n            const rawSignature = this.derToRawSignature(asn1Signature);\n            const signatureB64 = rawSignature.toString(\"base64url\");\n            return `${message}.${signatureB64}`;\n        }\n        catch (error) {\n            throw new CredentialsProviderError(`Failed to generate Dpop proof: ${error instanceof Error ? error.message : String(error)}`, { logger: this.logger, tryNextLink: false });\n        }\n    }\n}\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getProfileName, parseKnownFiles } from \"@smithy/shared-ini-file-loader\";\nimport { LoginCredentialsFetcher } from \"./LoginCredentialsFetcher\";\nexport const fromLoginCredentials = (init) => async ({ callerClientConfig } = {}) => {\n    init?.logger?.debug?.(\"@aws-sdk/credential-providers - fromLoginCredentials\");\n    const profiles = await parseKnownFiles(init || {});\n    const profileName = getProfileName({\n        profile: init?.profile ?? callerClientConfig?.profile,\n    });\n    const profile = profiles[profileName];\n    if (!profile?.login_session) {\n        throw new CredentialsProviderError(`Profile ${profileName} does not contain login_session.`, {\n            tryNextLink: true,\n            logger: init?.logger,\n        });\n    }\n    const fetcher = new LoginCredentialsFetcher(profile, init, callerClientConfig);\n    const credentials = await fetcher.loadCredentials();\n    return setCredentialFeature(credentials, \"CREDENTIALS_LOGIN\", \"AD\");\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { fromLoginCredentials } from \"@aws-sdk/credential-provider-login\";\nexport const isLoginProfile = (data) => {\n    return Boolean(data && data.login_session);\n};\nexport const resolveLoginCredentials = async (profileName, options, callerClientConfig) => {\n    const credentials = await fromLoginCredentials({\n        ...options,\n        profile: profileName,\n    })({ callerClientConfig });\n    return setCredentialFeature(credentials, \"CREDENTIALS_PROFILE_LOGIN\", \"AC\");\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nexport const isProcessProfile = (arg) => Boolean(arg) && typeof arg === \"object\" && typeof arg.credential_process === \"string\";\nexport const resolveProcessCredentials = async (options, profile) => import(\"@aws-sdk/credential-provider-process\").then(({ fromProcess }) => fromProcess({\n    ...options,\n    profile,\n})().then((creds) => setCredentialFeature(creds, \"CREDENTIALS_PROFILE_PROCESS\", \"v\")));\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nexport const resolveSsoCredentials = async (profile, profileData, options = {}, callerClientConfig) => {\n    const { fromSSO } = await import(\"@aws-sdk/credential-provider-sso\");\n    return fromSSO({\n        profile,\n        logger: options.logger,\n        parentClientConfig: options.parentClientConfig,\n        clientConfig: options.clientConfig,\n    })({\n        callerClientConfig,\n    }).then((creds) => {\n        if (profileData.sso_session) {\n            return setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SSO\", \"r\");\n        }\n        else {\n            return setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SSO_LEGACY\", \"t\");\n        }\n    });\n};\nexport const isSsoProfile = (arg) => arg &&\n    (typeof arg.sso_start_url === \"string\" ||\n        typeof arg.sso_account_id === \"string\" ||\n        typeof arg.sso_session === \"string\" ||\n        typeof arg.sso_region === \"string\" ||\n        typeof arg.sso_role_name === \"string\");\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nexport const isStaticCredsProfile = (arg) => Boolean(arg) &&\n    typeof arg === \"object\" &&\n    typeof arg.aws_access_key_id === \"string\" &&\n    typeof arg.aws_secret_access_key === \"string\" &&\n    [\"undefined\", \"string\"].indexOf(typeof arg.aws_session_token) > -1 &&\n    [\"undefined\", \"string\"].indexOf(typeof arg.aws_account_id) > -1;\nexport const resolveStaticCredentials = async (profile, options) => {\n    options?.logger?.debug(\"@aws-sdk/credential-provider-ini - resolveStaticCredentials\");\n    const credentials = {\n        accessKeyId: profile.aws_access_key_id,\n        secretAccessKey: profile.aws_secret_access_key,\n        sessionToken: profile.aws_session_token,\n        ...(profile.aws_credential_scope && { credentialScope: profile.aws_credential_scope }),\n        ...(profile.aws_account_id && { accountId: profile.aws_account_id }),\n    };\n    return setCredentialFeature(credentials, \"CREDENTIALS_PROFILE\", \"n\");\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nexport const isWebIdentityProfile = (arg) => Boolean(arg) &&\n    typeof arg === \"object\" &&\n    typeof arg.web_identity_token_file === \"string\" &&\n    typeof arg.role_arn === \"string\" &&\n    [\"undefined\", \"string\"].indexOf(typeof arg.role_session_name) > -1;\nexport const resolveWebIdentityCredentials = async (profile, options, callerClientConfig) => import(\"@aws-sdk/credential-provider-web-identity\").then(({ fromTokenFile }) => fromTokenFile({\n    webIdentityTokenFile: profile.web_identity_token_file,\n    roleArn: profile.role_arn,\n    roleSessionName: profile.role_session_name,\n    roleAssumerWithWebIdentity: options.roleAssumerWithWebIdentity,\n    logger: options.logger,\n    parentClientConfig: options.parentClientConfig,\n})({\n    callerClientConfig,\n}).then((creds) => setCredentialFeature(creds, \"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN\", \"q\")));\n","import type { Counselor, CounselorId } from '@/types';\r\n\r\n// ============================================\r\n// COUNSELORS REGISTRY - Fonte nica de Verdade\r\n// ============================================\r\n\r\nexport const COUNSELORS_REGISTRY: Record<CounselorId, Counselor> = {\r\n  // Funnel Counselors\r\n  russell_brunson: {\r\n    id: 'russell_brunson',\r\n    name: 'Russell Brunson',\r\n    expertise: 'Arquitetura de Funil',\r\n    color: '#6366f1', // indigo\r\n    icon: '',\r\n  },\r\n  dan_kennedy: {\r\n    id: 'dan_kennedy',\r\n    name: 'Dan Kennedy',\r\n    expertise: 'Oferta & Copy',\r\n    color: '#8b5cf6', // violet\r\n    icon: '',\r\n  },\r\n  frank_kern: {\r\n    id: 'frank_kern',\r\n    name: 'Frank Kern',\r\n    expertise: 'Psicologia & Comportamento',\r\n    color: '#ec4899', // pink\r\n    icon: '',\r\n  },\r\n  sam_ovens: {\r\n    id: 'sam_ovens',\r\n    name: 'Sam Ovens',\r\n    expertise: 'Aquisio & Qualificao',\r\n    color: '#14b8a6', // teal\r\n    icon: '',\r\n  },\r\n  ryan_deiss: {\r\n    id: 'ryan_deiss',\r\n    name: 'Ryan Deiss',\r\n    expertise: 'LTV & Reteno',\r\n    color: '#f97316', // orange\r\n    icon: '',\r\n  },\r\n  perry_belcher: {\r\n    id: 'perry_belcher',\r\n    name: 'Perry Belcher',\r\n    expertise: 'Monetizao Simples',\r\n    color: '#84cc16', // lime\r\n    icon: '',\r\n  },\r\n\r\n  // Social Counselors\r\n  lia_haberman: {\r\n    id: 'lia_haberman',\r\n    name: 'Lia Haberman',\r\n    expertise: 'Algoritmo & Mudanas',\r\n    color: '#06b6d4', // cyan\r\n    icon: '',\r\n  },\r\n  rachel_karten: {\r\n    id: 'rachel_karten',\r\n    name: 'Rachel Karten',\r\n    expertise: 'Criativo & Hooks',\r\n    color: '#f43f5e', // rose\r\n    icon: '',\r\n  },\r\n  nikita_beer: {\r\n    id: 'nikita_beer',\r\n    name: 'Nikita Beer',\r\n    expertise: 'Viralizao & Trends',\r\n    color: '#8b5cf6', // violet\r\n    icon: '',\r\n  },\r\n  justin_welsh: {\r\n    id: 'justin_welsh',\r\n    name: 'Justin Welsh',\r\n    expertise: 'Funil Social',\r\n    color: '#10b981', // emerald\r\n    icon: '',\r\n  },\r\n\r\n  // Copy Counselors\r\n  eugene_schwartz: {\r\n    id: 'eugene_schwartz',\r\n    name: 'Eugene Schwartz',\r\n    expertise: 'Conscincia de Mercado',\r\n    specialty: 'Estrutura de copy para diferentes estgios de conscincia',\r\n    color: '#6366f1', // indigo\r\n    icon: '',\r\n  },\r\n  claude_hopkins: {\r\n    id: 'claude_hopkins',\r\n    name: 'Claude Hopkins',\r\n    expertise: 'Mtodo Cientfico',\r\n    specialty: 'Testes, medio, prova social',\r\n    color: '#3b82f6', // blue\r\n    icon: '',\r\n  },\r\n  gary_halbert: {\r\n    id: 'gary_halbert',\r\n    name: 'Gary Halbert',\r\n    expertise: 'Headlines & Psicologia',\r\n    specialty: 'Headlines que prendem, curiosidade, especificidade',\r\n    color: '#f59e0b', // amber\r\n    icon: '',\r\n  },\r\n  joseph_sugarman: {\r\n    id: 'joseph_sugarman',\r\n    name: 'Joseph Sugarman',\r\n    expertise: 'Narrativa & Estrutura',\r\n    specialty: 'Storytelling, transies, long-form copy',\r\n    color: '#8b5cf6', // violet\r\n    icon: '',\r\n  },\r\n  dan_kennedy_copy: {\r\n    id: 'dan_kennedy_copy',\r\n    name: 'Dan Kennedy',\r\n    expertise: 'Oferta & Urgncia',\r\n    specialty: 'Ofertas irresistveis, garantia, urgncia real',\r\n    color: '#10b981', // emerald\r\n    icon: '',\r\n  },\r\n  david_ogilvy: {\r\n    id: 'david_ogilvy',\r\n    name: 'David Ogilvy',\r\n    expertise: 'Brand Premium',\r\n    specialty: 'Pesquisa, diferenciao, big idea',\r\n    color: '#64748b', // slate\r\n    icon: '',\r\n  },\r\n  john_carlton: {\r\n    id: 'john_carlton',\r\n    name: 'John Carlton',\r\n    expertise: 'Voz Autntica',\r\n    specialty: 'Autenticidade, fluxo natural, conversao',\r\n    color: '#ec4899', // pink\r\n    icon: '',\r\n  },\r\n  drayton_bird: {\r\n    id: 'drayton_bird',\r\n    name: 'Drayton Bird',\r\n    expertise: 'Simplicidade & Eficincia',\r\n    specialty: 'Benefcio claro, direto, resposta direta',\r\n    color: '#14b8a6', // teal\r\n    icon: '',\r\n  },\r\n  frank_kern_copy: {\r\n    id: 'frank_kern_copy',\r\n    name: 'Frank Kern',\r\n    expertise: 'Fluxo de Vendas',\r\n    specialty: 'Sequncias, automao, comportamento',\r\n    color: '#f97316', // orange\r\n    icon: '',\r\n  },\r\n\r\n  // Ads Counselors\r\n  justin_brooke: {\r\n    id: 'justin_brooke',\r\n    name: 'Justin Brooke',\r\n    expertise: 'Estratgia & Escala',\r\n    color: '#3b82f6', // blue\r\n    icon: '',\r\n  },\r\n  nicholas_kusmich: {\r\n    id: 'nicholas_kusmich',\r\n    name: 'Nicholas Kusmich',\r\n    expertise: 'Meta Ads & Contexto',\r\n    color: '#2563eb', // blue-600\r\n    icon: '',\r\n  },\r\n  jon_loomer: {\r\n    id: 'jon_loomer',\r\n    name: 'Jon Loomer',\r\n    expertise: 'Analytics & Tcnico',\r\n    color: '#1d4ed8', // blue-700\r\n    icon: '',\r\n  },\r\n  savannah_sanchez: {\r\n    id: 'savannah_sanchez',\r\n    name: 'Savannah Sanchez',\r\n    expertise: 'TikTok & UGC',\r\n    color: '#0ea5e9', // sky\r\n    icon: '',\r\n  },\r\n  design_director: {\r\n    id: 'design_director',\r\n    name: 'Diretor de Design',\r\n    expertise: 'Direo de Arte & Briefing',\r\n    color: '#a855f7', // purple-500\r\n    icon: '',\r\n  },\r\n};\r\n\r\n// Retrocompatibilidade (Deprecated)\r\n/** @deprecated Use COUNSELORS_REGISTRY */\r\nexport const COUNSELORS = COUNSELORS_REGISTRY;\r\n/** @deprecated Use COUNSELORS_REGISTRY */\r\nexport const COPY_COUNSELORS = COUNSELORS_REGISTRY;\r\n\r\n// Navigation groups and items\r\nexport interface NavItem {\r\n  id: string;\r\n  label: string;\r\n  href: string;\r\n  icon: string;\r\n  aliases?: string[];\r\n  sub_items?: string[];\r\n}\r\n\r\nexport interface NavGroup {\r\n  id: string;\r\n  label: string;\r\n  description?: string;\r\n  icon: string;\r\n  items: NavItem[];\r\n}\r\n\r\nexport const NAV_GROUPS: NavGroup[] = [\r\n  {\r\n    id: 'intelligence',\r\n    label: 'Inteligncia',\r\n    description: 'Dados e insights que alimentam a estratgia',\r\n    icon: 'Brain',\r\n    items: [\r\n      { id: 'intelligence-dashboard', label: 'Dashboard', href: '/intelligence', icon: 'LayoutDashboard' },\r\n      { id: 'discovery', label: 'Discovery', href: '/intelligence/discovery', icon: 'Search', sub_items: ['Keywords', 'Spy Agent'] },\r\n      { id: 'attribution', label: 'Atribuio', href: '/intelligence/attribution', icon: 'GitBranch' },\r\n      { id: 'ltv', label: 'LTV & Reteno', href: '/intelligence/ltv', icon: 'TrendingUp' },\r\n      { id: 'journey', label: 'Jornada do Lead', href: '/intelligence/journey', icon: 'Map' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'strategy',\r\n    label: 'Estratgia',\r\n    description: 'Planejamento e arquitetura de converso',\r\n    icon: 'Compass',\r\n    items: [\r\n      { id: 'funnels', label: 'Funis', href: '/funnels', icon: 'Target' },\r\n      { id: 'offer-lab', label: 'Offer Lab', href: '/intelligence/offer-lab', icon: 'Beaker' },\r\n      { id: 'funnel-autopsy', label: 'Funnel Autopsy', href: '/strategy/autopsy', icon: 'Stethoscope' },\r\n      { id: 'copy-chat', label: 'Copywriting', href: '/chat?mode=copy', icon: 'PencilLine' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'execution',\r\n    label: 'Execuo',\r\n    description: 'Operao e implementao de ativos',\r\n    icon: 'Zap',\r\n    items: [\r\n      { id: 'campaigns', label: 'Campanhas', href: '/campaigns', icon: 'Rocket', aliases: ['/campaign'] },\r\n      { id: 'ads-chat', label: 'Ads & Trfego', href: '/chat?mode=ads', icon: 'Megaphone' },\r\n      { id: 'social', label: 'Social', href: '/social', icon: 'Share2' },\r\n      { id: 'social-inbox', label: 'Social Inbox', href: '/social-inbox', icon: 'Inbox' },\r\n      { id: 'automation', label: 'Automao', href: '/automation', icon: 'Cpu' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'management',\r\n    label: 'Gesto',\r\n    description: 'Governana de marca e ativos',\r\n    icon: 'ShieldCheck',\r\n    items: [\r\n      { id: 'brands', label: 'Marcas', href: '/brands', icon: 'Building' },\r\n      { id: 'brand-hub', label: 'Brand Hub', href: '/brand-hub', icon: 'Palette' },\r\n      { id: 'assets', label: 'Biblioteca de Ativos', href: '/assets', icon: 'FolderKanban' },\r\n      { id: 'vault', label: 'Vault', href: '/vault', icon: 'Database' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'system',\r\n    label: 'Sistema',\r\n    icon: 'Settings',\r\n    items: [\r\n      { id: 'settings', label: 'Configuraes', href: '/settings', icon: 'Settings' },\r\n      { id: 'integrations', label: 'Integraes', href: '/integrations', icon: 'PlugZap' },\r\n    ],\r\n  },\r\n];\r\n\r\n// Retrocompatibilidade para NAV_ITEMS (Flattened list)\r\nexport const NAV_ITEMS = NAV_GROUPS.flatMap(group => group.items);\r\n\r\n// Status badges\r\nexport const STATUS_COLORS: Record<string, string> = {\r\n  draft: 'bg-gray-500',\r\n  generating: 'bg-blue-500',\r\n  review: 'bg-yellow-500',\r\n  approved: 'bg-green-500',\r\n  adjusting: 'bg-orange-500',\r\n  executing: 'bg-purple-500',\r\n  completed: 'bg-emerald-500',\r\n  killed: 'bg-red-500',\r\n};\r\n\r\n// Decision colors\r\nexport const DECISION_COLORS = {\r\n  EXECUTAR: 'bg-green-500 text-white',\r\n  AJUSTAR: 'bg-amber-500 text-white',\r\n  MATAR: 'bg-red-500 text-white',\r\n} as const;\r\n\r\n// Copy Types with labels\r\nexport const COPY_TYPES = {\r\n  headline: { label: 'Headlines', icon: '', description: 'Headlines por estgio de conscincia' },\r\n  email_sequence: { label: 'Emails', icon: '', description: 'Sequncia de emails de follow-up' },\r\n  offer_copy: { label: 'Oferta', icon: '', description: 'Copy de oferta completa' },\r\n  vsl_script: { label: 'VSL Script', icon: '', description: 'Script de Video Sales Letter' },\r\n  ad_creative: { label: 'Anncios', icon: '', description: 'Copy para Meta, Google, etc' },\r\n  landing_page: { label: 'Landing Page', icon: '', description: 'Copy de pgina de vendas' },\r\n} as const;\r\n\r\n// Awareness stages with labels\r\nexport const AWARENESS_STAGES = {\r\n  unaware: { label: 'Inconsciente', description: 'No sabe que tem problema', copyLength: 'Muito longa' },\r\n  problem_aware: { label: 'Consciente do Problema', description: 'Sabe que tem problema', copyLength: 'Mdia' },\r\n  solution_aware: { label: 'Consciente da Soluo', description: 'Sabe que existem solues', copyLength: 'Mdia' },\r\n  product_aware: { label: 'Consciente do Produto', description: 'Conhece seu produto', copyLength: 'Curta' },\r\n  most_aware: { label: 'Mais Consciente', description: 'J conhece bem', copyLength: 'Muito curta' },\r\n} as const;\r\n\r\n// Chat modes configuration\r\nexport const CHAT_MODES = {\r\n  general: {\r\n    id: 'general',\r\n    label: 'Conselho',\r\n    title: 'Conselho',\r\n    subtitle: '23 especialistas',\r\n    placeholder: 'Pergunte ao Conselho...',\r\n    footer: 'Pressione Enter para enviar, Shift+Enter para nova linha',\r\n    accentColor: 'emerald',\r\n    counselors: [\r\n      'russell_brunson', 'dan_kennedy', 'frank_kern', 'sam_ovens', 'ryan_deiss', 'perry_belcher',\r\n      'eugene_schwartz', 'claude_hopkins', 'gary_halbert', 'joseph_sugarman', 'david_ogilvy', \r\n      'john_carlton', 'drayton_bird', 'frank_kern_copy', 'lia_haberman', 'rachel_karten', \r\n      'nikita_beer', 'justin_welsh', 'justin_brooke', 'nicholas_kusmich', 'jon_loomer', \r\n      'savannah_sanchez'\r\n    ] as CounselorId[],\r\n  },\r\n  funnel: {\r\n    id: 'funnel',\r\n    label: 'Funil',\r\n    title: 'Conselho de Funil',\r\n    subtitle: '6 especialistas',\r\n    placeholder: 'Pergunte sobre arquitetura de funis...',\r\n    footer: ' Consultando: Russell Brunson, Dan Kennedy, Frank Kern, Sam Ovens, Ryan Deiss, Perry Belcher',\r\n    accentColor: 'indigo',\r\n    counselors: [\r\n      'russell_brunson', 'dan_kennedy', 'frank_kern', 'sam_ovens', 'ryan_deiss', 'perry_belcher'\r\n    ] as CounselorId[],\r\n  },\r\n  copy: {\r\n    id: 'copy',\r\n    label: 'Copy',\r\n    title: 'Conselho de Copy',\r\n    subtitle: '9 copywriters',\r\n    placeholder: 'Pergunte sobre copy e persuaso...',\r\n    footer: ' Consultando: Schwartz, Hopkins, Halbert, Sugarman, Ogilvy, Carlton, Bird, Kern',\r\n    accentColor: 'amber',\r\n    counselors: [\r\n      'eugene_schwartz', 'claude_hopkins', 'gary_halbert', 'joseph_sugarman', 'david_ogilvy', \r\n      'john_carlton', 'drayton_bird', 'frank_kern_copy', 'dan_kennedy_copy'\r\n    ] as CounselorId[],\r\n  },\r\n  social: {\r\n    id: 'social',\r\n    label: 'Social',\r\n    title: 'Conselho Social',\r\n    subtitle: '4 especialistas',\r\n    placeholder: 'Pergunte sobre redes sociais e viralizao...',\r\n    footer: ' Consultando: Lia Haberman, Rachel Karten, Nikita Beer, Justin Welsh',\r\n    accentColor: 'rose',\r\n    counselors: [\r\n      'lia_haberman', 'rachel_karten', 'nikita_beer', 'justin_welsh'\r\n    ] as CounselorId[],\r\n  },\r\n  ads: {\r\n    id: 'ads',\r\n    label: 'Ads',\r\n    title: 'Conselho de Ads',\r\n    subtitle: '4 especialistas',\r\n    placeholder: 'Pergunte sobre trfego e escala...',\r\n    footer: ' Consultando: Justin Brooke, Nicholas Kusmich, Jon Loomer, Savannah Sanchez',\r\n    accentColor: 'blue',\r\n    counselors: [\r\n      'justin_brooke', 'nicholas_kusmich', 'jon_loomer', 'savannah_sanchez'\r\n    ] as CounselorId[],\r\n  },\r\n  design: {\r\n    id: 'design',\r\n    label: 'Design',\r\n    title: 'Conselho de Design',\r\n    subtitle: 'Diretor de Design',\r\n    placeholder: 'Pea um briefing de design ou prompt para o NanoBanana...',\r\n    footer: ' Consultando: Diretor de Design especializado em Thumbnails, Carrossis e Estticos',\r\n    accentColor: 'purple',\r\n    counselors: [\r\n      'design_director'\r\n    ] as CounselorId[],\r\n  },\r\n  party: {\r\n    id: 'party',\r\n    label: 'Party Mode',\r\n    title: 'Alto Conselho',\r\n    subtitle: 'Mltiplos Especialistas',\r\n    placeholder: 'Inicie uma deliberao entre especialistas...',\r\n    footer: ' Party Mode: Selecione os especialistas para o debate',\r\n    accentColor: 'purple',\r\n    counselors: [] as CounselorId[], // Ser preenchido dinamicamente\r\n  },\r\n} as const;\r\n","import { CampaignContext } from '@/types/campaign';\r\nimport { COUNSELORS_REGISTRY } from '@/lib/constants';\r\n\r\nexport const ADS_GENERATION_RULES = `\r\n## REGRAS DE OURO - CONSELHO DE ADS\r\n1. **CONGRUNCIA**: A estratgia de trfego deve seguir rigorosamente a \"Golden Thread\" (Funil -> Copy -> Social -> Design).\r\n2. **ESPECIFICIDADE**: Defina pblicos, canais e estruturas de campanha reais (CBO/ABO, segmentao por interesses, lookalike).\r\n3. **MTRICAS 2026**: Utilize benchmarks atualizados de CPC, CTR e ROAS para 2026.\r\n4. **FORMATO**: Retorne APENAS o JSON vlido seguindo a estrutura solicitada.\r\n5. **INSIGHTS**: Fornea justificativas tcnicas baseadas nos especialistas.\r\n`;\r\n\r\nexport function buildAdsGenerationPrompt(campaign: CampaignContext, context?: { ragContext?: string; brandContext?: string }): string {\r\n  const adsCounselors = [\r\n    COUNSELORS_REGISTRY.justin_brooke,\r\n    COUNSELORS_REGISTRY.nicholas_kusmich,\r\n    COUNSELORS_REGISTRY.jon_loomer,\r\n    COUNSELORS_REGISTRY.savannah_sanchez\r\n  ];\r\n\r\n  return `Voc  o Conselho de Ads, um sistema de inteligncia composto por 4 mestres do trfego pago e escala:\r\n\r\n${adsCounselors.map((c, i) => `${i + 1}. **${c.name}**  ${c.expertise}`).join('\\n')}\r\n\r\n## THE GOLDEN THREAD: MANIFESTO DA CAMPANHA\r\n\r\n### 1. O CREBRO (FUNIL)\r\n- **Tipo:** ${campaign.funnel?.type}\r\n- **Objetivo:** ${campaign.funnel?.mainGoal}\r\n- **Pblico:** ${campaign.funnel?.targetAudience}\r\n- **Resumo:** ${campaign.funnel?.summary}\r\n\r\n### 2. A VOZ (COPY)\r\n- **Big Idea:** ${campaign.copywriting?.bigIdea}\r\n- **Tone:** ${campaign.copywriting?.tone}\r\n- **Headlines:** ${campaign.copywriting?.headlines.join(' | ')}\r\n- **Benefcios:** ${campaign.copywriting?.keyBenefits.join(', ')}\r\n\r\n### 3. A ATENO (SOCIAL)\r\n- **Canais:** ${campaign.social?.platforms.join(', ')}\r\n- **Hooks:** ${campaign.social?.hooks.map(h => `[${h.platform}] ${h.content}`).join(' | ')}\r\n\r\n### 4. O VISUAL (DESIGN)\r\n- **Estilo:** ${campaign.design?.visualStyle}\r\n- **Cores:** ${campaign.design?.preferredColors.join(', ')}\r\n- **Prompts:** ${campaign.design?.visualPrompts.join(' | ')}\r\n\r\n${context?.ragContext ? `## CONHECIMENTO ESTRATGICO (ADS PLAYBOOKS)\\n${context.ragContext}\\n` : ''}\r\n${context?.brandContext ? `## CONHECIMENTO DA MARCA\\n${context.brandContext}\\n` : ''}\r\n\r\n## TAREFA: GERAR ESTRATGIA DE ADS (ESCALA)\r\n\r\nSua tarefa  ler todo o manifesto acima e projetar a estrutura de escala desta campanha. \r\nNo invente dados que contradigam a copy ou o design. \r\nSe o Copywriter definiu uma Big Idea, o Ad deve ser o veculo dessa ideia.\r\n\r\n## FORMATO DE SADA (JSON)\r\n\r\n{\r\n  \"audiences\": [\"Audincia 1 (ex: Lookalike 1% Compradores)\", \"Audincia 2 (Interesses em X)\", \"Audincia 3 (Retargeting)\"],\r\n  \"channels\": [\"Meta Ads\", \"Google Search\", \"TikTok Ads\"],\r\n  \"suggestedBudget\": \"R$ X.XXX,XX / ms\",\r\n  \"performanceBenchmarks\": {\r\n    \"targetCPC\": 1.50,\r\n    \"targetCTR\": 1.2,\r\n    \"targetCPA\": 45.00\r\n  },\r\n  \"strategyRationale\": \"Explicao tcnica de como os canais e pblicos se conectam ao funil.\",\r\n  \"counselorInsights\": [\r\n    {\r\n      \"counselor\": \"Justin Brooke\",\r\n      \"insight\": \"Conselho sobre escala e distribuio de verba.\"\r\n    },\r\n    {\r\n      \"counselor\": \"Nicholas Kusmich\",\r\n      \"insight\": \"Conselho sobre segmentao e contexto no Meta.\"\r\n    }\r\n  ]\r\n}\r\n\r\n${ADS_GENERATION_RULES}`;\r\n}\r\n","import { GoogleGenerativeAI } from '@google/generative-ai';\r\nimport { \r\n  doc, \r\n  getDoc, \r\n  setDoc, \r\n  Timestamp \r\n} from 'firebase/firestore';\r\nimport { db } from '../firebase/config';\r\n\r\n/**\r\n * Get Gemini API Key - reads from environment variable at runtime\r\n */\r\nfunction getGeminiApiKey(): string | undefined {\r\n  // Acesso direto para garantir que o Next.js/Turbopack faa a injeo no cliente\r\n  const public_key = (process.env.NEXT_PUBLIC_GOOGLE_AI_API_KEY ?? '').trim();\r\n  const private_key = (process.env.GOOGLE_AI_API_KEY ?? '').trim();\r\n  \r\n  const key = public_key || private_key;\r\n  \r\n  if (!key && typeof window !== 'undefined') {\r\n    console.error(' [Embeddings] NEXT_PUBLIC_GOOGLE_AI_API_KEY no encontrada no bundle do navegador. Verifique se o servidor foi reiniciado aps editar o .env.local.');\r\n  }\r\n  \r\n  return key;\r\n}\r\n\r\n/**\r\n * Simple hashing function for cache keys\r\n */\r\nasync function getCacheKey(text: string): Promise<string> {\r\n  const msgUint8 = new TextEncoder().encode(text.trim().toLowerCase());\r\n  const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);\r\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n}\r\n\r\n/**\r\n * Generates an embedding for a given text using Gemini's text-embedding-004 model.\r\n * Includes a Firestore cache to reduce costs and latency.\r\n * \r\n * @param text - The input text to embed.\r\n * @returns A promise that resolves to an array of numbers (768 dimensions).\r\n * @throws Error if the API key is missing or the request fails.\r\n */\r\nexport async function generateEmbedding(text: string): Promise<number[]> {\r\n  // Se preferir evitar o SDK (que vem falhando com API_KEY_INVALID), usamos o endpoint direto.\r\n  const apiKey = getGeminiApiKey();\r\n  if (!apiKey) {\r\n    throw new Error('GOOGLE_AI_API_KEY not configured for embeddings');\r\n  }\r\n\r\n  const startTime = Date.now();\r\n  const cacheKey = await getCacheKey(text);\r\n  \r\n  // 1. Check Cache (Firestore)\r\n  try {\r\n    const cacheRef = doc(db, 'query_cache', cacheKey);\r\n    const cacheSnap = await getDoc(cacheRef);\r\n    \r\n    if (cacheSnap.exists()) {\r\n      const data = cacheSnap.data();\r\n      const ttl = 30 * 24 * 60 * 60 * 1000; // 30 days\r\n      const isExpired = (Timestamp.now().toMillis() - data.createdAt.toMillis()) > ttl;\r\n      \r\n      if (!isExpired) {\r\n        console.log(`[Embeddings] Cache HIT for key: ${cacheKey.substring(0, 8)} (${Date.now() - startTime}ms)`);\r\n        return data.embedding;\r\n      }\r\n    }\r\n  } catch (cacheError) {\r\n    console.warn('[Embeddings] Cache read error:', cacheError);\r\n  }\r\n\r\n  // 2. Cache MISS - Call API\r\n  try {\r\n    // RESOLUO DEFINITIVA (Dandara/Kai): \r\n    // 1. text-embedding-004 e embedding-001 via SDK (@google/generative-ai) esto retornando API_KEY_INVALID \r\n    //    mesmo com chaves vlidas, possivelmente por depreciao ou conflito de headers do SDK.\r\n    // 2. A chamada direta via fetch para 'gemini-embedding-001' ignorando o SDK funciona 100%.\r\n    // 3. Mantemos o fetch direto como padro para garantir estabilidade do RAG.\r\n    \r\n    console.log(`[Embeddings] Calling text-embedding-004 with dimensionality: 768`);\r\n    const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/text-embedding-004:embedContent', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'x-goog-api-key': apiKey,\r\n      },\r\n      body: JSON.stringify({\r\n        model: 'models/text-embedding-004',\r\n        content: { parts: [{ text }] },\r\n        outputDimensionality: 768,\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errTxt = await response.text();\r\n      throw new Error(`Embedding API failed: ${response.status} ${errTxt}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const embedding = result?.embedding?.values;\r\n    if (!Array.isArray(embedding)) {\r\n      throw new Error('Embedding API returned no values');\r\n    }\r\n    \r\n    // 3. Save to Cache (Async)\r\n    const cacheRef = doc(db, 'query_cache', cacheKey);\r\n    setDoc(cacheRef, {\r\n      query: text.substring(0, 500), // Store snippet for debugging\r\n      embedding,\r\n      createdAt: Timestamp.now(),\r\n    }).catch(err => console.error('[Embeddings] Cache write error:', err));\r\n\r\n    console.log(`[Embeddings] Cache MISS - API called (${Date.now() - startTime}ms)`);\r\n    return embedding;\r\n  } catch (error) {\r\n    console.error('[Embeddings] Error generating embedding:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Generates embeddings for a batch of texts.\r\n * Handles partial cache hits to minimize API usage.\r\n * Includes TTL check (30 days).\r\n * \r\n * @param texts - Array of strings to embed.\r\n * @returns A promise that resolves to an array of number arrays.\r\n */\r\nexport async function generateEmbeddingsBatch(texts: string[]): Promise<number[][]> {\r\n  const startTime = Date.now();\r\n  const results: (number[] | null)[] = new Array(texts.length).fill(null);\r\n  const missIndices: number[] = [];\r\n  const missTexts: string[] = [];\r\n  const ttl = 30 * 24 * 60 * 60 * 1000; // 30 days\r\n  const nowMillis = Timestamp.now().toMillis();\r\n\r\n  // 1. Check Cache for each text\r\n  for (let i = 0; i < texts.length; i++) {\r\n    const text = texts[i];\r\n    const cacheKey = await getCacheKey(text);\r\n    \r\n    try {\r\n      const cacheRef = doc(db, 'query_cache', cacheKey);\r\n      const cacheSnap = await getDoc(cacheRef);\r\n      \r\n      if (cacheSnap.exists()) {\r\n        const data = cacheSnap.data();\r\n        const isExpired = (nowMillis - data.createdAt.toMillis()) > ttl;\r\n        \r\n        if (!isExpired) {\r\n          results[i] = data.embedding;\r\n          continue;\r\n        }\r\n      }\r\n    } catch (err) {\r\n      // Ignore cache errors and treat as miss\r\n    }\r\n    \r\n    missIndices.push(i);\r\n    missTexts.push(text);\r\n  }\r\n\r\n  if (missTexts.length === 0) {\r\n    console.log(`[Embeddings] Batch Cache HIT (100%) - ${texts.length} items (${Date.now() - startTime}ms)`);\r\n    return results as number[][];\r\n  }\r\n\r\n  // 2. Call API for MISSES\r\n  const apiKey = getGeminiApiKey();\r\n  if (!apiKey) {\r\n    throw new Error('GOOGLE_AI_API_KEY not configured for embeddings');\r\n  }\r\n\r\n  const genAI = new GoogleGenerativeAI(apiKey);\r\n  const model = genAI.getGenerativeModel({ model: \"text-embedding-004\" });\r\n\r\n  try {\r\n    console.log(`[Embeddings] Batch Cache MISS - Calling API for ${missTexts.length}/${texts.length} items`);\r\n    \r\n    // Process in chunks of 90 (Google AI API limit is 100, we use 90 to be safe and avoid overhead issues)\r\n    // ST-11.23 Hotfix: Avoid \"at most 100 requests\" error\r\n    const BATCH_SIZE = 90;\r\n    const newEmbeddings: number[][] = [];\r\n    \r\n    for (let i = 0; i < missTexts.length; i += BATCH_SIZE) {\r\n      const batchTexts = missTexts.slice(i, i + BATCH_SIZE);\r\n      console.log(`[Embeddings] Processing API sub-batch ${i / BATCH_SIZE + 1} (${batchTexts.length} items)`);\r\n      \r\n      // Switching to fetch to avoid SDK inconsistencies (Ref: generateEmbedding)\r\n      const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/text-embedding-004:batchEmbedContents', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-goog-api-key': apiKey,\r\n        },\r\n        body: JSON.stringify({\r\n          requests: batchTexts.map((text) => ({\r\n            model: 'models/text-embedding-004',\r\n            content: { parts: [{ text }] },\r\n            outputDimensionality: 768\r\n          })),\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errTxt = await response.text();\r\n        throw new Error(`Batch Embedding API failed: ${response.status} ${errTxt}`);\r\n      }\r\n\r\n      const batchResult = await response.json();\r\n      \r\n      if (!batchResult.embeddings || !Array.isArray(batchResult.embeddings)) {\r\n        throw new Error('Batch Embedding API returned invalid format');\r\n      }\r\n\r\n      newEmbeddings.push(...batchResult.embeddings.map((e: any) => e.values));\r\n    }\r\n    \r\n    // 3. Save new embeddings to Cache and update results\r\n    for (let i = 0; i < missIndices.length; i++) {\r\n      const originalIdx = missIndices[i];\r\n      const embedding = newEmbeddings[i];\r\n      const text = missTexts[i];\r\n      results[originalIdx] = embedding;\r\n      \r\n      const cacheKey = await getCacheKey(text);\r\n      const cacheRef = doc(db, 'query_cache', cacheKey);\r\n      setDoc(cacheRef, {\r\n        query: text.substring(0, 500),\r\n        embedding,\r\n        createdAt: Timestamp.now(),\r\n      }).catch(err => console.error('[Embeddings] Cache write error:', err));\r\n    }\r\n\r\n    console.log(`[Embeddings] Batch completed (${Date.now() - startTime}ms)`);\r\n    return results as number[][];\r\n  } catch (error) {\r\n    console.error('[Embeddings] Error generating batch embeddings:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86]}