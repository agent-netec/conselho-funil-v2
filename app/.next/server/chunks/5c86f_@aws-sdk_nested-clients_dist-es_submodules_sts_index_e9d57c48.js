module.exports=[482808,e=>{"use strict";e.s([],586378),e.i(586378),e.s(["STSClient",()=>eN],455521);var t=e.i(293361),i=e.i(126381),n=e.i(696363),o=e.i(905967),s=e.i(892556),r=e.i(96856),a=e.i(96326),d=e.i(516180),c=e.i(370983),l=e.i(503009),u=e.i(743910),p=e.i(745046),m=e.i(887364),g=e.i(779746),f=e.i(35300),h=e.i(191562),E=e.i(626867),S=e.i(401051);let y=async(e,t,i)=>({operation:(0,E.getSmithyContext)(t).operation,region:await (0,S.normalizeProvider)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),P=e=>{let t=[];if("AssumeRoleWithWebIdentity"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})});return t},I={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var C=e.i(292003),R=e.i(434189),A=e.i(468051),v=e.i(376008),x=e.i(880612),T=e.i(768790),D=e.i(287228),b=e.i(242632),O=e.i(632461),k=e.i(254250),w=e.i(583602),$=e.i(187228),_=e.i(73355),N=e.i(672945),W=e.i(471855),F=e.i(444285),U=e.i(591746),L=e.i(127773),H=e.i(239254),j=e.i(640089),M=e.i(823845),G=e.i(879614),K=e.i(968556),q=e.i(794123),V=e.i(85341),z=e.i(194433);e.i(532464);var B=e.i(645338),Q=e.i(988033),Y=e.i(797260),X=e.i(724706);let J="required",Z="type",ee="argv",et="booleanEquals",ei="stringEquals",en="sigv4",eo="us-east-1",es="endpoint",er="https://sts.{Region}.{PartitionResult#dnsSuffix}",ea="tree",ed="error",ec="getAttr",el={[J]:!1,[Z]:"string"},eu={[J]:!0,default:!1,[Z]:"boolean"},ep={ref:"Endpoint"},em={fn:"isSet",[ee]:[{ref:"Region"}]},eg={ref:"Region"},ef={fn:"aws.partition",[ee]:[eg],assign:"PartitionResult"},eh={ref:"UseFIPS"},eE={ref:"UseDualStack"},eS={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:en,signingName:"sts",signingRegion:eo}]},headers:{}},ey={},eP={conditions:[{fn:ei,[ee]:[eg,"aws-global"]}],[es]:eS,[Z]:es},eI={fn:et,[ee]:[eh,!0]},eC={fn:et,[ee]:[eE,!0]},eR={fn:ec,[ee]:[{ref:"PartitionResult"},"supportsFIPS"]},eA={ref:"PartitionResult"},ev={fn:et,[ee]:[!0,{fn:ec,[ee]:[eA,"supportsDualStack"]}]},ex=[{fn:"isSet",[ee]:[ep]}],eT=[eI],eD=[eC],eb={version:"1.0",parameters:{Region:el,UseDualStack:eu,UseFIPS:eu,Endpoint:el,UseGlobalEndpoint:eu},rules:[{conditions:[{fn:et,[ee]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ee]:ex},em,ef,{fn:et,[ee]:[eh,!1]},{fn:et,[ee]:[eE,!1]}],rules:[{conditions:[{fn:ei,[ee]:[eg,"ap-northeast-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"ap-south-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"ap-southeast-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"ap-southeast-2"]}],endpoint:eS,[Z]:es},eP,{conditions:[{fn:ei,[ee]:[eg,"ca-central-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"eu-central-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"eu-north-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"eu-west-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"eu-west-2"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"eu-west-3"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"sa-east-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,eo]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"us-east-2"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"us-west-1"]}],endpoint:eS,[Z]:es},{conditions:[{fn:ei,[ee]:[eg,"us-west-2"]}],endpoint:eS,[Z]:es},{endpoint:{url:er,properties:{authSchemes:[{name:en,signingName:"sts",signingRegion:"{Region}"}]},headers:ey},[Z]:es}],[Z]:ea},{conditions:ex,rules:[{conditions:eT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Z]:ed},{conditions:eD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Z]:ed},{endpoint:{url:ep,properties:ey,headers:ey},[Z]:es}],[Z]:ea},{conditions:[em],rules:[{conditions:[ef],rules:[{conditions:[eI,eC],rules:[{conditions:[{fn:et,[ee]:[!0,eR]},ev],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ey,headers:ey},[Z]:es}],[Z]:ea},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Z]:ed}],[Z]:ea},{conditions:eT,rules:[{conditions:[{fn:et,[ee]:[eR,!0]}],rules:[{conditions:[{fn:ei,[ee]:[{fn:ec,[ee]:[eA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ey,headers:ey},[Z]:es},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ey,headers:ey},[Z]:es}],[Z]:ea},{error:"FIPS is enabled but this partition does not support FIPS",[Z]:ed}],[Z]:ea},{conditions:eD,rules:[{conditions:[ev],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ey,headers:ey},[Z]:es}],[Z]:ea},{error:"DualStack is enabled but this partition does not support DualStack",[Z]:ed}],[Z]:ea},eP,{endpoint:{url:er,properties:ey,headers:ey},[Z]:es}],[Z]:ea}],[Z]:ea},{error:"Invalid Configuration: Missing Region",[Z]:ed}]},eO=new Y.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),ek=(e,t={})=>eO.get(e,()=>(0,X.resolveEndpoint)(eb,{endpointParams:e,logger:t.logger}));Q.customEndpointFunctions.aws=B.awsEndpointFunctions;var ew=e.i(953495),e$=e.i(853974),e_=e.i(324788);class eN extends f.Client{config;constructor(...[e]){const f=(e=>{(0,W.emitWarningIfUnsupportedVersion)(process.version);let t=(0,L.resolveDefaultsModeConfig)(e),i=()=>t().then(F.loadConfigsForDefaultMode),n={apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??K.fromBase64,base64Encoder:e?.base64Encoder??q.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ek,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??P,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new R.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new k.NoAuthSigner}],logger:e?.logger??new M.NoOpLogger,protocol:e?.protocol??j.AwsQueryProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??G.parseUrl,utf8Decoder:e?.utf8Decoder??V.fromUtf8,utf8Encoder:e?.utf8Encoder??z.toUtf8};(0,A.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,$.loadConfig)(v.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??U.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,x.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:C.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new R.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new k.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,$.loadConfig)(g.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,$.loadConfig)(D.NODE_REGION_CONFIG_OPTIONS,{...D.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:_.NodeHttpHandler.create(e?.requestHandler??i),retryMode:e?.retryMode??(0,$.loadConfig)({...g.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await i()).retryMode||H.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??w.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??N.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$.loadConfig)(b.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,$.loadConfig)(O.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,$.loadConfig)(T.NODE_APP_ID_CONFIG_OPTIONS,o)}})(e||{});super(f),this.initConfig=f;const E=(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}))(f),I=(0,s.resolveUserAgentConfig)(E),B=(0,g.resolveRetryConfig)(I),Q=(0,r.resolveRegionConfig)(B),Y=(0,t.resolveHostHeaderConfig)(Q),X=((e,t)=>{let i,n,o,s=Object.assign((0,ew.getAwsRegionExtensionConfiguration)(e),(0,e_.getDefaultExtensionConfiguration)(e),(0,e$.getHttpHandlerExtensionConfiguration)(e),(i=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,o=e.credentials,{setHttpAuthScheme(e){let t=i.findIndex(t=>t.schemeId===e.schemeId);-1===t?i.push(e):i.splice(t,1,e)},httpAuthSchemes:()=>i,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){o=e},credentials:()=>o}));return t.forEach(e=>e.configure(s)),Object.assign(e,(0,ew.resolveAwsRegionExtensionConfiguration)(s),(0,e_.resolveDefaultRuntimeConfig)(s),(0,e$.resolveHttpHandlerRuntimeConfig)(s),{httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()})})((e=>{let t=Object.assign(e,{stsClientCtor:eN});return Object.assign((0,h.resolveAwsSdkSigV4Config)(t),{authSchemePreference:(0,S.normalizeProvider)(e.authSchemePreference??[])})})((0,p.resolveEndpointConfig)(Y)),e?.extensions||[]);this.config=X,this.middlewareStack.use((0,l.getSchemaSerdePlugin)(this.config)),this.middlewareStack.use((0,o.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,m.getRetryPlugin)(this.config)),this.middlewareStack.use((0,u.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,t.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,i.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,n.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,d.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:y,identityProviderConfigProvider:async e=>new a.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}e.i(455521),e.s(["STSClient",()=>eN,"__Client",()=>f.Client],941462),e.i(941462);var eW=e.i(317060),eF=e.i(935765),eU=e.i(688844),eL=e.i(465742),eH=e.i(256279);class ej extends eH.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,ej.prototype)}}class eM extends ej{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,eM.prototype)}}class eG extends ej{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,eG.prototype)}}class eK extends ej{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,eK.prototype)}}class eq extends ej{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,eq.prototype)}}class eV extends ej{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,eV.prototype)}}class ez extends ej{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,ez.prototype)}}class eB extends ej{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,eB.prototype)}}e.s(["ExpiredTokenException",()=>eM,"IDPCommunicationErrorException",()=>eB,"IDPRejectedClaimException",()=>eV,"InvalidIdentityTokenException",()=>ez,"MalformedPolicyDocumentException",()=>eG,"PackedPolicyTooLargeException",()=>eK,"RegionDisabledException",()=>eq],326979);let eQ="AssumedRoleUser",eY="Credentials",eX="DurationSeconds",eJ="Policy",eZ="PolicyArns",e0="PackedPolicySize",e1="RoleArn",e4="RoleSessionName",e3="SourceIdentity",e6="awsQueryError",e2="client",e5="error",e8="httpError",e9="message",e7="smithy.ts.sdk.synthetic.com.amazonaws.sts",te="com.amazonaws.sts";var tt=[0,te,"accessKeySecretType",8,0],ti=[0,te,"clientTokenType",8,0],tn=[3,te,eQ,0,["AssumedRoleId","Arn"],[0,0],2],to=[3,te,"AssumeRoleRequest",0,[e1,e4,eZ,eJ,eX,"Tags","TransitiveTagKeys","ExternalId","SerialNumber","TokenCode",e3,"ProvidedContexts"],[0,0,()=>tP,0,1,()=>tC,64,0,0,0,0,()=>tI],2],ts=[3,te,"AssumeRoleResponse",0,[eY,eQ,e0,e3],[[()=>td,0],()=>tn,1,0]],tr=[3,te,"AssumeRoleWithWebIdentityRequest",0,[e1,e4,"WebIdentityToken","ProviderId",eZ,eJ,eX],[0,0,[()=>ti,0],0,()=>tP,0,1],3],ta=[3,te,"AssumeRoleWithWebIdentityResponse",0,[eY,"SubjectFromWebIdentityToken",eQ,e0,"Provider","Audience",e3],[[()=>td,0],0,()=>tn,1,0,0,0]],td=[3,te,eY,0,["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],[0,[()=>tt,0],0,4],4],tc=[-3,te,"ExpiredTokenException",{[e6]:["ExpiredTokenException",400],[e5]:e2,[e8]:400},[e9],[0]];eL.TypeRegistry.for(te).registerError(tc,eM);var tl=[-3,te,"IDPCommunicationErrorException",{[e6]:["IDPCommunicationError",400],[e5]:e2,[e8]:400},[e9],[0]];eL.TypeRegistry.for(te).registerError(tl,eB);var tu=[-3,te,"IDPRejectedClaimException",{[e6]:["IDPRejectedClaim",403],[e5]:e2,[e8]:403},[e9],[0]];eL.TypeRegistry.for(te).registerError(tu,eV);var tp=[-3,te,"InvalidIdentityTokenException",{[e6]:["InvalidIdentityToken",400],[e5]:e2,[e8]:400},[e9],[0]];eL.TypeRegistry.for(te).registerError(tp,ez);var tm=[-3,te,"MalformedPolicyDocumentException",{[e6]:["MalformedPolicyDocument",400],[e5]:e2,[e8]:400},[e9],[0]];eL.TypeRegistry.for(te).registerError(tm,eG);var tg=[-3,te,"PackedPolicyTooLargeException",{[e6]:["PackedPolicyTooLarge",400],[e5]:e2,[e8]:400},[e9],[0]];eL.TypeRegistry.for(te).registerError(tg,eK);var tf=[3,te,"PolicyDescriptorType",0,["arn"],[0]],th=[3,te,"ProvidedContext",0,["ProviderArn","ContextAssertion"],[0,0]],tE=[-3,te,"RegionDisabledException",{[e6]:["RegionDisabledException",403],[e5]:e2,[e8]:403},[e9],[0]];eL.TypeRegistry.for(te).registerError(tE,eq);var tS=[3,te,"Tag",0,["Key","Value"],[0,0],2],ty=[-3,e7,"STSServiceException",0,[],[]];eL.TypeRegistry.for(e7).registerError(ty,ej);var tP=[1,te,"policyDescriptorListType",0,()=>tf],tI=[1,te,"ProvidedContextsListType",0,()=>th],tC=[1,te,"tagListType",0,()=>tS],tR=[9,te,"AssumeRole",0,()=>to,()=>ts],tA=[9,te,"AssumeRoleWithWebIdentity",0,()=>tr,()=>ta];e.s(["AssumeRole$",()=>tR,"AssumeRoleRequest$",()=>to,"AssumeRoleResponse$",()=>ts,"AssumeRoleWithWebIdentity$",()=>tA,"AssumeRoleWithWebIdentityRequest$",()=>tr,"AssumeRoleWithWebIdentityResponse$",()=>ta,"AssumedRoleUser$",()=>tn,"Credentials$",()=>td,"ExpiredTokenException$",()=>tc,"IDPCommunicationErrorException$",()=>tl,"IDPRejectedClaimException$",()=>tu,"InvalidIdentityTokenException$",()=>tp,"MalformedPolicyDocumentException$",()=>tm,"PackedPolicyTooLargeException$",()=>tg,"PolicyDescriptorType$",()=>tf,"ProvidedContext$",()=>th,"RegionDisabledException$",()=>tE,"STSServiceException$",()=>ty,"Tag$",()=>tS],236541);class tv extends eU.Command.classBuilder().ep(I).m(function(e,t,i,n){return[(0,eF.getEndpointPlugin)(i,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(tR).build(){}e.s(["AssumeRoleCommand",()=>tv],545958);var tx=eF,tT=eU;class tD extends tT.Command.classBuilder().ep(I).m(function(e,t,i,n){return[(0,tx.getEndpointPlugin)(i,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(tA).build(){}e.s(["AssumeRoleWithWebIdentityCommand",()=>tD],399079);class tb extends eN{}(0,eW.createAggregatedClient)({AssumeRoleCommand:tv,AssumeRoleWithWebIdentityCommand:tD},tb),e.s(["STS",()=>tb],356236),e.i(356236),e.s([],562703),e.i(562703),e.i(545958),e.s(["$Command",()=>eU.Command,"AssumeRoleCommand",()=>tv],698017),e.i(698017),e.i(399079),e.s(["$Command",()=>eU.Command,"AssumeRoleWithWebIdentityCommand",()=>tD],861351),e.i(861351),e.s(["$Command",()=>eU.Command,"AssumeRoleCommand",()=>tv,"AssumeRoleWithWebIdentityCommand",()=>tD],506222),e.i(506222),e.i(236541),e.i(326979),e.s([],93512),e.i(93512);var tO=e.i(843985);let tk=!1,tw=e=>{if("string"==typeof e?.Arn){let t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},t$=async(e,t,i,n={})=>{let o="function"==typeof e?await e():e,s="function"==typeof t?await t():t,r="",a=o??s??(r=await (function(e={}){return(0,$.loadConfig)({...D.NODE_REGION_CONFIG_OPTIONS,default:async()=>(tk||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1")},{...D.NODE_REGION_CONFIG_FILE_OPTIONS,...e})})(n)());return i?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${r} (STS default: AWS_REGION, profile region, or us-east-1)`),a},t_=e=>e?.metadata?.handlerProtocol==="h2",tN=(e,t)=>t?class extends e{constructor(e){for(const i of(super(e),t))this.middlewareStack.use(i)}}:e,tW=(e={},t)=>{var i;let n,o;return i=tN(eN,t),async(t,s)=>{if(o=t,!n){let{logger:t=e?.parentClientConfig?.logger,profile:s=e?.parentClientConfig?.profile,region:r,requestHandler:a=e?.parentClientConfig?.requestHandler,credentialProviderLogger:d,userAgentAppId:c=e?.parentClientConfig?.userAgentAppId}=e,l=await t$(r,e?.parentClientConfig?.region,d,{logger:t,profile:s}),u=!t_(a);n=new i({...e,userAgentAppId:c,profile:s,credentialDefaultProvider:()=>async()=>o,region:l,requestHandler:u?a:void 0,logger:t})}let{Credentials:r,AssumedRoleUser:a}=await n.send(new tv(s));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let d=tw(a),c={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...d&&{accountId:d}};return(0,tO.setCredentialFeature)(c,"CREDENTIALS_STS_ASSUME_ROLE","i"),c}},tF=(e={},t)=>{var i;let n;return i=tN(eN,t),async t=>{if(!n){let{logger:t=e?.parentClientConfig?.logger,profile:o=e?.parentClientConfig?.profile,region:s,requestHandler:r=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a,userAgentAppId:d=e?.parentClientConfig?.userAgentAppId}=e,c=await t$(s,e?.parentClientConfig?.region,a,{logger:t,profile:o}),l=!t_(r);n=new i({...e,userAgentAppId:d,profile:o,region:c,requestHandler:l?r:void 0,logger:t})}let{Credentials:o,AssumedRoleUser:s}=await n.send(new tD(t));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${t.RoleArn}`);let r=tw(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...r&&{accountId:r}};return r&&(0,tO.setCredentialFeature)(a,"RESOLVED_ACCOUNT_ID","T"),(0,tO.setCredentialFeature)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},tU=e=>t=>e({roleAssumer:tW(t),roleAssumerWithWebIdentity:tF(t),...t});e.s(["decorateDefaultCredentialProvider",0,tU,"getDefaultRoleAssumer",0,tW,"getDefaultRoleAssumerWithWebIdentity",0,tF],396789),e.i(396789),e.s(["$Command",()=>eU.Command,"AssumeRole$",()=>tR,"AssumeRoleCommand",()=>tv,"AssumeRoleRequest$",()=>to,"AssumeRoleResponse$",()=>ts,"AssumeRoleWithWebIdentity$",()=>tA,"AssumeRoleWithWebIdentityCommand",()=>tD,"AssumeRoleWithWebIdentityRequest$",()=>tr,"AssumeRoleWithWebIdentityResponse$",()=>ta,"AssumedRoleUser$",()=>tn,"Credentials$",()=>td,"ExpiredTokenException",()=>eM,"ExpiredTokenException$",()=>tc,"IDPCommunicationErrorException",()=>eB,"IDPCommunicationErrorException$",()=>tl,"IDPRejectedClaimException",()=>eV,"IDPRejectedClaimException$",()=>tu,"InvalidIdentityTokenException",()=>ez,"InvalidIdentityTokenException$",()=>tp,"MalformedPolicyDocumentException",()=>eG,"MalformedPolicyDocumentException$",()=>tm,"PackedPolicyTooLargeException",()=>eK,"PackedPolicyTooLargeException$",()=>tg,"PolicyDescriptorType$",()=>tf,"ProvidedContext$",()=>th,"RegionDisabledException",()=>eq,"RegionDisabledException$",()=>tE,"STS",()=>tb,"STSClient",()=>eN,"STSServiceException",()=>ej,"STSServiceException$",()=>ty,"Tag$",()=>tS,"__Client",()=>f.Client,"decorateDefaultCredentialProvider",0,tU,"getDefaultRoleAssumer",0,tW,"getDefaultRoleAssumerWithWebIdentity",0,tF],482808)}];

//# sourceMappingURL=5c86f_%40aws-sdk_nested-clients_dist-es_submodules_sts_index_e9d57c48.js.map