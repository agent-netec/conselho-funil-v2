{"version":3,"sources":["../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/constants.ts","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/ai/prompts/ads-generation.ts","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/ai/gemini.ts","../../../../../../../../OneDrive/Desktop/CURSOR/CONSELHO%20DE%20FUNIL/app/src/lib/ai/prompts/party-mode.ts"],"sourcesContent":["import type { Counselor, CounselorId } from '@/types';\r\n\r\n// ============================================\r\n// COUNSELORS REGISTRY - Fonte √önica de Verdade\r\n// ============================================\r\n\r\nexport const COUNSELORS_REGISTRY: Record<CounselorId, Counselor> = {\r\n  // Funnel Counselors\r\n  russell_brunson: {\r\n    id: 'russell_brunson',\r\n    name: 'Russell Brunson',\r\n    expertise: 'Arquitetura de Funil',\r\n    color: '#6366f1', // indigo\r\n    icon: 'üéØ',\r\n  },\r\n  dan_kennedy: {\r\n    id: 'dan_kennedy',\r\n    name: 'Dan Kennedy',\r\n    expertise: 'Oferta & Copy',\r\n    color: '#8b5cf6', // violet\r\n    icon: '‚úçÔ∏è',\r\n  },\r\n  frank_kern: {\r\n    id: 'frank_kern',\r\n    name: 'Frank Kern',\r\n    expertise: 'Psicologia & Comportamento',\r\n    color: '#ec4899', // pink\r\n    icon: 'üß†',\r\n  },\r\n  sam_ovens: {\r\n    id: 'sam_ovens',\r\n    name: 'Sam Ovens',\r\n    expertise: 'Aquisi√ß√£o & Qualifica√ß√£o',\r\n    color: '#14b8a6', // teal\r\n    icon: 'üé£',\r\n  },\r\n  ryan_deiss: {\r\n    id: 'ryan_deiss',\r\n    name: 'Ryan Deiss',\r\n    expertise: 'LTV & Reten√ß√£o',\r\n    color: '#f97316', // orange\r\n    icon: 'üìà',\r\n  },\r\n  perry_belcher: {\r\n    id: 'perry_belcher',\r\n    name: 'Perry Belcher',\r\n    expertise: 'Monetiza√ß√£o Simples',\r\n    color: '#84cc16', // lime\r\n    icon: 'üí∞',\r\n  },\r\n\r\n  // Social Counselors\r\n  lia_haberman: {\r\n    id: 'lia_haberman',\r\n    name: 'Lia Haberman',\r\n    expertise: 'Algoritmo & Mudan√ßas',\r\n    color: '#06b6d4', // cyan\r\n    icon: 'üìä',\r\n  },\r\n  rachel_karten: {\r\n    id: 'rachel_karten',\r\n    name: 'Rachel Karten',\r\n    expertise: 'Criativo & Hooks',\r\n    color: '#f43f5e', // rose\r\n    icon: 'ü™ù',\r\n  },\r\n  nikita_beer: {\r\n    id: 'nikita_beer',\r\n    name: 'Nikita Beer',\r\n    expertise: 'Viraliza√ß√£o & Trends',\r\n    color: '#8b5cf6', // violet\r\n    icon: 'üöÄ',\r\n  },\r\n  justin_welsh: {\r\n    id: 'justin_welsh',\r\n    name: 'Justin Welsh',\r\n    expertise: 'Funil Social',\r\n    color: '#10b981', // emerald\r\n    icon: '‚õìÔ∏è',\r\n  },\r\n\r\n  // Copy Counselors\r\n  eugene_schwartz: {\r\n    id: 'eugene_schwartz',\r\n    name: 'Eugene Schwartz',\r\n    expertise: 'Consci√™ncia de Mercado',\r\n    specialty: 'Estrutura de copy para diferentes est√°gios de consci√™ncia',\r\n    color: '#6366f1', // indigo\r\n    icon: 'üéØ',\r\n  },\r\n  claude_hopkins: {\r\n    id: 'claude_hopkins',\r\n    name: 'Claude Hopkins',\r\n    expertise: 'M√©todo Cient√≠fico',\r\n    specialty: 'Testes, medi√ß√£o, prova social',\r\n    color: '#3b82f6', // blue\r\n    icon: 'üî¨',\r\n  },\r\n  gary_halbert: {\r\n    id: 'gary_halbert',\r\n    name: 'Gary Halbert',\r\n    expertise: 'Headlines & Psicologia',\r\n    specialty: 'Headlines que prendem, curiosidade, especificidade',\r\n    color: '#f59e0b', // amber\r\n    icon: '‚ö°',\r\n  },\r\n  joseph_sugarman: {\r\n    id: 'joseph_sugarman',\r\n    name: 'Joseph Sugarman',\r\n    expertise: 'Narrativa & Estrutura',\r\n    specialty: 'Storytelling, transi√ß√µes, long-form copy',\r\n    color: '#8b5cf6', // violet\r\n    icon: 'üìñ',\r\n  },\r\n  dan_kennedy_copy: {\r\n    id: 'dan_kennedy_copy',\r\n    name: 'Dan Kennedy',\r\n    expertise: 'Oferta & Urg√™ncia',\r\n    specialty: 'Ofertas irresist√≠veis, garantia, urg√™ncia real',\r\n    color: '#10b981', // emerald\r\n    icon: 'üí∞',\r\n  },\r\n  david_ogilvy: {\r\n    id: 'david_ogilvy',\r\n    name: 'David Ogilvy',\r\n    expertise: 'Brand Premium',\r\n    specialty: 'Pesquisa, diferencia√ß√£o, big idea',\r\n    color: '#64748b', // slate\r\n    icon: 'üëî',\r\n  },\r\n  john_carlton: {\r\n    id: 'john_carlton',\r\n    name: 'John Carlton',\r\n    expertise: 'Voz Aut√™ntica',\r\n    specialty: 'Autenticidade, fluxo natural, conversa√ß√£o',\r\n    color: '#ec4899', // pink\r\n    icon: 'üé§',\r\n  },\r\n  drayton_bird: {\r\n    id: 'drayton_bird',\r\n    name: 'Drayton Bird',\r\n    expertise: 'Simplicidade & Efici√™ncia',\r\n    specialty: 'Benef√≠cio claro, direto, resposta direta',\r\n    color: '#14b8a6', // teal\r\n    icon: '‚úÇÔ∏è',\r\n  },\r\n  frank_kern_copy: {\r\n    id: 'frank_kern_copy',\r\n    name: 'Frank Kern',\r\n    expertise: 'Fluxo de Vendas',\r\n    specialty: 'Sequ√™ncias, automa√ß√£o, comportamento',\r\n    color: '#f97316', // orange\r\n    icon: 'üîÑ',\r\n  },\r\n\r\n  // Ads Counselors\r\n  justin_brooke: {\r\n    id: 'justin_brooke',\r\n    name: 'Justin Brooke',\r\n    expertise: 'Estrat√©gia & Escala',\r\n    color: '#3b82f6', // blue\r\n    icon: 'üìä',\r\n  },\r\n  nicholas_kusmich: {\r\n    id: 'nicholas_kusmich',\r\n    name: 'Nicholas Kusmich',\r\n    expertise: 'Meta Ads & Contexto',\r\n    color: '#2563eb', // blue-600\r\n    icon: 'üéØ',\r\n  },\r\n  jon_loomer: {\r\n    id: 'jon_loomer',\r\n    name: 'Jon Loomer',\r\n    expertise: 'Analytics & T√©cnico',\r\n    color: '#1d4ed8', // blue-700\r\n    icon: '‚öôÔ∏è',\r\n  },\r\n  savannah_sanchez: {\r\n    id: 'savannah_sanchez',\r\n    name: 'Savannah Sanchez',\r\n    expertise: 'TikTok & UGC',\r\n    color: '#0ea5e9', // sky\r\n    icon: 'üì±',\r\n  },\r\n  design_director: {\r\n    id: 'design_director',\r\n    name: 'Diretor de Design',\r\n    expertise: 'Dire√ß√£o de Arte & Briefing',\r\n    color: '#a855f7', // purple-500\r\n    icon: 'üé®',\r\n  },\r\n};\r\n\r\n// Retrocompatibilidade (Deprecated)\r\n/** @deprecated Use COUNSELORS_REGISTRY */\r\nexport const COUNSELORS = COUNSELORS_REGISTRY;\r\n/** @deprecated Use COUNSELORS_REGISTRY */\r\nexport const COPY_COUNSELORS = COUNSELORS_REGISTRY;\r\n\r\n// Navigation groups and items\r\nexport interface NavItem {\r\n  id: string;\r\n  label: string;\r\n  href: string;\r\n  icon: string;\r\n  aliases?: string[];\r\n  sub_items?: string[];\r\n}\r\n\r\nexport interface NavGroup {\r\n  id: string;\r\n  label: string;\r\n  description?: string;\r\n  icon: string;\r\n  items: NavItem[];\r\n}\r\n\r\nexport const NAV_GROUPS: NavGroup[] = [\r\n  {\r\n    id: 'intelligence',\r\n    label: 'Intelig√™ncia',\r\n    description: 'Dados e insights que alimentam a estrat√©gia',\r\n    icon: 'Brain',\r\n    items: [\r\n      { id: 'intelligence-dashboard', label: 'Dashboard', href: '/intelligence', icon: 'LayoutDashboard' },\r\n      { id: 'discovery', label: 'Discovery', href: '/intelligence/discovery', icon: 'Search', sub_items: ['Keywords', 'Spy Agent'] },\r\n      { id: 'attribution', label: 'Atribui√ß√£o', href: '/intelligence/attribution', icon: 'GitBranch' },\r\n      { id: 'ltv', label: 'LTV & Reten√ß√£o', href: '/intelligence/ltv', icon: 'TrendingUp' },\r\n      { id: 'journey', label: 'Jornada do Lead', href: '/intelligence/journey', icon: 'Map' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'strategy',\r\n    label: 'Estrat√©gia',\r\n    description: 'Planejamento e arquitetura de convers√£o',\r\n    icon: 'Compass',\r\n    items: [\r\n      { id: 'funnels', label: 'Funis', href: '/funnels', icon: 'Target' },\r\n      { id: 'offer-lab', label: 'Offer Lab', href: '/intelligence/offer-lab', icon: 'Beaker' },\r\n      { id: 'funnel-autopsy', label: 'Funnel Autopsy', href: '/strategy/autopsy', icon: 'Stethoscope' },\r\n      { id: 'copy-chat', label: 'Copywriting', href: '/chat?mode=copy', icon: 'PencilLine' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'execution',\r\n    label: 'Execu√ß√£o',\r\n    description: 'Opera√ß√£o e implementa√ß√£o de ativos',\r\n    icon: 'Zap',\r\n    items: [\r\n      { id: 'campaigns', label: 'Campanhas', href: '/campaigns', icon: 'Rocket', aliases: ['/campaign'] },\r\n      { id: 'ads-chat', label: 'Ads & Tr√°fego', href: '/chat?mode=ads', icon: 'Megaphone' },\r\n      { id: 'social', label: 'Social', href: '/social', icon: 'Share2' },\r\n      { id: 'social-inbox', label: 'Social Inbox', href: '/social-inbox', icon: 'Inbox' },\r\n      { id: 'automation', label: 'Automa√ß√£o', href: '/automation', icon: 'Cpu' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'management',\r\n    label: 'Gest√£o',\r\n    description: 'Governan√ßa de marca e ativos',\r\n    icon: 'ShieldCheck',\r\n    items: [\r\n      { id: 'brands', label: 'Marcas', href: '/brands', icon: 'Building' },\r\n      { id: 'brand-hub', label: 'Brand Hub', href: '/brand-hub', icon: 'Palette' },\r\n      { id: 'assets', label: 'Biblioteca de Ativos', href: '/assets', icon: 'FolderKanban' },\r\n      { id: 'vault', label: 'Vault', href: '/vault', icon: 'Database' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'system',\r\n    label: 'Sistema',\r\n    icon: 'Settings',\r\n    items: [\r\n      { id: 'settings', label: 'Configura√ß√µes', href: '/settings', icon: 'Settings' },\r\n      { id: 'integrations', label: 'Integra√ß√µes', href: '/integrations', icon: 'PlugZap' },\r\n    ],\r\n  },\r\n];\r\n\r\n// Retrocompatibilidade para NAV_ITEMS (Flattened list)\r\nexport const NAV_ITEMS = NAV_GROUPS.flatMap(group => group.items);\r\n\r\n// Status badges\r\nexport const STATUS_COLORS: Record<string, string> = {\r\n  draft: 'bg-gray-500',\r\n  generating: 'bg-blue-500',\r\n  review: 'bg-yellow-500',\r\n  approved: 'bg-green-500',\r\n  adjusting: 'bg-orange-500',\r\n  executing: 'bg-purple-500',\r\n  completed: 'bg-emerald-500',\r\n  killed: 'bg-red-500',\r\n};\r\n\r\n// Decision colors\r\nexport const DECISION_COLORS = {\r\n  EXECUTAR: 'bg-green-500 text-white',\r\n  AJUSTAR: 'bg-amber-500 text-white',\r\n  MATAR: 'bg-red-500 text-white',\r\n} as const;\r\n\r\n// Copy Types with labels\r\nexport const COPY_TYPES = {\r\n  headline: { label: 'Headlines', icon: 'üì∞', description: 'Headlines por est√°gio de consci√™ncia' },\r\n  email_sequence: { label: 'Emails', icon: 'üìß', description: 'Sequ√™ncia de emails de follow-up' },\r\n  offer_copy: { label: 'Oferta', icon: 'üí∞', description: 'Copy de oferta completa' },\r\n  vsl_script: { label: 'VSL Script', icon: 'üé¨', description: 'Script de Video Sales Letter' },\r\n  ad_creative: { label: 'An√∫ncios', icon: 'üì±', description: 'Copy para Meta, Google, etc' },\r\n  landing_page: { label: 'Landing Page', icon: 'üõ¨', description: 'Copy de p√°gina de vendas' },\r\n} as const;\r\n\r\n// Awareness stages with labels\r\nexport const AWARENESS_STAGES = {\r\n  unaware: { label: 'Inconsciente', description: 'N√£o sabe que tem problema', copyLength: 'Muito longa' },\r\n  problem_aware: { label: 'Consciente do Problema', description: 'Sabe que tem problema', copyLength: 'M√©dia' },\r\n  solution_aware: { label: 'Consciente da Solu√ß√£o', description: 'Sabe que existem solu√ß√µes', copyLength: 'M√©dia' },\r\n  product_aware: { label: 'Consciente do Produto', description: 'Conhece seu produto', copyLength: 'Curta' },\r\n  most_aware: { label: 'Mais Consciente', description: 'J√° conhece bem', copyLength: 'Muito curta' },\r\n} as const;\r\n\r\n// Chat modes configuration\r\nexport const CHAT_MODES = {\r\n  general: {\r\n    id: 'general',\r\n    label: 'Conselho',\r\n    title: 'Conselho',\r\n    subtitle: '23 especialistas',\r\n    placeholder: 'Pergunte ao Conselho...',\r\n    footer: 'Pressione Enter para enviar, Shift+Enter para nova linha',\r\n    accentColor: 'emerald',\r\n    counselors: [\r\n      'russell_brunson', 'dan_kennedy', 'frank_kern', 'sam_ovens', 'ryan_deiss', 'perry_belcher',\r\n      'eugene_schwartz', 'claude_hopkins', 'gary_halbert', 'joseph_sugarman', 'david_ogilvy', \r\n      'john_carlton', 'drayton_bird', 'frank_kern_copy', 'lia_haberman', 'rachel_karten', \r\n      'nikita_beer', 'justin_welsh', 'justin_brooke', 'nicholas_kusmich', 'jon_loomer', \r\n      'savannah_sanchez'\r\n    ] as CounselorId[],\r\n  },\r\n  funnel: {\r\n    id: 'funnel',\r\n    label: 'Funil',\r\n    title: 'Conselho de Funil',\r\n    subtitle: '6 especialistas',\r\n    placeholder: 'Pergunte sobre arquitetura de funis...',\r\n    footer: 'üéØ Consultando: Russell Brunson, Dan Kennedy, Frank Kern, Sam Ovens, Ryan Deiss, Perry Belcher',\r\n    accentColor: 'indigo',\r\n    counselors: [\r\n      'russell_brunson', 'dan_kennedy', 'frank_kern', 'sam_ovens', 'ryan_deiss', 'perry_belcher'\r\n    ] as CounselorId[],\r\n  },\r\n  copy: {\r\n    id: 'copy',\r\n    label: 'Copy',\r\n    title: 'Conselho de Copy',\r\n    subtitle: '9 copywriters',\r\n    placeholder: 'Pergunte sobre copy e persuas√£o...',\r\n    footer: '‚úçÔ∏è Consultando: Schwartz, Hopkins, Halbert, Sugarman, Ogilvy, Carlton, Bird, Kern',\r\n    accentColor: 'amber',\r\n    counselors: [\r\n      'eugene_schwartz', 'claude_hopkins', 'gary_halbert', 'joseph_sugarman', 'david_ogilvy', \r\n      'john_carlton', 'drayton_bird', 'frank_kern_copy', 'dan_kennedy_copy'\r\n    ] as CounselorId[],\r\n  },\r\n  social: {\r\n    id: 'social',\r\n    label: 'Social',\r\n    title: 'Conselho Social',\r\n    subtitle: '4 especialistas',\r\n    placeholder: 'Pergunte sobre redes sociais e viraliza√ß√£o...',\r\n    footer: 'üöÄ Consultando: Lia Haberman, Rachel Karten, Nikita Beer, Justin Welsh',\r\n    accentColor: 'rose',\r\n    counselors: [\r\n      'lia_haberman', 'rachel_karten', 'nikita_beer', 'justin_welsh'\r\n    ] as CounselorId[],\r\n  },\r\n  ads: {\r\n    id: 'ads',\r\n    label: 'Ads',\r\n    title: 'Conselho de Ads',\r\n    subtitle: '4 especialistas',\r\n    placeholder: 'Pergunte sobre tr√°fego e escala...',\r\n    footer: 'üìä Consultando: Justin Brooke, Nicholas Kusmich, Jon Loomer, Savannah Sanchez',\r\n    accentColor: 'blue',\r\n    counselors: [\r\n      'justin_brooke', 'nicholas_kusmich', 'jon_loomer', 'savannah_sanchez'\r\n    ] as CounselorId[],\r\n  },\r\n  design: {\r\n    id: 'design',\r\n    label: 'Design',\r\n    title: 'Conselho de Design',\r\n    subtitle: 'Diretor de Design',\r\n    placeholder: 'Pe√ßa um briefing de design ou prompt para o NanoBanana...',\r\n    footer: 'üé® Consultando: Diretor de Design especializado em Thumbnails, Carross√©is e Est√°ticos',\r\n    accentColor: 'purple',\r\n    counselors: [\r\n      'design_director'\r\n    ] as CounselorId[],\r\n  },\r\n  party: {\r\n    id: 'party',\r\n    label: 'Party Mode',\r\n    title: 'Alto Conselho',\r\n    subtitle: 'M√∫ltiplos Especialistas',\r\n    placeholder: 'Inicie uma delibera√ß√£o entre especialistas...',\r\n    footer: 'üéâ Party Mode: Selecione os especialistas para o debate',\r\n    accentColor: 'purple',\r\n    counselors: [] as CounselorId[], // Ser√° preenchido dinamicamente\r\n  },\r\n} as const;\r\n","import { CampaignContext } from '@/types/campaign';\r\nimport { COUNSELORS_REGISTRY } from '@/lib/constants';\r\n\r\nexport const ADS_GENERATION_RULES = `\r\n## REGRAS DE OURO - CONSELHO DE ADS\r\n1. **CONGRU√äNCIA**: A estrat√©gia de tr√°fego deve seguir rigorosamente a \"Golden Thread\" (Funil -> Copy -> Social -> Design).\r\n2. **ESPECIFICIDADE**: Defina p√∫blicos, canais e estruturas de campanha reais (CBO/ABO, segmenta√ß√£o por interesses, lookalike).\r\n3. **M√âTRICAS 2026**: Utilize benchmarks atualizados de CPC, CTR e ROAS para 2026.\r\n4. **FORMATO**: Retorne APENAS o JSON v√°lido seguindo a estrutura solicitada.\r\n5. **INSIGHTS**: Forne√ßa justificativas t√©cnicas baseadas nos especialistas.\r\n`;\r\n\r\nexport function buildAdsGenerationPrompt(campaign: CampaignContext, context?: { ragContext?: string; brandContext?: string }): string {\r\n  const adsCounselors = [\r\n    COUNSELORS_REGISTRY.justin_brooke,\r\n    COUNSELORS_REGISTRY.nicholas_kusmich,\r\n    COUNSELORS_REGISTRY.jon_loomer,\r\n    COUNSELORS_REGISTRY.savannah_sanchez\r\n  ];\r\n\r\n  return `Voc√™ √© o Conselho de Ads, um sistema de intelig√™ncia composto por 4 mestres do tr√°fego pago e escala:\r\n\r\n${adsCounselors.map((c, i) => `${i + 1}. **${c.name}** ‚Äî ${c.expertise}`).join('\\n')}\r\n\r\n## THE GOLDEN THREAD: MANIFESTO DA CAMPANHA\r\n\r\n### 1. O C√âREBRO (FUNIL)\r\n- **Tipo:** ${campaign.funnel?.type}\r\n- **Objetivo:** ${campaign.funnel?.mainGoal}\r\n- **P√∫blico:** ${campaign.funnel?.targetAudience}\r\n- **Resumo:** ${campaign.funnel?.summary}\r\n\r\n### 2. A VOZ (COPY)\r\n- **Big Idea:** ${campaign.copywriting?.bigIdea}\r\n- **Tone:** ${campaign.copywriting?.tone}\r\n- **Headlines:** ${campaign.copywriting?.headlines.join(' | ')}\r\n- **Benef√≠cios:** ${campaign.copywriting?.keyBenefits.join(', ')}\r\n\r\n### 3. A ATEN√á√ÉO (SOCIAL)\r\n- **Canais:** ${campaign.social?.platforms.join(', ')}\r\n- **Hooks:** ${campaign.social?.hooks.map(h => `[${h.platform}] ${h.content}`).join(' | ')}\r\n\r\n### 4. O VISUAL (DESIGN)\r\n- **Estilo:** ${campaign.design?.visualStyle}\r\n- **Cores:** ${campaign.design?.preferredColors.join(', ')}\r\n- **Prompts:** ${campaign.design?.visualPrompts.join(' | ')}\r\n\r\n${context?.ragContext ? `## CONHECIMENTO ESTRAT√âGICO (ADS PLAYBOOKS)\\n${context.ragContext}\\n` : ''}\r\n${context?.brandContext ? `## CONHECIMENTO DA MARCA\\n${context.brandContext}\\n` : ''}\r\n\r\n## TAREFA: GERAR ESTRAT√âGIA DE ADS (ESCALA)\r\n\r\nSua tarefa √© ler todo o manifesto acima e projetar a estrutura de escala desta campanha. \r\nN√£o invente dados que contradigam a copy ou o design. \r\nSe o Copywriter definiu uma Big Idea, o Ad deve ser o ve√≠culo dessa ideia.\r\n\r\n## FORMATO DE SA√çDA (JSON)\r\n\r\n{\r\n  \"audiences\": [\"Audi√™ncia 1 (ex: Lookalike 1% Compradores)\", \"Audi√™ncia 2 (Interesses em X)\", \"Audi√™ncia 3 (Retargeting)\"],\r\n  \"channels\": [\"Meta Ads\", \"Google Search\", \"TikTok Ads\"],\r\n  \"suggestedBudget\": \"R$ X.XXX,XX / m√™s\",\r\n  \"performanceBenchmarks\": {\r\n    \"targetCPC\": 1.50,\r\n    \"targetCTR\": 1.2,\r\n    \"targetCPA\": 45.00\r\n  },\r\n  \"strategyRationale\": \"Explica√ß√£o t√©cnica de como os canais e p√∫blicos se conectam ao funil.\",\r\n  \"counselorInsights\": [\r\n    {\r\n      \"counselor\": \"Justin Brooke\",\r\n      \"insight\": \"Conselho sobre escala e distribui√ß√£o de verba.\"\r\n    },\r\n    {\r\n      \"counselor\": \"Nicholas Kusmich\",\r\n      \"insight\": \"Conselho sobre segmenta√ß√£o e contexto no Meta.\"\r\n    }\r\n  ]\r\n}\r\n\r\n${ADS_GENERATION_RULES}`;\r\n}\r\n","/**\r\n * Google Gemini API Integration\r\n * \r\n * Alternativa ao Vertex AI que usa a API p√∫blica do Gemini\r\n * Requer apenas GOOGLE_AI_API_KEY no .env.local\r\n */\r\n\r\nimport { buildChatPrompt, buildStructuredChatPrompt } from './prompts';\r\nimport { buildPartyPrompt, PartyModeOptions } from './prompts/party-mode';\r\nimport { CouncilOutput } from '@/types';\r\n\r\nconst GEMINI_BASE_URL = 'https://generativelanguage.googleapis.com/v1beta';\r\n\r\n/**\r\n * Get Gemini API Key - l√™ a vari√°vel de ambiente em tempo de execu√ß√£o\r\n */\r\nfunction getGeminiApiKey(): string | undefined {\r\n  // Acesso direto para garantir inje√ß√£o no bundle cliente do Next.js\r\n  const public_key = process.env.NEXT_PUBLIC_GOOGLE_AI_API_KEY;\r\n  const private_key = process.env.GOOGLE_AI_API_KEY;\r\n  \r\n  const key = public_key || private_key;\r\n  \r\n  if (!key && typeof window !== 'undefined') {\r\n    console.error('‚ùå [Gemini] NEXT_PUBLIC_GOOGLE_AI_API_KEY n√£o encontrada no bundle do navegador.');\r\n  }\r\n  \r\n  return key;\r\n}\r\n\r\ninterface GeminiResponse {\r\n  candidates: Array<{\r\n    content: {\r\n      parts: Array<{ text?: string; inlineData?: { mimeType: string; data: string } }>;\r\n    };\r\n  }>;\r\n}\r\n\r\n/**\r\n * Analisa uma imagem ou PDF usando o modelo multimodal do Gemini.\r\n * Perfeito para OCR estrat√©gico e extra√ß√£o de insights visuais.\r\n * \r\n * @param prompt - Instru√ß√£o para a IA (ex: \"Extraia o texto desta imagem\").\r\n * @param fileBase64 - Dados do arquivo em base64.\r\n * @param mimeType - Tipo do arquivo (image/png, application/pdf, etc).\r\n */\r\nexport async function analyzeMultimodalWithGemini(\r\n  prompt: string,\r\n  fileBase64: string,\r\n  mimeType: string,\r\n  options: {\r\n    model?: string;\r\n    temperature?: number;\r\n  } = {}\r\n): Promise<string> {\r\n  const {\r\n    model = 'gemini-2.0-flash-exp',\r\n    temperature = 0.4, // Menor temperatura para OCR (mais preciso)\r\n  } = options;\r\n\r\n  const apiKey = getGeminiApiKey();\r\n  if (!apiKey) {\r\n    throw new Error('GOOGLE_AI_API_KEY not configured');\r\n  }\r\n\r\n  const url = `${GEMINI_BASE_URL}/models/${model}:generateContent?key=${apiKey}`;\r\n\r\n  const response = await fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      contents: [\r\n        {\r\n          parts: [\r\n            { text: prompt },\r\n            {\r\n              inlineData: {\r\n                mimeType,\r\n                data: fileBase64,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      generationConfig: {\r\n        temperature,\r\n        maxOutputTokens: 8192,\r\n      },\r\n    }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.text();\r\n    throw new Error(`Gemini Multimodal error: ${response.status} - ${error}`);\r\n  }\r\n\r\n  const data: GeminiResponse = await response.json();\r\n  return data.candidates?.[0]?.content?.parts?.[0]?.text || '';\r\n}\r\n\r\n/**\r\n * Gera uma resposta usando a API do Google Gemini.\r\n * \r\n * @param prompt - O comando ou texto de entrada para o modelo.\r\n * @param options - Configura√ß√µes opcionais (modelo, temperatura, tokens de sa√≠da).\r\n * @returns Uma promessa que resolve para o texto gerado.\r\n * @throws Erro se a chave da API n√£o estiver configurada ou se a requisi√ß√£o falhar.\r\n * \r\n * @example\r\n * ```ts\r\n * const text = await generateWithGemini(\"Escreva um t√≠tulo para um funil de quiz.\");\r\n * ```\r\n */\r\nexport async function generateWithGemini(\r\n  prompt: string,\r\n  options: {\r\n    model?: string;\r\n    temperature?: number;\r\n    topP?: number;\r\n    maxOutputTokens?: number;\r\n    responseMimeType?: 'text/plain' | 'application/json';\r\n  } = {}\r\n): Promise<string> {\r\n  const {\r\n    model = 'gemini-2.0-flash-exp',\r\n    temperature = 0.7,\r\n    maxOutputTokens = 4096,\r\n    responseMimeType = 'text/plain',\r\n  } = options;\r\n\r\n  const apiKey = getGeminiApiKey();\r\n  if (!apiKey) {\r\n    throw new Error('GOOGLE_AI_API_KEY not configured');\r\n  }\r\n\r\n  const url = `${GEMINI_BASE_URL}/models/${model}:generateContent?key=${apiKey}`;\r\n\r\n  const response = await fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      contents: [\r\n        {\r\n          parts: [{ text: prompt }],\r\n        },\r\n      ],\r\n      generationConfig: {\r\n        temperature: options.temperature ?? 0.7,\r\n        maxOutputTokens,\r\n        topP: options.topP ?? 0.95,\r\n        topK: 40,\r\n        responseMimeType,\r\n      },\r\n    }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.text();\r\n    throw new Error(`Gemini API error: ${response.status} - ${error}`);\r\n  }\r\n\r\n  const data: GeminiResponse = await response.json();\r\n  return data.candidates?.[0]?.content?.parts?.[0]?.text || '';\r\n}\r\n\r\n/**\r\n * Gera uma resposta em streaming usando a API do Google Gemini.\r\n * \r\n * @param prompt - O comando ou texto de entrada.\r\n * @param options - Configura√ß√µes opcionais de gera√ß√£o.\r\n * @yields Peda√ßos de texto conforme s√£o gerados pela API.\r\n */\r\nexport async function* generateWithGeminiStream(\r\n  prompt: string,\r\n  options: {\r\n    model?: string;\r\n    temperature?: number;\r\n    topP?: number;\r\n    maxOutputTokens?: number;\r\n  } = {}\r\n): AsyncGenerator<string> {\r\n  const {\r\n    model = 'gemini-2.0-flash-exp',\r\n    temperature = 0.7,\r\n    maxOutputTokens = 4096,\r\n  } = options;\r\n\r\n  const apiKey = getGeminiApiKey();\r\n  if (!apiKey) {\r\n    throw new Error('GOOGLE_AI_API_KEY not configured');\r\n  }\r\n\r\n  const url = `${GEMINI_BASE_URL}/models/${model}:streamGenerateContent?key=${apiKey}`;\r\n\r\n  const response = await fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      contents: [\r\n        {\r\n          parts: [{ text: prompt }],\r\n        },\r\n      ],\r\n      generationConfig: {\r\n        temperature: options.temperature ?? 0.7,\r\n        maxOutputTokens,\r\n        topP: options.topP ?? 0.95,\r\n        topK: 40,\r\n      },\r\n    }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.text();\r\n    throw new Error(`Gemini API error: ${response.status} - ${error}`);\r\n  }\r\n\r\n  const reader = response.body?.getReader();\r\n  if (!reader) {\r\n    throw new Error('No response body');\r\n  }\r\n\r\n  const decoder = new TextDecoder();\r\n  let buffer = '';\r\n\r\n  while (true) {\r\n    const { done, value } = await reader.read();\r\n    if (done) break;\r\n\r\n    buffer += decoder.decode(value, { stream: true });\r\n    \r\n    // Parse JSON lines\r\n    const lines = buffer.split('\\n');\r\n    buffer = lines.pop() || '';\r\n    \r\n    for (const line of lines) {\r\n      const trimmed = line.trim();\r\n      if (!trimmed || trimmed === '[' || trimmed === ']' || trimmed === ',') continue;\r\n      \r\n      try {\r\n        // Remove leading comma if present\r\n        const jsonStr = trimmed.startsWith(',') ? trimmed.slice(1) : trimmed;\r\n        const data = JSON.parse(jsonStr);\r\n        const text = data.candidates?.[0]?.content?.parts?.[0]?.text;\r\n        if (text) {\r\n          yield text;\r\n        }\r\n      } catch {\r\n        // Continue on parse errors\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Gera uma resposta formatada para o Conselho de Estrategistas.\r\n * Utiliza um builder de prompt para combinar a consulta, o contexto RAG e as instru√ß√µes do sistema.\r\n * \r\n * @param query - A pergunta do usu√°rio.\r\n * @param context - O contexto recuperado via RAG.\r\n * @param systemPrompt - Instru√ß√µes espec√≠ficas do sistema ou do conselheiro.\r\n * @param model - Modelo opcional a ser usado (ex: gemini-1.5-pro).\r\n * @returns Uma promessa com a resposta gerada.\r\n */\r\nexport async function generateCouncilResponseWithGemini(\r\n  query: string,\r\n  context: string,\r\n  systemPrompt?: string,\r\n  model?: string\r\n): Promise<string> {\r\n  const fullPrompt = buildChatPrompt(query, context, systemPrompt);\r\n  const response = await generateWithGemini(fullPrompt, { model });\r\n  \r\n  // US-1.5.3: Post-processing para garantir a tag [COUNCIL_OUTPUT]\r\n  if (response.includes('{') && response.includes('}') && !response.includes('[COUNCIL_OUTPUT]:')) {\r\n    // Se a IA gerou o JSON puro (comum em modelos menores ou instru√ß√µes estritas), adicionamos o prefixo\r\n    if (response.trim().startsWith('{') && response.trim().endsWith('}')) {\r\n      return `[COUNCIL_OUTPUT]: ${response.trim()}`;\r\n    }\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n/**\r\n * Gera uma resposta ESTRUTURADA (JSON) para o Conselho de Estrategistas.\r\n * Segue o contrato CouncilOutput v1.1.\r\n * \r\n * @param query - A pergunta do usu√°rio.\r\n * @param context - O contexto recuperado via RAG.\r\n * @param systemPrompt - Instru√ß√µes espec√≠ficas do sistema.\r\n * @returns Uma promessa com o objeto CouncilOutput.\r\n */\r\nexport async function generateStructuredCouncilResponseWithGemini(\r\n  query: string,\r\n  context: string,\r\n  systemPrompt?: string\r\n): Promise<CouncilOutput> {\r\n  const fullPrompt = buildStructuredChatPrompt(query, context, systemPrompt);\r\n  \r\n  const responseText = await generateWithGemini(fullPrompt, {\r\n    responseMimeType: 'application/json',\r\n    temperature: 0.2, // Baixa temperatura para maior ades√£o ao esquema\r\n  });\r\n\r\n  try {\r\n    // US-1.5.3: Limpeza do prefixo [COUNCIL_OUTPUT] se presente\r\n    let jsonStr = responseText.trim();\r\n    if (jsonStr.includes('[COUNCIL_OUTPUT]:')) {\r\n      jsonStr = jsonStr.split('[COUNCIL_OUTPUT]:')[1].trim();\r\n    }\r\n    \r\n    // Fallback para markdown se a IA ainda assim incluir\r\n    if (jsonStr.startsWith('```json')) {\r\n      jsonStr = jsonStr.slice(7);\r\n    }\r\n    if (jsonStr.endsWith('```')) {\r\n      jsonStr = jsonStr.slice(0, -3);\r\n    }\r\n\r\n    return JSON.parse(jsonStr.trim()) as CouncilOutput;\r\n  } catch (error) {\r\n    console.error('‚ùå [Gemini] Erro ao parsear resposta estruturada:', error);\r\n    console.error('Resposta bruta:', responseText);\r\n    throw new Error('Falha ao gerar resposta estruturada do conselho.');\r\n  }\r\n}\r\n\r\n/**\r\n * Gera uma resposta para o modo Party (M√∫ltiplos Agentes).\r\n */\r\nexport async function generatePartyResponseWithGemini(\r\n  query: string,\r\n  context: string,\r\n  selectedAgentIds: string[],\r\n  options?: PartyModeOptions\r\n): Promise<string> {\r\n  const fullPrompt = buildPartyPrompt(query, context, selectedAgentIds, options);\r\n  return generateWithGemini(fullPrompt, {\r\n    maxOutputTokens: 8192, // Mais tokens para debate longo\r\n    temperature: 0.8, // Mais criatividade/debate\r\n  });\r\n}\r\n\r\n/**\r\n * Verifica se as credenciais da API do Gemini est√£o configuradas corretamente.\r\n * \r\n * @returns True se a chave da API estiver presente nas vari√°veis de ambiente.\r\n */\r\nexport function isGeminiConfigured(): boolean {\r\n  const apiKey = getGeminiApiKey();\r\n  const configured = !!apiKey;\r\n  if (!configured) {\r\n    console.log('[Gemini] API Key not found. Checked: GOOGLE_AI_API_KEY, NEXT_PUBLIC_GOOGLE_AI_API_KEY');\r\n  }\r\n  return configured;\r\n}\r\n\r\n","import { CHAT_SYSTEM_PROMPT } from './chat-system';\r\n\r\nexport interface AgentInfo {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n}\r\n\r\nexport const AGENTS_MAP: Record<string, AgentInfo> = {\r\n  // Funnel Council\r\n  russell_brunson: {\r\n    id: 'russell_brunson',\r\n    name: 'Russell Brunson',\r\n    description: 'Arquitetura de Funil, Value Ladder, sequ√™ncias de convers√£o'\r\n  },\r\n  dan_kennedy: {\r\n    id: 'dan_kennedy',\r\n    name: 'Dan Kennedy',\r\n    description: 'Oferta & Copy, headlines, urg√™ncia real'\r\n  },\r\n  frank_kern: {\r\n    id: 'frank_kern',\r\n    name: 'Frank Kern',\r\n    description: 'Psicologia & Comportamento, persuas√£o comportamental'\r\n  },\r\n  sam_ovens: {\r\n    id: 'sam_ovens',\r\n    name: 'Sam Ovens',\r\n    description: 'Aquisi√ß√£o & Qualifica√ß√£o, tr√°fego pago estrat√©gico'\r\n  },\r\n  ryan_deiss: {\r\n    id: 'ryan_deiss',\r\n    name: 'Ryan Deiss',\r\n    description: 'LTV & Reten√ß√£o, Customer Value Journey'\r\n  },\r\n  perry_belcher: {\r\n    id: 'perry_belcher',\r\n    name: 'Perry Belcher',\r\n    description: 'Monetiza√ß√£o Simples, ofertas de entrada'\r\n  },\r\n  // Copy Council\r\n  eugene_schwartz: {\r\n    id: 'eugene_schwartz',\r\n    name: 'Eugene Schwartz',\r\n    description: 'Est√°gios de consci√™ncia e desejo de mercado'\r\n  },\r\n  gary_halbert: {\r\n    id: 'gary_halbert',\r\n    name: 'Gary Halbert',\r\n    description: 'Headlines magn√©ticas e psicologia de vendas'\r\n  },\r\n  joseph_sugarman: {\r\n    id: 'joseph_sugarman',\r\n    name: 'Joseph Sugarman',\r\n    description: 'Storytelling e o \"escorregador psicol√≥gico\"'\r\n  },\r\n  claude_hopkins: {\r\n    id: 'claude_hopkins',\r\n    name: 'Claude Hopkins',\r\n    description: 'M√©todo cient√≠fico e publicidade por amostragem'\r\n  },\r\n  david_ogilvy: {\r\n    id: 'david_ogilvy',\r\n    name: 'David Ogilvy',\r\n    description: 'Branding de resposta direta e a \"Big Idea\"'\r\n  },\r\n  john_carlton: {\r\n    id: 'john_carlton',\r\n    name: 'John Carlton',\r\n    description: 'Escrita \"punchy\" e ganchos de curiosidade'\r\n  },\r\n  drayton_bird: {\r\n    id: 'drayton_bird',\r\n    name: 'Drayton Bird',\r\n    description: 'Simplicidade e foco no benef√≠cio'\r\n  },\r\n  // Social Council\r\n  lia_haberman: {\r\n    id: 'lia_haberman',\r\n    name: 'Lia Haberman',\r\n    description: 'Algoritmo & Mudan√ßas (Tend√™ncias, atualiza√ß√µes de plataformas)'\r\n  },\r\n  rachel_karten: {\r\n    id: 'rachel_karten',\r\n    name: 'Rachel Karten',\r\n    description: 'Criativo & Hooks (Reten√ß√£o, engajamento visual, ganchos narrativos)'\r\n  },\r\n  nikita_beer: {\r\n    id: 'nikita_beer',\r\n    name: 'Nikita Beer',\r\n    description: 'Viraliza√ß√£o & Trends (Padr√µes virais, crescimento exponencial)'\r\n  },\r\n  justin_welsh: {\r\n    id: 'justin_welsh',\r\n    name: 'Justin Welsh',\r\n    description: 'Funil Social (Convers√£o de audi√™ncia social em clientes)'\r\n  },\r\n  // Ads Council\r\n  justin_brooke: {\r\n    id: 'justin_brooke',\r\n    name: 'Justin Brooke',\r\n    description: 'Estrat√©gia & Escala (Escala horizontal/vertical)'\r\n  },\r\n  nicholas_kusmich: {\r\n    id: 'nicholas_kusmich',\r\n    name: 'Nicholas Kusmich',\r\n    description: 'Meta Ads & Contexto (Congru√™ncia de mensagem)'\r\n  },\r\n  jon_loomer: {\r\n    id: 'jon_loomer',\r\n    name: 'Jon Loomer',\r\n    description: 'Analytics & T√©cnico (Pixel, CAPI, otimiza√ß√£o t√©cnica)'\r\n  },\r\n  savannah_sanchez: {\r\n    id: 'savannah_sanchez',\r\n    name: 'Savannah Sanchez',\r\n    description: 'TikTok & UGC (Ganchos de reten√ß√£o, an√∫ncios nativos)'\r\n  }\r\n};\r\n\r\nconst PARTY_MODE_SYSTEM_INSTRUCTIONS = `\r\nVoc√™ est√° em **MODO DEBATE (Party Mode)**. \r\nSeu objetivo √© simular uma delibera√ß√£o estrat√©gica entre os especialistas selecionados para resolver o desafio do usu√°rio.\r\n\r\n## Regras de Ouro do Debate:\r\n1. **Personas Distintas**: Cada especialista deve falar com seu tom de voz e expertise √∫nicos.\r\n2. **Intera√ß√£o & Contexto Cruzado (OBRIGAT√ìRIO)**: \r\n    - **Cota de Men√ß√µes**: Cada especialista (exceto o primeiro) DEVE mencionar e reagir diretamente a pelo menos UM colega anterior pelo nome.\r\n    - **Gatilho de UI**: A interface destaca men√ß√µes autom√°ticas. Use nomes completos (ex: \"Russell Brunson\") ou sobrenomes (ex: \"Kennedy\") para ativar os badges visuais na UI.\r\n    - **Rea√ß√£o de Abertura**: Comece sua fala validando, refutando ou expandindo algo dito pelo especialista anterior. \r\n    - **Sinergia**: Como sua expertise (ex: Ads) impacta ou √© impactada pela especialidade do outro (ex: Copy)? (Ex: \"Se o Kennedy n√£o criar uma oferta de entrada forte, Sam Ovens n√£o conseguir√° escalar o tr√°fego\").\r\n3. **Formata√ß√£o Estrita**: Use o header **[NOME_DO_AGENTE]** em negrito e caixa alta no in√≠cio de cada fala. **Nunca use a sintaxe @id; apenas nomes (com ou sem sobrenome) em negrito.**\r\n4. **Separador**: Use \\`--- \\` antes do Veredito do Moderador.\r\n5. **Veredito do Moderador**: Voc√™ **DEVE** finalizar a resposta como ### ‚öñÔ∏è Veredito do Conselho. O moderador atua como um **CSO (Chief Strategy Officer)**. Sua fun√ß√£o √©:\r\n    - **Sintetizar**: Condensar os pontos principais do debate citando nominalmente os especialistas.\r\n    - **Consenso do Conselho**: Crie um par√°grafo final sob a tag [VEREDITO_DO_CONSELHO] que sintetiza os pontos de acordo e resolve as diverg√™ncias.\r\n    - **Arbitrar**: Se houver diverg√™ncias entre especialistas, escolha o caminho mais seguro e lucrativo para a MARCA espec√≠fica do usu√°rio.\r\n    - **Action Plan**: Transformar o debate em 3 a 5 passos pr√°ticos e imediatos.\r\n    - **Pricing Focus**: Sempre avalie se h√° oportunidade de aplicar o **Framework de Elasticidade de Pre√ßo** para aumentar o ticket m√©dio sem prejudicar a convers√£o.\r\n    - **P√© no Ch√£o**: Filtrar sugest√µes que exijam recursos que o usu√°rio claramente n√£o possui (baseado no contexto).\r\n\r\n## Estrutura da Resposta (Siga Rigorosamente):\r\n### üéôÔ∏è Delibera√ß√£o do Conselho\r\n\r\n**[NOME_AGENTE_1]**: ...\r\n**[NOME_AGENTE_2]**: (Reage ao Agente 1) ...\r\n**[NOME_AGENTE_3]**: (Interage com Agente 1 e 2) ...\r\n(e assim por diante)\r\n\r\n---\r\n### ‚öñÔ∏è Veredito do Conselho\r\n[VEREDITO_DO_CONSELHO]\r\n(S√≠ntese unificada resolvendo diverg√™ncias e citando os nomes)\r\n\r\n(Action Plan com 3-5 passos pr√°ticos)\r\n\r\n## Regras de Neg√≥cio:\r\n- Use o contexto da marca fornecido (tom, p√∫blico, ativos).\r\n- Cite arquivos de contexto quando utilizados.\r\n- Responda em Portugu√™s Brasileiro.\r\n`;\r\n\r\nexport interface PartyModeOptions {\r\n  intensity?: 'debate' | 'consensus';\r\n}\r\n\r\nexport function buildPartyPrompt(\r\n  query: string,\r\n  context: string,\r\n  selectedAgentIds: string[],\r\n  options: PartyModeOptions = { intensity: 'debate' }\r\n): string {\r\n  const selectedAgents = selectedAgentIds\r\n    .map(id => AGENTS_MAP[id])\r\n    .filter(Boolean);\r\n\r\n  const agentsDescription = selectedAgents\r\n    .map(agent => `- **${agent.name}**: ${agent.description}`)\r\n    .join('\\n');\r\n\r\n  const intensityInstruction = options.intensity === 'consensus' \r\n    ? 'O objetivo desta delibera√ß√£o √© chegar a um **consenso unificado**. Os especialistas devem trabalhar juntos para construir uma √∫nica vis√£o coesa.'\r\n    : 'O objetivo desta delibera√ß√£o √© um **debate vigoroso**. Os especialistas devem destacar diferentes pontos de vista, diverg√™ncias estrat√©gicas e alternativas, permitindo que o usu√°rio veja m√∫ltiplos √¢ngulos do problema.';\r\n\r\n  return `${CHAT_SYSTEM_PROMPT}\r\n\r\n${PARTY_MODE_SYSTEM_INSTRUCTIONS}\r\n\r\n## Objetivo da Din√¢mica:\r\n${intensityInstruction}\r\n\r\n## Especialistas Convocados para esta Mesa Redonda:\r\n${agentsDescription}\r\n\r\n## Contexto e Ativos da Marca\r\n${context || 'Nenhum contexto espec√≠fico da marca fornecido.'}\r\n\r\n## Pergunta/Desafio do Usu√°rio\r\n${query}\r\n\r\n## Protocolo de Intera√ß√£o (LEMBRETE CR√çTICO):\r\n1. O primeiro agente a falar deve abrir a discuss√£o com sua perspectiva √∫nica.\r\n2. Todos os agentes subsequentes DEVEM iniciar suas falas mencionando nominalmente o agente anterior e reagindo √† sua proposta.\r\n3. Busque o \"Cross-Context\": como sua √°rea de expertise resolve gargalos levantados pelos outros.\r\n4. O Moderador deve fechar citando quem deu as melhores ideias.\r\n\r\n## In√≠cio da Delibera√ß√£o do Conselho:\r\n### üéôÔ∏è Delibera√ß√£o do Conselho\r\n`;\r\n}\r\n"],"names":[],"mappings":"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"}